webpackHotUpdate("main",{

/***/ "./src/music.js":
/*!**********************!*\
  !*** ./src/music.js ***!
  \**********************/
/*! exports provided: Music */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Music\", function() { return Music; });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _music_blocks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./music_blocks */ \"./src/music_blocks.js\");\n/* harmony import */ var _music_block_generators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./music_block_generators */ \"./src/music_block_generators.js\");\n/* harmony import */ var js_interpreter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! js-interpreter */ \"./node_modules/js-interpreter/lib/js-interpreter.js\");\n/* harmony import */ var js_interpreter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(js_interpreter__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _note_player__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./note_player */ \"./src/note_player.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Game logic for music game.\n */\n\n\n\n\n\n/**\n * Constant denoting a rest.\n */\n\nvar REST = 'REST';\n/**\n * Class representing transcript of notes played.\n */\n\nvar Transcript = /*#__PURE__*/function () {\n  /**\n   * Class for holding transcript of notes that were played. Expects\n   * notesAndRests and durations to have a matching length.\n   * @param {Array<string>} notesAndRests The notes and rests.\n   * @param {Array<number>} durations The durations of the notes and rests.\n   */\n  function Transcript() {\n    var notesAndRests = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var durations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    _classCallCheck(this, Transcript);\n\n    if (notesAndRests.length !== durations.length) {\n      console.error('Transcript length mismatch.');\n    }\n\n    this.notesAndRests = [];\n    this.durations = [];\n    this.size = 0;\n    this.readableText_ = '';\n\n    for (var i = 0; i < notesAndRests.length; i++) {\n      this.appendNote(notesAndRests[i], durations[i]);\n    }\n  }\n  /**\n   * Converts duration number into approriate string.\n   * @param {number} duration The duration.\n   * @return {string} The string version of duration.\n   * @private\n   */\n\n\n  _createClass(Transcript, [{\n    key: \"appendReadableText_\",\n\n    /**\n     * Internal method for appending text to transcript text.\n     * @param {string} text The text to append.\n     * @private\n     */\n    value: function appendReadableText_(text) {\n      if (this.readableText_) {\n        this.readableText_ += ', ';\n      } else {\n        text = text.charAt(0).toUpperCase() + text.slice(1);\n      }\n\n      this.readableText_ += text;\n    }\n    /**\n     * Returns sentence representing the notes played in this transcript.\n     * @return {string} The sentence.\n     */\n\n  }, {\n    key: \"getReadableText\",\n    value: function getReadableText() {\n      if (!this.readableText_) {\n        return 'Empty.';\n      }\n\n      var items = this.readableText_.split(',');\n\n      if (items.length > 1) {\n        items[items.length - 1] = ' and ' + items[items.length - 1];\n      }\n\n      return items.join(',') + '.';\n    }\n    /**\n     * Appends note to transcript.\n     * @param {string} note The pitch of note to append.\n     * @param {number} duration The duration of the note.\n     */\n\n  }, {\n    key: \"appendNote\",\n    value: function appendNote(note, duration) {\n      this.notesAndRests.push(note);\n      this.durations.push(duration);\n      this.appendReadableText_(\"play \".concat(Transcript.getDurationText_(duration), \" note \").concat(note));\n      this.size++;\n    }\n    /**\n     * Appends rest to transcript.\n     * @param {number} duration The duration of the rest.\n     */\n\n  }, {\n    key: \"appendRest\",\n    value: function appendRest(duration) {\n      this.notesAndRests.push(REST);\n      this.durations.push(duration);\n      this.appendReadableText_(\"\".concat(Transcript.getDurationText_(duration), \" rest\"));\n      this.size++;\n    }\n  }], [{\n    key: \"getDurationText_\",\n    value: function getDurationText_(duration) {\n      var durationText = 'unknown';\n\n      switch (duration) {\n        case 1:\n          durationText = 'whole';\n          break;\n\n        case 0.5:\n          durationText = 'half';\n          break;\n\n        case 0.25:\n          durationText = 'quarter';\n          break;\n\n        case 0.125:\n          durationText = 'eight';\n          break;\n      }\n\n      return durationText;\n    }\n  }]);\n\n  return Transcript;\n}();\n/**\n * Class representing musical stave.\n */\n\n\nvar Stave = /*#__PURE__*/function () {\n  /**\n   * Class holding code for music to play.\n   * @param {number} id The unique id of this stave.\n   * @param {Array<Interpreter.State>} stateStack The stateStack containing code\n   *    for this stave.\n   */\n  function Stave(id, stateStack) {\n    _classCallCheck(this, Stave);\n\n    /**\n     * The id.\n     * @type {number}\n     */\n    this.id = id;\n    /**\n     * The state stack.\n     * @type {Array<Interpreter.State>}\n     */\n\n    this.stateStack = stateStack;\n    /**\n     * Whether all the notes have ben played.\n     * @type {boolean}\n     */\n\n    this.done = false;\n    /**\n     * The time to pause till.\n     * @type {number}\n     * @private\n     */\n\n    this.pauseUntil64ths_ = 0;\n    /**\n     * The transcript of notes played.\n     * @type {Transcript}\n     * @private\n     */\n\n    this.transcript_ = new Transcript();\n    /**\n     * Currently playing note.\n     * @type {string}\n     * @private\n     */\n\n    this.note_ = '';\n  }\n  /**\n   * Whether this stave is currently paused.\n   * @param {number} clock64ths Number of 1/64ths notes since the start.\n   * @return {boolean} Whether this stave is paused.\n   */\n\n\n  _createClass(Stave, [{\n    key: \"isPaused\",\n    value: function isPaused(clock64ths) {\n      return this.pauseUntil64ths_ > clock64ths;\n    }\n    /**\n     * Play one note.\n     * @param {number} duration Fraction of a whole note length to play.\n     * @param {string} pitch Note to play.\n     * @param {number} clock64ths Number of 1/64ths notes since the start.\n     */\n\n  }, {\n    key: \"play\",\n    value: function play(duration, pitch, clock64ths) {\n      this.stopSound();\n      this.note_ = pitch;\n      _note_player__WEBPACK_IMPORTED_MODULE_4__[\"notePlayer\"].triggerAttack(pitch);\n      this.pauseUntil64ths_ = duration * 64 + clock64ths; // Make a record of this note.\n\n      this.transcript_.appendNote(pitch, duration);\n    }\n    /**\n     * Wait one rest.\n     * @param {number} duration Fraction of a whole note length to rest.\n     * @param {number} clock64ths Number of 1/64ths notes since the start.\n     */\n\n  }, {\n    key: \"rest\",\n    value: function rest(duration, clock64ths) {\n      this.stopSound();\n      this.pauseUntil64ths_ = duration * 64 + clock64ths; // Make a record of this rest.\n\n      this.transcript_.appendRest(duration);\n    }\n    /**\n     * Stops currently playing note.\n     */\n\n  }, {\n    key: \"stopSound\",\n    value: function stopSound() {\n      if (this.note_) {\n        _note_player__WEBPACK_IMPORTED_MODULE_4__[\"notePlayer\"].triggerRelease();\n        this.note_ = '';\n      }\n    }\n    /**\n     * Returns feedback on what is different between the loaded transcript and the\n     * expected one, or empty string if they are equal.\n     * @param {Transcript} expectedTranscript The expected transcript.\n     * @return {string} The feedback.\n     */\n\n  }, {\n    key: \"getFeedback\",\n    value: function getFeedback(expectedTranscript) {\n      var feedback = ''; // There could be extra or missing notes.\n\n      var actualSize = this.transcript_.size;\n      var expectedSize = expectedTranscript.size;\n      var sizeMismatch = actualSize !== expectedSize;\n\n      if (actualSize < expectedSize) {\n        feedback += 'Your solution is missing notes.\\n';\n      } else if (actualSize > expectedSize) {\n        feedback += 'Your solution has extra notes.\\n';\n      } // The notes played could be wrong (duration or note).\n\n\n      var hasIncorrectNotes = false;\n      var hasIncorrectDuration = false;\n\n      for (var i = 0; i < actualSize && i < expectedSize; i++) {\n        if (this.transcript_.notesAndRests[i] !== expectedTranscript.notesAndRests[i]) {\n          hasIncorrectNotes = true;\n        }\n\n        if (this.transcript_.durations[i] !== expectedTranscript.durations[i]) {\n          hasIncorrectDuration = true;\n        }\n      }\n\n      if (hasIncorrectNotes) {\n        feedback += \"Some of the notes \".concat(sizeMismatch ? 'may be' : 'are', \" incorrect.\\n\");\n      }\n\n      if (hasIncorrectDuration) {\n        feedback += \"Some of the note durations \" + \"\".concat(sizeMismatch ? 'may be' : 'are', \" incorrect.\\n\");\n      } // Append the actual and expected notes played.\n\n\n      if (sizeMismatch || hasIncorrectNotes || hasIncorrectDuration) {\n        feedback += \"\\nYour solution: \".concat(this.transcript_.getReadableText() || 'empty', \"\\n\");\n        feedback += \"Expected solution: \".concat(expectedTranscript.getReadableText());\n      }\n\n      return feedback;\n    }\n  }]);\n\n  return Stave;\n}();\n/**\n * Game logic for music game.\n */\n\n\nvar Music = /*#__PURE__*/function () {\n  /**\n   * Class for a music game.\n   * @param {Blockly.WorkspaceSvg} workspace The Blockly workspace.\n   * @param {function(string)} onGoalUpdateCb The callback function for goal\n   *    change.\n   * @param {function()} onSuccessCb The callback function for on success event.\n   * @param {function(string)} onFailureCb The callback function for on failure\n   *    event.\n   * @constructor\n   */\n  function Music(workspace, onGoalUpdateCb, onSuccessCb, onFailureCb) {\n    _classCallCheck(this, Music);\n\n    /**\n     * The Blockly workspace associated with this game.\n     * @type {!Blockly.WorkspaceSvg}\n     */\n    this.workspace = workspace;\n    /**\n     * The currently loaded level. 0 if no level loaded.\n     */\n\n    this.level = 0;\n    /**\n     * Callback function for goal update.\n     * @param {string} text The text to set the goal to.\n     */\n\n    this.onGoalUpdate = onGoalUpdateCb;\n    /**\n     * The expected answer.\n     * @type {Array<Transcript>}\n     * @private\n     */\n\n    this.expectedAnswer_ = [];\n    /**\n     * The interpreter.\n     * @type {?Interpreter}\n     * @private\n     */\n\n    this.interpreter_ = null;\n    /**\n     * @type {Array<Stave>}\n     * @private\n     */\n\n    this.staves_ = [];\n    /**\n     * The current active stave.\n     * @type {?Stave}\n     * @private\n     */\n\n    this.activeStave_ = null;\n    /**\n     * Time of start of execution.\n     * @type {number}\n     * @private\n     */\n\n    this.startTime_ = 0;\n    /**\n     * Number of 1/64ths notes since the start.\n     * @type {number}\n     * @private\n     */\n\n    this.clock64ths_ = 0;\n    /**\n     * The speed at which to play notes. Between 0 and 1, with 0 being slow,\n     * 0.5 being normal speed, and 1 being fast.\n     * @type {number}\n     * @private\n     */\n\n    this.speed_ = 0.5;\n    /**\n     * The id of the last setTimeout call. Used for game reset.\n     * @type {number}\n     * @private\n     */\n\n    this.pid_ = 0;\n    /**\n     * The callback function on level success.\n     * @type {function()}\n     * @private\n     */\n\n    this.onSuccessCallback_ = onSuccessCb;\n    /**\n     * The callback function on level failure.\n     * @type {function(string)}\n     * @param {string} feedback The level feedback.\n     * @private\n     */\n\n    this.onFailureCallback_ = onFailureCb;\n    this.registerPlayShortcut();\n  }\n  /**\n   * Registers a shortcut to play the notes on the workspace.\n   */\n\n\n  _createClass(Music, [{\n    key: \"registerPlayShortcut\",\n    value: function registerPlayShortcut() {\n      var newFunction = function () {\n        this.execute();\n      }.bind(this);\n      /** @type {!Blockly.ShortcutRegistry.KeyboardShortcut} */\n\n\n      var playShortcut = {\n        name: 'playShortcut',\n        preconditionFn: function preconditionFn(workspace) {\n          return workspace.keyboardAccessibilityMode && !workspace.options.readOnly;\n        },\n        callback: newFunction\n      };\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry.register(playShortcut);\n      var shiftW = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry.createSerializedKey(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.utils.KeyCodes.P, [blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.utils.KeyCodes.SHIFT]);\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry.addKeyMapping(shiftW, playShortcut.name);\n    }\n    /**\n     * Clears the workspace and loads the specified blocks.\n     * @param {string} blockXml The xml text string of blocks.\n     */\n\n  }, {\n    key: \"loadWorkspaceBlocks\",\n    value: function loadWorkspaceBlocks(blockXml) {\n      this.workspace.clear();\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Xml.domToWorkspace(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Xml.textToDom(blockXml), this.workspace);\n    }\n    /**\n     * Updates the currently loaded toolbox.\n     * @param {?Blockly.utils.toolbox.ToolboxDefinition} toolboxDef\n     *    DOM tree of toolbox contents, string of toolbox contents, or JSON\n     *    representing toolbox definition.\n     */\n\n  }, {\n    key: \"updateToolbox\",\n    value: function updateToolbox(toolboxDef) {\n      this.workspace.updateToolbox(toolboxDef);\n    }\n    /**\n     * Updates the goal based on the current level.\n     * @private\n     */\n\n  }, {\n    key: \"updateLevelGoal_\",\n    value: function updateLevelGoal_() {\n      var goalText = '';\n\n      switch (this.level) {\n        case 1:\n          this.expectedAnswer_ = [new Transcript(['C4', 'D4', 'E4', 'C4'], Array(4).fill(0.25))];\n          goalText = this.expectedAnswer_[0].getReadableText();\n          break;\n      }\n\n      this.onGoalUpdate(goalText);\n    }\n    /**\n     * Updates the toolbox based on the current level.\n     * @private\n     */\n\n  }, {\n    key: \"updateLevelToolbox_\",\n    value: function updateLevelToolbox_() {\n      var toolboxJson = {\n        'kind': 'flyoutToolbox',\n        'contents': [{\n          'kind': 'block',\n          'blockxml': \"<block type=\\\"music_note\\\">\\n                        <field name=\\\"DURATION\\\">0.25</field>\\n                        <value name=\\\"PITCH\\\">\\n                          <shadow type=\\\"music_pitch\\\">\\n                            <field name=\\\"PITCH\\\">C4</field>\\n                          </shadow>\\n                        </value>\\n                      </block>\"\n        }, {\n          'kind': 'block',\n          'type': 'music_rest'\n        }]\n      };\n      this.updateToolbox(toolboxJson);\n    }\n    /**\n     * Update the workspace blocks based on the current level.\n     * @private\n     */\n\n  }, {\n    key: \"loadLevelBlocks_\",\n    value: function loadLevelBlocks_() {\n      var levelXml = \"<xml>\\n            <block type=\\\"music_start\\\" deletable=\\\"false\\\" x=\\\"180\\\"\\n            y=\\\"50\\\"></block>\\n          </xml>\";\n      this.loadWorkspaceBlocks(levelXml);\n    }\n    /**\n     * Load the specified level.\n     * @param {number|string} level The level to load.\n     */\n\n  }, {\n    key: \"loadLevel\",\n    value: function loadLevel(level) {\n      this.level = Number(level);\n      this.updateLevelGoal_();\n      this.updateLevelToolbox_();\n      this.loadLevelBlocks_();\n    }\n    /**\n     * Set the speed (Number between 0 and 1).\n     * @param {number} speed The speed to set to.\n     */\n\n  }, {\n    key: \"setSpeed\",\n    value: function setSpeed(speed) {\n      if (speed <= 0 || speed > 1) {\n        console.error('Invalid speed');\n        return;\n      }\n\n      this.speed_ = speed;\n      this.startTime_ = 0;\n    }\n    /**\n     * Generates code and logs it to the console.\n     */\n\n  }, {\n    key: \"logGeneratedCode\",\n    value: function logGeneratedCode() {\n      var codeJs = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.JavaScript.workspaceToCode(this.workspace);\n      console.log(codeJs);\n    }\n    /**\n     * Reset the music to the start position, clear the display, and kill any\n     * pending tasks.\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      // Kill any task.\n      clearTimeout(this.pid_);\n      this.staves_.forEach(function (stave) {\n        stave.stopSound();\n      });\n      this.interpreter_ = null;\n      this.activeStave_ = null;\n      this.staves_.length = 0;\n      this.clock64ths_ = 0;\n      this.startTime_ = 0;\n    }\n    /**\n     * Plays music based on the blocks on the workspace.\n     */\n\n  }, {\n    key: \"execute\",\n    value: function execute() {\n      var _this = this;\n\n      this.reset(); // Get generated code from workspace\n\n      var code = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.JavaScript.workspaceToCode(this.workspace); // Run user code.\n\n      this.interpreter_ = new js_interpreter__WEBPACK_IMPORTED_MODULE_3___default.a(code, this.interpreterInit_.bind(this)); // TODO add support for multiple threads.\n\n      var interpreter = new js_interpreter__WEBPACK_IMPORTED_MODULE_3___default.a(''); // Replace this thread's global scope with the cross-thread global.\n\n      interpreter.stateStack[0].scope = this.interpreter_.globalScope; // Add start call.\n\n      interpreter.appendCode('start();\\n');\n      this.staves_.push(new Stave(0, interpreter.stateStack));\n      this.pid_ = setTimeout(function () {\n        return _this.tick_();\n      }, 100);\n    }\n    /**\n     * Inject the Music API into a JavaScript interpreter.\n     * @param {!Interpreter} interpreter The JS-Interpreter.\n     * @param {!Interpreter.Object} globalObject Global object.\n     * @private\n     */\n\n  }, {\n    key: \"interpreterInit_\",\n    value: function interpreterInit_(interpreter, globalObject) {\n      var _this2 = this;\n\n      // API\n      var wrapper;\n\n      wrapper = function wrapper(duration, pitch, _id) {\n        _this2.play_(duration, pitch);\n      };\n\n      interpreter.setProperty(globalObject, 'play', interpreter.createNativeFunction(wrapper));\n\n      wrapper = function wrapper(duration, _id) {\n        _this2.rest_(duration);\n      };\n\n      interpreter.setProperty(globalObject, 'rest', interpreter.createNativeFunction(wrapper)); // TODO implement setInstrument API.\n    }\n    /**\n     * Play one note.\n     * @param {number} duration Fraction of a whole note length to play.\n     * @param {string} pitch Note play.\n     * @private\n     */\n\n  }, {\n    key: \"play_\",\n    value: function play_(duration, pitch) {\n      this.activeStave_.play(duration, pitch, this.clock64ths_);\n    }\n    /**\n     * Wait one rest.\n     * @param {number} duration Fraction of a whole note length to rest.\n     * @private\n     */\n\n  }, {\n    key: \"rest_\",\n    value: function rest_(duration) {\n      this.activeStave_.rest(duration, this.clock64ths_);\n    }\n    /**\n     * Execute a 1/64th tick of the program.\n     * @private\n     */\n\n  }, {\n    key: \"tick_\",\n    value: function tick_() {\n      var _this3 = this;\n\n      // Delay between start of each beat (1/64ths of a whole note).\n      // Reminder: The startTime_ should be reset after the slider is adjusted.\n      var scaleDuration = 1000 * (2.5 - 2 * this.speed_) / 64;\n\n      if (!this.startTime_) {\n        // Either the first tick, or first tick after slider was adjusted.\n        this.startTime_ = Date.now() - this.clock64ths_ * scaleDuration;\n      }\n\n      var done = true;\n      this.staves_.forEach(function (stave) {\n        if (!stave.done) {\n          done = false;\n\n          if (!stave.isPaused(_this3.clock64ths_)) {\n            _this3.executeChunk_(stave);\n          }\n        }\n      });\n\n      if (done) {\n        // Program complete.\n        var feedback = this.checkAnswer_();\n\n        if (feedback) {\n          this.onFailureCallback_(feedback);\n        } else {\n          this.onSuccessCallback_();\n        }\n      } else {\n        this.clock64ths_++;\n        var ms = this.startTime_ + this.clock64ths_ * scaleDuration - Date.now();\n        this.pid_ = setTimeout(function () {\n          return _this3.tick_();\n        }, ms);\n      }\n    }\n    /**\n     * Execute a bite-sized chunk of the user's code.\n     * @param {Stave} stave The stave to execute.\n     * @private\n     */\n\n  }, {\n    key: \"executeChunk_\",\n    value: function executeChunk_(stave) {\n      this.activeStave_ = stave; // Switch the interpreter to run the provided staff.\n\n      this.interpreter_.stateStack = stave.stateStack;\n      var ticks = 10000;\n      var go;\n\n      do {\n        try {\n          go = this.interpreter_.step();\n        } catch (e) {\n          // User error, terminate in shame.\n          alert(e);\n          go = false;\n        }\n\n        if (ticks-- == 0) {\n          console.warn('Staff ' + stave.id + ' is running slowly.');\n          return;\n        }\n\n        if (stave.isPaused(this.clock64ths_)) {\n          // Previously executed command (play or rest) requested a pause.\n          return;\n        }\n      } while (go); // Thread complete.  Wrap up.\n\n\n      stave.stopSound(stave);\n      stave.done = true;\n    }\n    /**\n     * Evaluates whether the answer for the currently loaded level is correct.\n     * Returns level feedback if correct or empty string if correct.\n     * @return {string} Level feedback or empty string.\n     * @private\n     */\n\n  }, {\n    key: \"checkAnswer_\",\n    value: function checkAnswer_() {\n      var feedback = '';\n\n      for (var i = 0; i < this.expectedAnswer_.length; i++) {\n        var staveFeedback = this.staves_[i].getFeedback(this.expectedAnswer_[i]);\n\n        if (staveFeedback) {\n          feedback += staveFeedback;\n        }\n      }\n\n      return feedback;\n    }\n  }]);\n\n  return Music;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbXVzaWMuanM/MmE0ZiJdLCJuYW1lcyI6WyJSRVNUIiwiVHJhbnNjcmlwdCIsIm5vdGVzQW5kUmVzdHMiLCJkdXJhdGlvbnMiLCJsZW5ndGgiLCJjb25zb2xlIiwiZXJyb3IiLCJzaXplIiwicmVhZGFibGVUZXh0XyIsImkiLCJhcHBlbmROb3RlIiwidGV4dCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJpdGVtcyIsInNwbGl0Iiwiam9pbiIsIm5vdGUiLCJkdXJhdGlvbiIsInB1c2giLCJhcHBlbmRSZWFkYWJsZVRleHRfIiwiZ2V0RHVyYXRpb25UZXh0XyIsImR1cmF0aW9uVGV4dCIsIlN0YXZlIiwiaWQiLCJzdGF0ZVN0YWNrIiwiZG9uZSIsInBhdXNlVW50aWw2NHRoc18iLCJ0cmFuc2NyaXB0XyIsIm5vdGVfIiwiY2xvY2s2NHRocyIsInBpdGNoIiwic3RvcFNvdW5kIiwibm90ZVBsYXllciIsInRyaWdnZXJBdHRhY2siLCJhcHBlbmRSZXN0IiwidHJpZ2dlclJlbGVhc2UiLCJleHBlY3RlZFRyYW5zY3JpcHQiLCJmZWVkYmFjayIsImFjdHVhbFNpemUiLCJleHBlY3RlZFNpemUiLCJzaXplTWlzbWF0Y2giLCJoYXNJbmNvcnJlY3ROb3RlcyIsImhhc0luY29ycmVjdER1cmF0aW9uIiwiZ2V0UmVhZGFibGVUZXh0IiwiTXVzaWMiLCJ3b3Jrc3BhY2UiLCJvbkdvYWxVcGRhdGVDYiIsIm9uU3VjY2Vzc0NiIiwib25GYWlsdXJlQ2IiLCJsZXZlbCIsIm9uR29hbFVwZGF0ZSIsImV4cGVjdGVkQW5zd2VyXyIsImludGVycHJldGVyXyIsInN0YXZlc18iLCJhY3RpdmVTdGF2ZV8iLCJzdGFydFRpbWVfIiwiY2xvY2s2NHRoc18iLCJzcGVlZF8iLCJwaWRfIiwib25TdWNjZXNzQ2FsbGJhY2tfIiwib25GYWlsdXJlQ2FsbGJhY2tfIiwicmVnaXN0ZXJQbGF5U2hvcnRjdXQiLCJuZXdGdW5jdGlvbiIsImV4ZWN1dGUiLCJiaW5kIiwicGxheVNob3J0Y3V0IiwibmFtZSIsInByZWNvbmRpdGlvbkZuIiwia2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZSIsIm9wdGlvbnMiLCJyZWFkT25seSIsImNhbGxiYWNrIiwiQmxvY2tseSIsIlNob3J0Y3V0UmVnaXN0cnkiLCJyZWdpc3RyeSIsInJlZ2lzdGVyIiwic2hpZnRXIiwiY3JlYXRlU2VyaWFsaXplZEtleSIsInV0aWxzIiwiS2V5Q29kZXMiLCJQIiwiU0hJRlQiLCJhZGRLZXlNYXBwaW5nIiwiYmxvY2tYbWwiLCJjbGVhciIsIlhtbCIsImRvbVRvV29ya3NwYWNlIiwidGV4dFRvRG9tIiwidG9vbGJveERlZiIsInVwZGF0ZVRvb2xib3giLCJnb2FsVGV4dCIsIkFycmF5IiwiZmlsbCIsInRvb2xib3hKc29uIiwibGV2ZWxYbWwiLCJsb2FkV29ya3NwYWNlQmxvY2tzIiwiTnVtYmVyIiwidXBkYXRlTGV2ZWxHb2FsXyIsInVwZGF0ZUxldmVsVG9vbGJveF8iLCJsb2FkTGV2ZWxCbG9ja3NfIiwic3BlZWQiLCJjb2RlSnMiLCJKYXZhU2NyaXB0Iiwid29ya3NwYWNlVG9Db2RlIiwibG9nIiwiY2xlYXJUaW1lb3V0IiwiZm9yRWFjaCIsInN0YXZlIiwicmVzZXQiLCJjb2RlIiwiSW50ZXJwcmV0ZXIiLCJpbnRlcnByZXRlckluaXRfIiwiaW50ZXJwcmV0ZXIiLCJzY29wZSIsImdsb2JhbFNjb3BlIiwiYXBwZW5kQ29kZSIsInNldFRpbWVvdXQiLCJ0aWNrXyIsImdsb2JhbE9iamVjdCIsIndyYXBwZXIiLCJfaWQiLCJwbGF5XyIsInNldFByb3BlcnR5IiwiY3JlYXRlTmF0aXZlRnVuY3Rpb24iLCJyZXN0XyIsInBsYXkiLCJyZXN0Iiwic2NhbGVEdXJhdGlvbiIsIkRhdGUiLCJub3ciLCJpc1BhdXNlZCIsImV4ZWN1dGVDaHVua18iLCJjaGVja0Fuc3dlcl8iLCJtcyIsInRpY2tzIiwiZ28iLCJzdGVwIiwiZSIsImFsZXJ0Iiwid2FybiIsInN0YXZlRmVlZGJhY2siLCJn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QSxDQUFDLEdBQUcsS0FBSzRDLGVBQUwsQ0FBcUJqRCxNQUF6QyxFQUFpREssQ0FBQyxFQUFsRCxFQUFzRDtBQUNwRCxZQUFNcUksYUFBYSxHQUNmLEtBQUt2RixPQUFMLENBQWE5QyxDQUFiLEVBQWdCc0ksV0FBaEIsQ0FBNEIsS0FBSzFGLGVBQUwsQ0FBcUI1QyxDQUFyQixDQUE1QixDQURKOztBQUVBLFlBQUlxSSxhQUFKLEVBQW1CO0FBQ2pCdkcsa0JBQVEsSUFBSXVHLGFBQVo7QUFDRDtBQUNGOztBQUNELGFBQU92RyxRQUFQO0FBQ0Q7QUFsWkg7O0FBQUE7QUFBQSIsImZpbGUiOiIuL3NyYy9tdXNpYy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEdhbWUgbG9naWMgZm9yIG11c2ljIGdhbWUuXG4gKi9cblxuaW1wb3J0IEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCAnLi9tdXNpY19ibG9ja3MnO1xuaW1wb3J0ICcuL211c2ljX2Jsb2NrX2dlbmVyYXRvcnMnO1xuaW1wb3J0IEludGVycHJldGVyIGZyb20gJ2pzLWludGVycHJldGVyJztcbmltcG9ydCB7bm90ZVBsYXllcn0gZnJvbSAnLi9ub3RlX3BsYXllcic7XG5cbi8qKlxuICogQ29uc3RhbnQgZGVub3RpbmcgYSByZXN0LlxuICovXG5jb25zdCBSRVNUID0gJ1JFU1QnO1xuXG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyB0cmFuc2NyaXB0IG9mIG5vdGVzIHBsYXllZC5cbiAqL1xuY2xhc3MgVHJhbnNjcmlwdCB7XG4gIC8qKlxuICAgKiBDbGFzcyBmb3IgaG9sZGluZyB0cmFuc2NyaXB0IG9mIG5vdGVzIHRoYXQgd2VyZSBwbGF5ZWQuIEV4cGVjdHNcbiAgICogbm90ZXNBbmRSZXN0cyBhbmQgZHVyYXRpb25zIHRvIGhhdmUgYSBtYXRjaGluZyBsZW5ndGguXG4gICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gbm90ZXNBbmRSZXN0cyBUaGUgbm90ZXMgYW5kIHJlc3RzLlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGR1cmF0aW9ucyBUaGUgZHVyYXRpb25zIG9mIHRoZSBub3RlcyBhbmQgcmVzdHMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihub3Rlc0FuZFJlc3RzID0gW10sIGR1cmF0aW9ucyA9IFtdKSB7XG4gICAgaWYgKG5vdGVzQW5kUmVzdHMubGVuZ3RoICE9PSBkdXJhdGlvbnMubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdUcmFuc2NyaXB0IGxlbmd0aCBtaXNtYXRjaC4nKTtcbiAgICB9XG4gICAgdGhpcy5ub3Rlc0FuZFJlc3RzID0gW107XG4gICAgdGhpcy5kdXJhdGlvbnMgPSBbXTtcbiAgICB0aGlzLnNpemUgPSAwO1xuICAgIHRoaXMucmVhZGFibGVUZXh0XyA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm90ZXNBbmRSZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5hcHBlbmROb3RlKG5vdGVzQW5kUmVzdHNbaV0sIGR1cmF0aW9uc1tpXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGR1cmF0aW9uIG51bWJlciBpbnRvIGFwcHJvcmlhdGUgc3RyaW5nLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgdmVyc2lvbiBvZiBkdXJhdGlvbi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBnZXREdXJhdGlvblRleHRfKGR1cmF0aW9uKSB7XG4gICAgbGV0IGR1cmF0aW9uVGV4dCA9ICd1bmtub3duJztcbiAgICBzd2l0Y2ggKGR1cmF0aW9uKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIGR1cmF0aW9uVGV4dCA9ICd3aG9sZSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAwLjU6XG4gICAgICAgIGR1cmF0aW9uVGV4dCA9ICdoYWxmJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDAuMjU6XG4gICAgICAgIGR1cmF0aW9uVGV4dCA9ICdxdWFydGVyJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDAuMTI1OlxuICAgICAgICBkdXJhdGlvblRleHQgPSAnZWlnaHQnO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGR1cmF0aW9uVGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm5hbCBtZXRob2QgZm9yIGFwcGVuZGluZyB0ZXh0IHRvIHRyYW5zY3JpcHQgdGV4dC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgdG8gYXBwZW5kLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXBwZW5kUmVhZGFibGVUZXh0Xyh0ZXh0KSB7XG4gICAgaWYgKHRoaXMucmVhZGFibGVUZXh0Xykge1xuICAgICAgdGhpcy5yZWFkYWJsZVRleHRfICs9ICcsICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRleHQgPSB0ZXh0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGV4dC5zbGljZSgxKTtcbiAgICB9XG4gICAgdGhpcy5yZWFkYWJsZVRleHRfICs9IHRleHQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBzZW50ZW5jZSByZXByZXNlbnRpbmcgdGhlIG5vdGVzIHBsYXllZCBpbiB0aGlzIHRyYW5zY3JpcHQuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHNlbnRlbmNlLlxuICAgKi9cbiAgZ2V0UmVhZGFibGVUZXh0KCkge1xuICAgIGlmICghdGhpcy5yZWFkYWJsZVRleHRfKSB7XG4gICAgICByZXR1cm4gJ0VtcHR5Lic7XG4gICAgfVxuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5yZWFkYWJsZVRleHRfLnNwbGl0KCcsJyk7XG4gICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgIGl0ZW1zW2l0ZW1zLmxlbmd0aCAtIDFdID0gJyBhbmQgJyArIGl0ZW1zW2l0ZW1zLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4gaXRlbXMuam9pbignLCcpICsgJy4nO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgbm90ZSB0byB0cmFuc2NyaXB0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbm90ZSBUaGUgcGl0Y2ggb2Ygbm90ZSB0byBhcHBlbmQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24gb2YgdGhlIG5vdGUuXG4gICAqL1xuICBhcHBlbmROb3RlKG5vdGUsIGR1cmF0aW9uKSB7XG4gICAgdGhpcy5ub3Rlc0FuZFJlc3RzLnB1c2gobm90ZSk7XG4gICAgdGhpcy5kdXJhdGlvbnMucHVzaChkdXJhdGlvbik7XG4gICAgdGhpcy5hcHBlbmRSZWFkYWJsZVRleHRfKFxuICAgICAgICBgcGxheSAke1RyYW5zY3JpcHQuZ2V0RHVyYXRpb25UZXh0XyhkdXJhdGlvbil9IG5vdGUgJHtub3RlfWApO1xuICAgIHRoaXMuc2l6ZSsrO1xuICB9XG4gIC8qKlxuICAgKiBBcHBlbmRzIHJlc3QgdG8gdHJhbnNjcmlwdC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBvZiB0aGUgcmVzdC5cbiAgICovXG4gIGFwcGVuZFJlc3QoZHVyYXRpb24pIHtcbiAgICB0aGlzLm5vdGVzQW5kUmVzdHMucHVzaChSRVNUKTtcbiAgICB0aGlzLmR1cmF0aW9ucy5wdXNoKGR1cmF0aW9uKTtcbiAgICB0aGlzLmFwcGVuZFJlYWRhYmxlVGV4dF8oXG4gICAgICAgIGAke1RyYW5zY3JpcHQuZ2V0RHVyYXRpb25UZXh0XyhkdXJhdGlvbil9IHJlc3RgKTtcbiAgICB0aGlzLnNpemUrKztcbiAgfVxufVxuXG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBtdXNpY2FsIHN0YXZlLlxuICovXG5jbGFzcyBTdGF2ZSB7XG4gIC8qKlxuICAgKiBDbGFzcyBob2xkaW5nIGNvZGUgZm9yIG11c2ljIHRvIHBsYXkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpZCBUaGUgdW5pcXVlIGlkIG9mIHRoaXMgc3RhdmUuXG4gICAqIEBwYXJhbSB7QXJyYXk8SW50ZXJwcmV0ZXIuU3RhdGU+fSBzdGF0ZVN0YWNrIFRoZSBzdGF0ZVN0YWNrIGNvbnRhaW5pbmcgY29kZVxuICAgKiAgICBmb3IgdGhpcyBzdGF2ZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGlkLCBzdGF0ZVN0YWNrKSB7XG4gICAgLyoqXG4gICAgICogVGhlIGlkLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0ZSBzdGFjay5cbiAgICAgKiBAdHlwZSB7QXJyYXk8SW50ZXJwcmV0ZXIuU3RhdGU+fVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGVTdGFjayA9IHN0YXRlU3RhY2s7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGFsbCB0aGUgbm90ZXMgaGF2ZSBiZW4gcGxheWVkLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbWUgdG8gcGF1c2UgdGlsbC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5wYXVzZVVudGlsNjR0aHNfID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0cmFuc2NyaXB0IG9mIG5vdGVzIHBsYXllZC5cbiAgICAgKiBAdHlwZSB7VHJhbnNjcmlwdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudHJhbnNjcmlwdF8gPSBuZXcgVHJhbnNjcmlwdCgpO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudGx5IHBsYXlpbmcgbm90ZS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5ub3RlXyA9ICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhpcyBzdGF2ZSBpcyBjdXJyZW50bHkgcGF1c2VkLlxuICAgKiBAcGFyYW0ge251bWJlcn0gY2xvY2s2NHRocyBOdW1iZXIgb2YgMS82NHRocyBub3RlcyBzaW5jZSB0aGUgc3RhcnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBzdGF2ZSBpcyBwYXVzZWQuXG4gICAqL1xuICBpc1BhdXNlZChjbG9jazY0dGhzKSB7XG4gICAgcmV0dXJuIHRoaXMucGF1c2VVbnRpbDY0dGhzXyA+IGNsb2NrNjR0aHM7XG4gIH1cblxuICAvKipcbiAgICogUGxheSBvbmUgbm90ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIEZyYWN0aW9uIG9mIGEgd2hvbGUgbm90ZSBsZW5ndGggdG8gcGxheS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBpdGNoIE5vdGUgdG8gcGxheS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNsb2NrNjR0aHMgTnVtYmVyIG9mIDEvNjR0aHMgbm90ZXMgc2luY2UgdGhlIHN0YXJ0LlxuICAgKi9cbiAgcGxheShkdXJhdGlvbiwgcGl0Y2gsIGNsb2NrNjR0aHMpIHtcbiAgICB0aGlzLnN0b3BTb3VuZCgpO1xuICAgIHRoaXMubm90ZV8gPSBwaXRjaDtcbiAgICBub3RlUGxheWVyLnRyaWdnZXJBdHRhY2socGl0Y2gpO1xuICAgIHRoaXMucGF1c2VVbnRpbDY0dGhzXyA9IGR1cmF0aW9uICogNjQgKyBjbG9jazY0dGhzO1xuICAgIC8vIE1ha2UgYSByZWNvcmQgb2YgdGhpcyBub3RlLlxuICAgIHRoaXMudHJhbnNjcmlwdF8uYXBwZW5kTm90ZShwaXRjaCwgZHVyYXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhaXQgb25lIHJlc3QuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBGcmFjdGlvbiBvZiBhIHdob2xlIG5vdGUgbGVuZ3RoIHRvIHJlc3QuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjbG9jazY0dGhzIE51bWJlciBvZiAxLzY0dGhzIG5vdGVzIHNpbmNlIHRoZSBzdGFydC5cbiAgICovXG4gIHJlc3QoZHVyYXRpb24sIGNsb2NrNjR0aHMpIHtcbiAgICB0aGlzLnN0b3BTb3VuZCgpO1xuICAgIHRoaXMucGF1c2VVbnRpbDY0dGhzXyA9IGR1cmF0aW9uICogNjQgKyBjbG9jazY0dGhzO1xuICAgIC8vIE1ha2UgYSByZWNvcmQgb2YgdGhpcyByZXN0LlxuICAgIHRoaXMudHJhbnNjcmlwdF8uYXBwZW5kUmVzdChkdXJhdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgY3VycmVudGx5IHBsYXlpbmcgbm90ZS5cbiAgICovXG4gIHN0b3BTb3VuZCgpIHtcbiAgICBpZiAodGhpcy5ub3RlXykge1xuICAgICAgbm90ZVBsYXllci50cmlnZ2VyUmVsZWFzZSgpO1xuICAgICAgdGhpcy5ub3RlXyA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZlZWRiYWNrIG9uIHdoYXQgaXMgZGlmZmVyZW50IGJldHdlZW4gdGhlIGxvYWRlZCB0cmFuc2NyaXB0IGFuZCB0aGVcbiAgICogZXhwZWN0ZWQgb25lLCBvciBlbXB0eSBzdHJpbmcgaWYgdGhleSBhcmUgZXF1YWwuXG4gICAqIEBwYXJhbSB7VHJhbnNjcmlwdH0gZXhwZWN0ZWRUcmFuc2NyaXB0IFRoZSBleHBlY3RlZCB0cmFuc2NyaXB0LlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBmZWVkYmFjay5cbiAgICovXG4gIGdldEZlZWRiYWNrKGV4cGVjdGVkVHJhbnNjcmlwdCkge1xuICAgIGxldCBmZWVkYmFjayA9ICcnO1xuXG4gICAgLy8gVGhlcmUgY291bGQgYmUgZXh0cmEgb3IgbWlzc2luZyBub3Rlcy5cbiAgICBjb25zdCBhY3R1YWxTaXplID0gdGhpcy50cmFuc2NyaXB0Xy5zaXplO1xuICAgIGNvbnN0IGV4cGVjdGVkU2l6ZSA9IGV4cGVjdGVkVHJhbnNjcmlwdC5zaXplO1xuICAgIGNvbnN0IHNpemVNaXNtYXRjaCA9IGFjdHVhbFNpemUgIT09IGV4cGVjdGVkU2l6ZTtcbiAgICBpZiAoYWN0dWFsU2l6ZSA8IGV4cGVjdGVkU2l6ZSkge1xuICAgICAgZmVlZGJhY2sgKz0gJ1lvdXIgc29sdXRpb24gaXMgbWlzc2luZyBub3Rlcy5cXG4nO1xuICAgIH0gZWxzZSBpZiAoYWN0dWFsU2l6ZSA+IGV4cGVjdGVkU2l6ZSkge1xuICAgICAgZmVlZGJhY2sgKz0gJ1lvdXIgc29sdXRpb24gaGFzIGV4dHJhIG5vdGVzLlxcbic7XG4gICAgfVxuXG4gICAgLy8gVGhlIG5vdGVzIHBsYXllZCBjb3VsZCBiZSB3cm9uZyAoZHVyYXRpb24gb3Igbm90ZSkuXG4gICAgbGV0IGhhc0luY29ycmVjdE5vdGVzID0gZmFsc2U7XG4gICAgbGV0IGhhc0luY29ycmVjdER1cmF0aW9uID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3R1YWxTaXplICYmIGkgPCBleHBlY3RlZFNpemU7IGkrKykge1xuICAgICAgaWYgKHRoaXMudHJhbnNjcmlwdF8ubm90ZXNBbmRSZXN0c1tpXSAhPT1cbiAgICAgICAgICBleHBlY3RlZFRyYW5zY3JpcHQubm90ZXNBbmRSZXN0c1tpXSkge1xuICAgICAgICBoYXNJbmNvcnJlY3ROb3RlcyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy50cmFuc2NyaXB0Xy5kdXJhdGlvbnNbaV0gIT09IGV4cGVjdGVkVHJhbnNjcmlwdC5kdXJhdGlvbnNbaV0pIHtcbiAgICAgICAgaGFzSW5jb3JyZWN0RHVyYXRpb24gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaGFzSW5jb3JyZWN0Tm90ZXMpIHtcbiAgICAgIGZlZWRiYWNrICs9XG4gICAgICAgICAgYFNvbWUgb2YgdGhlIG5vdGVzICR7c2l6ZU1pc21hdGNoID8gJ21heSBiZScgOiAnYXJlJ30gaW5jb3JyZWN0LlxcbmA7XG4gICAgfVxuICAgIGlmIChoYXNJbmNvcnJlY3REdXJhdGlvbikge1xuICAgICAgZmVlZGJhY2sgKz0gYFNvbWUgb2YgdGhlIG5vdGUgZHVyYXRpb25zIGAgK1xuICAgICAgICAgIGAke3NpemVNaXNtYXRjaCA/ICdtYXkgYmUnIDogJ2FyZSd9IGluY29ycmVjdC5cXG5gO1xuICAgIH1cblxuICAgIC8vIEFwcGVuZCB0aGUgYWN0dWFsIGFuZCBleHBlY3RlZCBub3RlcyBwbGF5ZWQuXG4gICAgaWYgKHNpemVNaXNtYXRjaCB8fCBoYXNJbmNvcnJlY3ROb3RlcyB8fCBoYXNJbmNvcnJlY3REdXJhdGlvbikge1xuICAgICAgZmVlZGJhY2sgKz1cbiAgICAgICAgICBgXFxuWW91ciBzb2x1dGlvbjogJHt0aGlzLnRyYW5zY3JpcHRfLmdldFJlYWRhYmxlVGV4dCgpIHx8ICdlbXB0eSd9XFxuYDtcbiAgICAgIGZlZWRiYWNrICs9IGBFeHBlY3RlZCBzb2x1dGlvbjogJHtleHBlY3RlZFRyYW5zY3JpcHQuZ2V0UmVhZGFibGVUZXh0KCl9YDtcbiAgICB9XG4gICAgcmV0dXJuIGZlZWRiYWNrO1xuICB9XG59XG5cbi8qKlxuICogR2FtZSBsb2dpYyBmb3IgbXVzaWMgZ2FtZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE11c2ljIHtcbiAgLyoqXG4gICAqIENsYXNzIGZvciBhIG11c2ljIGdhbWUuXG4gICAqIEBwYXJhbSB7QmxvY2tseS5Xb3Jrc3BhY2VTdmd9IHdvcmtzcGFjZSBUaGUgQmxvY2tseSB3b3Jrc3BhY2UuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nKX0gb25Hb2FsVXBkYXRlQ2IgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBnb2FsXG4gICAqICAgIGNoYW5nZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBvblN1Y2Nlc3NDYiBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIG9uIHN1Y2Nlc3MgZXZlbnQuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nKX0gb25GYWlsdXJlQ2IgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBvbiBmYWlsdXJlXG4gICAqICAgIGV2ZW50LlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdvcmtzcGFjZSwgb25Hb2FsVXBkYXRlQ2IsIG9uU3VjY2Vzc0NiLCBvbkZhaWx1cmVDYikge1xuICAgIC8qKlxuICAgICAqIFRoZSBCbG9ja2x5IHdvcmtzcGFjZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBnYW1lLlxuICAgICAqIEB0eXBlIHshQmxvY2tseS5Xb3Jrc3BhY2VTdmd9XG4gICAgICovXG4gICAgdGhpcy53b3Jrc3BhY2UgPSB3b3Jrc3BhY2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudGx5IGxvYWRlZCBsZXZlbC4gMCBpZiBubyBsZXZlbCBsb2FkZWQuXG4gICAgICovXG4gICAgdGhpcy5sZXZlbCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayBmdW5jdGlvbiBmb3IgZ29hbCB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgdG8gc2V0IHRoZSBnb2FsIHRvLlxuICAgICAqL1xuICAgIHRoaXMub25Hb2FsVXBkYXRlID0gb25Hb2FsVXBkYXRlQ2I7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZXhwZWN0ZWQgYW5zd2VyLlxuICAgICAqIEB0eXBlIHtBcnJheTxUcmFuc2NyaXB0Pn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZXhwZWN0ZWRBbnN3ZXJfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW50ZXJwcmV0ZXIuXG4gICAgICogQHR5cGUgez9JbnRlcnByZXRlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuaW50ZXJwcmV0ZXJfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtBcnJheTxTdGF2ZT59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnN0YXZlc18gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGFjdGl2ZSBzdGF2ZS5cbiAgICAgKiBAdHlwZSB7P1N0YXZlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5hY3RpdmVTdGF2ZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGltZSBvZiBzdGFydCBvZiBleGVjdXRpb24uXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRUaW1lXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgMS82NHRocyBub3RlcyBzaW5jZSB0aGUgc3RhcnQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuY2xvY2s2NHRoc18gPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNwZWVkIGF0IHdoaWNoIHRvIHBsYXkgbm90ZXMuIEJldHdlZW4gMCBhbmQgMSwgd2l0aCAwIGJlaW5nIHNsb3csXG4gICAgICogMC41IGJlaW5nIG5vcm1hbCBzcGVlZCwgYW5kIDEgYmVpbmcgZmFzdC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zcGVlZF8gPSAwLjU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIGxhc3Qgc2V0VGltZW91dCBjYWxsLiBVc2VkIGZvciBnYW1lIHJlc2V0LlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnBpZF8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIG9uIGxldmVsIHN1Y2Nlc3MuXG4gICAgICogQHR5cGUge2Z1bmN0aW9uKCl9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm9uU3VjY2Vzc0NhbGxiYWNrXyA9IG9uU3VjY2Vzc0NiO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIG9uIGxldmVsIGZhaWx1cmUuXG4gICAgICogQHR5cGUge2Z1bmN0aW9uKHN0cmluZyl9XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZlZWRiYWNrIFRoZSBsZXZlbCBmZWVkYmFjay5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMub25GYWlsdXJlQ2FsbGJhY2tfID0gb25GYWlsdXJlQ2I7XG5cbiAgICB0aGlzLnJlZ2lzdGVyUGxheVNob3J0Y3V0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgc2hvcnRjdXQgdG8gcGxheSB0aGUgbm90ZXMgb24gdGhlIHdvcmtzcGFjZS5cbiAgICovXG4gIHJlZ2lzdGVyUGxheVNob3J0Y3V0KCkge1xuICAgIGNvbnN0IG5ld0Z1bmN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgICB9LmJpbmQodGhpcyk7XG4gICAgLyoqIEB0eXBlIHshQmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXR9ICovXG4gICAgY29uc3QgcGxheVNob3J0Y3V0ID0ge1xuICAgICAgbmFtZTogJ3BsYXlTaG9ydGN1dCcsXG4gICAgICBwcmVjb25kaXRpb25GbjogZnVuY3Rpb24od29ya3NwYWNlKSB7XG4gICAgICAgIHJldHVybiB3b3Jrc3BhY2Uua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZSAmJlxuICAgICAgICAgICAgIXdvcmtzcGFjZS5vcHRpb25zLnJlYWRPbmx5O1xuICAgICAgfSxcbiAgICAgIGNhbGxiYWNrOiBuZXdGdW5jdGlvbixcbiAgICB9O1xuXG4gICAgQmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHBsYXlTaG9ydGN1dCk7XG4gICAgY29uc3Qgc2hpZnRXID0gQmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LmNyZWF0ZVNlcmlhbGl6ZWRLZXkoXG4gICAgICAgIEJsb2NrbHkudXRpbHMuS2V5Q29kZXMuUCwgW0Jsb2NrbHkudXRpbHMuS2V5Q29kZXMuU0hJRlRdKTtcbiAgICBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuYWRkS2V5TWFwcGluZyhcbiAgICAgICAgc2hpZnRXLCBwbGF5U2hvcnRjdXQubmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIHRoZSB3b3Jrc3BhY2UgYW5kIGxvYWRzIHRoZSBzcGVjaWZpZWQgYmxvY2tzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYmxvY2tYbWwgVGhlIHhtbCB0ZXh0IHN0cmluZyBvZiBibG9ja3MuXG4gICAqL1xuICBsb2FkV29ya3NwYWNlQmxvY2tzKGJsb2NrWG1sKSB7XG4gICAgdGhpcy53b3Jrc3BhY2UuY2xlYXIoKTtcbiAgICBCbG9ja2x5LlhtbC5kb21Ub1dvcmtzcGFjZShcbiAgICAgICAgQmxvY2tseS5YbWwudGV4dFRvRG9tKGJsb2NrWG1sKSwgdGhpcy53b3Jrc3BhY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGN1cnJlbnRseSBsb2FkZWQgdG9vbGJveC5cbiAgICogQHBhcmFtIHs/QmxvY2tseS51dGlscy50b29sYm94LlRvb2xib3hEZWZpbml0aW9ufSB0b29sYm94RGVmXG4gICAqICAgIERPTSB0cmVlIG9mIHRvb2xib3ggY29udGVudHMsIHN0cmluZyBvZiB0b29sYm94IGNvbnRlbnRzLCBvciBKU09OXG4gICAqICAgIHJlcHJlc2VudGluZyB0b29sYm94IGRlZmluaXRpb24uXG4gICAqL1xuICB1cGRhdGVUb29sYm94KHRvb2xib3hEZWYpIHtcbiAgICB0aGlzLndvcmtzcGFjZS51cGRhdGVUb29sYm94KHRvb2xib3hEZWYpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGdvYWwgYmFzZWQgb24gdGhlIGN1cnJlbnQgbGV2ZWwuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB1cGRhdGVMZXZlbEdvYWxfKCkge1xuICAgIGxldCBnb2FsVGV4dCA9ICcnO1xuICAgIHN3aXRjaCAodGhpcy5sZXZlbCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICB0aGlzLmV4cGVjdGVkQW5zd2VyXyA9XG4gICAgICAgICAgICBbbmV3IFRyYW5zY3JpcHQoWydDNCcsICdENCcsICdFNCcsICdDNCddLCBBcnJheSg0KS5maWxsKDAuMjUpKV07XG4gICAgICAgIGdvYWxUZXh0ID0gdGhpcy5leHBlY3RlZEFuc3dlcl9bMF0uZ2V0UmVhZGFibGVUZXh0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLm9uR29hbFVwZGF0ZShnb2FsVGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdG9vbGJveCBiYXNlZCBvbiB0aGUgY3VycmVudCBsZXZlbC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHVwZGF0ZUxldmVsVG9vbGJveF8oKSB7XG4gICAgY29uc3QgdG9vbGJveEpzb24gPSB7XG4gICAgICAna2luZCc6ICdmbHlvdXRUb29sYm94JyxcbiAgICAgICdjb250ZW50cyc6IFtcbiAgICAgICAge1xuICAgICAgICAgICdraW5kJzogJ2Jsb2NrJyxcbiAgICAgICAgICAnYmxvY2t4bWwnOiBgPGJsb2NrIHR5cGU9XCJtdXNpY19ub3RlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cIkRVUkFUSU9OXCI+MC4yNTwvZmllbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cIlBJVENIXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzaGFkb3cgdHlwZT1cIm11c2ljX3BpdGNoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJQSVRDSFwiPkM0PC9maWVsZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zaGFkb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+YCxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICdraW5kJzogJ2Jsb2NrJyxcbiAgICAgICAgICAndHlwZSc6ICdtdXNpY19yZXN0JyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfTtcbiAgICB0aGlzLnVwZGF0ZVRvb2xib3godG9vbGJveEpzb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgd29ya3NwYWNlIGJsb2NrcyBiYXNlZCBvbiB0aGUgY3VycmVudCBsZXZlbC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGxvYWRMZXZlbEJsb2Nrc18oKSB7XG4gICAgY29uc3QgbGV2ZWxYbWwgPVxuICAgICAgICBgPHhtbD5cbiAgICAgICAgICAgIDxibG9jayB0eXBlPVwibXVzaWNfc3RhcnRcIiBkZWxldGFibGU9XCJmYWxzZVwiIHg9XCIxODBcIlxuICAgICAgICAgICAgeT1cIjUwXCI+PC9ibG9jaz5cbiAgICAgICAgICA8L3htbD5gO1xuICAgIHRoaXMubG9hZFdvcmtzcGFjZUJsb2NrcyhsZXZlbFhtbCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCB0aGUgc3BlY2lmaWVkIGxldmVsLlxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IGxldmVsIFRoZSBsZXZlbCB0byBsb2FkLlxuICAgKi9cbiAgbG9hZExldmVsKGxldmVsKSB7XG4gICAgdGhpcy5sZXZlbCA9IE51bWJlcihsZXZlbCk7XG4gICAgdGhpcy51cGRhdGVMZXZlbEdvYWxfKCk7XG4gICAgdGhpcy51cGRhdGVMZXZlbFRvb2xib3hfKCk7XG4gICAgdGhpcy5sb2FkTGV2ZWxCbG9ja3NfKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzcGVlZCAoTnVtYmVyIGJldHdlZW4gMCBhbmQgMSkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZCBUaGUgc3BlZWQgdG8gc2V0IHRvLlxuICAgKi9cbiAgc2V0U3BlZWQoc3BlZWQpIHtcbiAgICBpZiAoc3BlZWQgPD0gMCB8fCBzcGVlZCA+IDEpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgc3BlZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zcGVlZF8gPSBzcGVlZDtcbiAgICB0aGlzLnN0YXJ0VGltZV8gPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBjb2RlIGFuZCBsb2dzIGl0IHRvIHRoZSBjb25zb2xlLlxuICAgKi9cbiAgbG9nR2VuZXJhdGVkQ29kZSgpIHtcbiAgICBjb25zdCBjb2RlSnMgPSBCbG9ja2x5LkphdmFTY3JpcHQud29ya3NwYWNlVG9Db2RlKHRoaXMud29ya3NwYWNlKTtcbiAgICBjb25zb2xlLmxvZyhjb2RlSnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHRoZSBtdXNpYyB0byB0aGUgc3RhcnQgcG9zaXRpb24sIGNsZWFyIHRoZSBkaXNwbGF5LCBhbmQga2lsbCBhbnlcbiAgICogcGVuZGluZyB0YXNrcy5cbiAgICovXG4gIHJlc2V0KCkge1xuICAgIC8vIEtpbGwgYW55IHRhc2suXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMucGlkXyk7XG4gICAgdGhpcy5zdGF2ZXNfLmZvckVhY2goKHN0YXZlKSA9PiB7XG4gICAgICBzdGF2ZS5zdG9wU291bmQoKTtcbiAgICB9KTtcbiAgICB0aGlzLmludGVycHJldGVyXyA9IG51bGw7XG4gICAgdGhpcy5hY3RpdmVTdGF2ZV8gPSBudWxsO1xuICAgIHRoaXMuc3RhdmVzXy5sZW5ndGggPSAwO1xuICAgIHRoaXMuY2xvY2s2NHRoc18gPSAwO1xuICAgIHRoaXMuc3RhcnRUaW1lXyA9IDA7XG4gIH1cblxuICAvKipcbiAgICogUGxheXMgbXVzaWMgYmFzZWQgb24gdGhlIGJsb2NrcyBvbiB0aGUgd29ya3NwYWNlLlxuICAgKi9cbiAgZXhlY3V0ZSgpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgLy8gR2V0IGdlbmVyYXRlZCBjb2RlIGZyb20gd29ya3NwYWNlXG4gICAgY29uc3QgY29kZSA9IEJsb2NrbHkuSmF2YVNjcmlwdC53b3Jrc3BhY2VUb0NvZGUodGhpcy53b3Jrc3BhY2UpO1xuXG4gICAgLy8gUnVuIHVzZXIgY29kZS5cbiAgICB0aGlzLmludGVycHJldGVyXyA9IG5ldyBJbnRlcnByZXRlcihjb2RlLCB0aGlzLmludGVycHJldGVySW5pdF8uYmluZCh0aGlzKSk7XG4gICAgLy8gVE9ETyBhZGQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgdGhyZWFkcy5cbiAgICBjb25zdCBpbnRlcnByZXRlciA9IG5ldyBJbnRlcnByZXRlcignJyk7XG4gICAgLy8gUmVwbGFjZSB0aGlzIHRocmVhZCdzIGdsb2JhbCBzY29wZSB3aXRoIHRoZSBjcm9zcy10aHJlYWQgZ2xvYmFsLlxuICAgIGludGVycHJldGVyLnN0YXRlU3RhY2tbMF0uc2NvcGUgPSB0aGlzLmludGVycHJldGVyXy5nbG9iYWxTY29wZTtcbiAgICAvLyBBZGQgc3RhcnQgY2FsbC5cbiAgICBpbnRlcnByZXRlci5hcHBlbmRDb2RlKCdzdGFydCgpO1xcbicpO1xuICAgIHRoaXMuc3RhdmVzXy5wdXNoKG5ldyBTdGF2ZSgwLCBpbnRlcnByZXRlci5zdGF0ZVN0YWNrKSk7XG5cbiAgICB0aGlzLnBpZF8gPSBzZXRUaW1lb3V0KCgpID0+IHRoaXMudGlja18oKSwgMTAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmplY3QgdGhlIE11c2ljIEFQSSBpbnRvIGEgSmF2YVNjcmlwdCBpbnRlcnByZXRlci5cbiAgICogQHBhcmFtIHshSW50ZXJwcmV0ZXJ9IGludGVycHJldGVyIFRoZSBKUy1JbnRlcnByZXRlci5cbiAgICogQHBhcmFtIHshSW50ZXJwcmV0ZXIuT2JqZWN0fSBnbG9iYWxPYmplY3QgR2xvYmFsIG9iamVjdC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGludGVycHJldGVySW5pdF8oaW50ZXJwcmV0ZXIsIGdsb2JhbE9iamVjdCkge1xuICAgIC8vIEFQSVxuICAgIGxldCB3cmFwcGVyO1xuICAgIHdyYXBwZXIgPSAoZHVyYXRpb24sIHBpdGNoLCBfaWQpID0+IHtcbiAgICAgIHRoaXMucGxheV8oZHVyYXRpb24sIHBpdGNoKTtcbiAgICB9O1xuICAgIGludGVycHJldGVyLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ3BsYXknLFxuICAgICAgICBpbnRlcnByZXRlci5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyKSk7XG4gICAgd3JhcHBlciA9IChkdXJhdGlvbiwgX2lkKSA9PiB7XG4gICAgICB0aGlzLnJlc3RfKGR1cmF0aW9uKTtcbiAgICB9O1xuICAgIGludGVycHJldGVyLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ3Jlc3QnLFxuICAgICAgICBpbnRlcnByZXRlci5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyKSk7XG5cbiAgICAvLyBUT0RPIGltcGxlbWVudCBzZXRJbnN0cnVtZW50IEFQSS5cbiAgfVxuXG4gIC8qKlxuICAgKiBQbGF5IG9uZSBub3RlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gRnJhY3Rpb24gb2YgYSB3aG9sZSBub3RlIGxlbmd0aCB0byBwbGF5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGl0Y2ggTm90ZSBwbGF5LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcGxheV8oZHVyYXRpb24sIHBpdGNoKSB7XG4gICAgdGhpcy5hY3RpdmVTdGF2ZV8ucGxheShkdXJhdGlvbiwgcGl0Y2gsIHRoaXMuY2xvY2s2NHRoc18pO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhaXQgb25lIHJlc3QuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBGcmFjdGlvbiBvZiBhIHdob2xlIG5vdGUgbGVuZ3RoIHRvIHJlc3QuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZXN0XyhkdXJhdGlvbikge1xuICAgIHRoaXMuYWN0aXZlU3RhdmVfLnJlc3QoZHVyYXRpb24sIHRoaXMuY2xvY2s2NHRoc18pO1xuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgMS82NHRoIHRpY2sgb2YgdGhlIHByb2dyYW0uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aWNrXygpIHtcbiAgICAvLyBEZWxheSBiZXR3ZWVuIHN0YXJ0IG9mIGVhY2ggYmVhdCAoMS82NHRocyBvZiBhIHdob2xlIG5vdGUpLlxuICAgIC8vIFJlbWluZGVyOiBUaGUgc3RhcnRUaW1lXyBzaG91bGQgYmUgcmVzZXQgYWZ0ZXIgdGhlIHNsaWRlciBpcyBhZGp1c3RlZC5cbiAgICBjb25zdCBzY2FsZUR1cmF0aW9uID0gMTAwMCAqICgyLjUgLSAyICogdGhpcy5zcGVlZF8pIC8gNjQ7XG4gICAgaWYgKCF0aGlzLnN0YXJ0VGltZV8pIHtcbiAgICAgIC8vIEVpdGhlciB0aGUgZmlyc3QgdGljaywgb3IgZmlyc3QgdGljayBhZnRlciBzbGlkZXIgd2FzIGFkanVzdGVkLlxuICAgICAgdGhpcy5zdGFydFRpbWVfID0gRGF0ZS5ub3coKSAtIHRoaXMuY2xvY2s2NHRoc18gKiBzY2FsZUR1cmF0aW9uO1xuICAgIH1cbiAgICBsZXQgZG9uZSA9IHRydWU7XG4gICAgdGhpcy5zdGF2ZXNfLmZvckVhY2goKHN0YXZlKSA9PiB7XG4gICAgICBpZiAoIXN0YXZlLmRvbmUpIHtcbiAgICAgICAgZG9uZSA9IGZhbHNlO1xuICAgICAgICBpZiAoIXN0YXZlLmlzUGF1c2VkKHRoaXMuY2xvY2s2NHRoc18pKSB7XG4gICAgICAgICAgdGhpcy5leGVjdXRlQ2h1bmtfKHN0YXZlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGRvbmUpIHtcbiAgICAgIC8vIFByb2dyYW0gY29tcGxldGUuXG4gICAgICBjb25zdCBmZWVkYmFjayA9IHRoaXMuY2hlY2tBbnN3ZXJfKCk7XG4gICAgICBpZiAoZmVlZGJhY2spIHtcbiAgICAgICAgdGhpcy5vbkZhaWx1cmVDYWxsYmFja18oZmVlZGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vblN1Y2Nlc3NDYWxsYmFja18oKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jbG9jazY0dGhzXysrO1xuICAgICAgY29uc3QgbXMgPVxuICAgICAgICAgICh0aGlzLnN0YXJ0VGltZV8gKyB0aGlzLmNsb2NrNjR0aHNfICogc2NhbGVEdXJhdGlvbikgLSBEYXRlLm5vdygpO1xuICAgICAgdGhpcy5waWRfID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLnRpY2tfKCksIG1zKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBhIGJpdGUtc2l6ZWQgY2h1bmsgb2YgdGhlIHVzZXIncyBjb2RlLlxuICAgKiBAcGFyYW0ge1N0YXZlfSBzdGF2ZSBUaGUgc3RhdmUgdG8gZXhlY3V0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGV4ZWN1dGVDaHVua18oc3RhdmUpIHtcbiAgICB0aGlzLmFjdGl2ZVN0YXZlXyA9IHN0YXZlO1xuICAgIC8vIFN3aXRjaCB0aGUgaW50ZXJwcmV0ZXIgdG8gcnVuIHRoZSBwcm92aWRlZCBzdGFmZi5cbiAgICB0aGlzLmludGVycHJldGVyXy5zdGF0ZVN0YWNrID0gc3RhdmUuc3RhdGVTdGFjaztcbiAgICBsZXQgdGlja3MgPSAxMDAwMDtcbiAgICBsZXQgZ287XG4gICAgZG8ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZ28gPSB0aGlzLmludGVycHJldGVyXy5zdGVwKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIFVzZXIgZXJyb3IsIHRlcm1pbmF0ZSBpbiBzaGFtZS5cbiAgICAgICAgYWxlcnQoZSk7XG4gICAgICAgIGdvID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAodGlja3MtLSA9PSAwKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignU3RhZmYgJyArIHN0YXZlLmlkICsgJyBpcyBydW5uaW5nIHNsb3dseS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXZlLmlzUGF1c2VkKHRoaXMuY2xvY2s2NHRoc18pKSB7XG4gICAgICAgIC8vIFByZXZpb3VzbHkgZXhlY3V0ZWQgY29tbWFuZCAocGxheSBvciByZXN0KSByZXF1ZXN0ZWQgYSBwYXVzZS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKGdvKTtcbiAgICAvLyBUaHJlYWQgY29tcGxldGUuICBXcmFwIHVwLlxuICAgIHN0YXZlLnN0b3BTb3VuZChzdGF2ZSk7XG4gICAgc3RhdmUuZG9uZSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogRXZhbHVhdGVzIHdoZXRoZXIgdGhlIGFuc3dlciBmb3IgdGhlIGN1cnJlbnRseSBsb2FkZWQgbGV2ZWwgaXMgY29ycmVjdC5cbiAgICogUmV0dXJucyBsZXZlbCBmZWVkYmFjayBpZiBjb3JyZWN0IG9yIGVtcHR5IHN0cmluZyBpZiBjb3JyZWN0LlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IExldmVsIGZlZWRiYWNrIG9yIGVtcHR5IHN0cmluZy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNoZWNrQW5zd2VyXygpIHtcbiAgICBsZXQgZmVlZGJhY2sgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXhwZWN0ZWRBbnN3ZXJfLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzdGF2ZUZlZWRiYWNrID1cbiAgICAgICAgICB0aGlzLnN0YXZlc19baV0uZ2V0RmVlZGJhY2sodGhpcy5leHBlY3RlZEFuc3dlcl9baV0pO1xuICAgICAgaWYgKHN0YXZlRmVlZGJhY2spIHtcbiAgICAgICAgZmVlZGJhY2sgKz0gc3RhdmVGZWVkYmFjaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZlZWRiYWNrO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/music.js\n");

/***/ }),

/***/ "./src/music_block_generators.js":
/*!***************************************!*\
  !*** ./src/music_block_generators.js ***!
  \***************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/dist/index.js\");\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly__WEBPACK_IMPORTED_MODULE_0__);\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview JavaScript generators for music blocks.\n */\n\n\nblockly__WEBPACK_IMPORTED_MODULE_0__[\"JavaScript\"]['music_pitch'] = function (block) {\n  var code = blockly__WEBPACK_IMPORTED_MODULE_0__[\"JavaScript\"].quote_(block.getFieldValue('PITCH'));\n  return [code, blockly__WEBPACK_IMPORTED_MODULE_0__[\"JavaScript\"].ORDER_ATOMIC];\n};\n\nblockly__WEBPACK_IMPORTED_MODULE_0__[\"JavaScript\"]['music_note'] = function (block) {\n  var pitch = blockly__WEBPACK_IMPORTED_MODULE_0__[\"JavaScript\"].valueToCode(block, 'PITCH', blockly__WEBPACK_IMPORTED_MODULE_0__[\"JavaScript\"].ORDER_NONE) || 'C4';\n  return 'play(' + Number(block.getFieldValue('DURATION')) + ', ' + pitch + ', \\'block_id_' + block.id + '\\');\\n';\n};\n\nblockly__WEBPACK_IMPORTED_MODULE_0__[\"JavaScript\"]['music_rest_whole'] = function (block) {\n  return 'rest(1, \\'block_id_' + block.id + '\\');\\n';\n};\n\nblockly__WEBPACK_IMPORTED_MODULE_0__[\"JavaScript\"]['music_rest'] = function (block) {\n  return 'rest(' + Number(block.getFieldValue('DURATION')) + ', \\'block_id_' + block.id + '\\');\\n';\n};\n\nblockly__WEBPACK_IMPORTED_MODULE_0__[\"JavaScript\"]['music_instrument'] = function (block) {\n  var instrument = blockly__WEBPACK_IMPORTED_MODULE_0__[\"JavaScript\"].quote_(block.getFieldValue('INSTRUMENT'));\n  return 'setInstrument(' + instrument + ', \\'block_id_' + block.id + '\\');\\n';\n};\n\nblockly__WEBPACK_IMPORTED_MODULE_0__[\"JavaScript\"]['music_start'] = function (block) {\n  var statementsStack = blockly__WEBPACK_IMPORTED_MODULE_0__[\"JavaScript\"].statementToCode(block, 'STACK');\n  var code = 'function start() {\\n' + statementsStack + '}\\n'; // Add % so as not to collide with helper functions in definitions list.\n\n  blockly__WEBPACK_IMPORTED_MODULE_0__[\"JavaScript\"].definitions_['%start'] = code;\n  return null;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbXVzaWNfYmxvY2tfZ2VuZXJhdG9ycy5qcz8zZWM4Il0sIm5hbWVzIjpbIkJsb2NrbHkiLCJibG9jayIsImNvZGUiLCJxdW90ZV8iLCJnZXRGaWVsZFZhbHVlIiwiT1JERVJfQVRPTUlDIiwicGl0Y2giLCJ2YWx1ZVRvQ29kZSIsIk9SREVSX05PTkUiLCJOdW1iZXIiLCJpZCIsImluc3RydW1lbnQiLCJzdGF0ZW1lbnRzU3RhY2siLCJzdGF0ZW1lbnRUb0NvZGUiLCJkZWZpbml0aW9uc18iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUFBLGtEQUFBLENBQW1CLGFBQW5CLElBQW9DLFVBQVNDLEtBQVQsRUFBZ0I7QUFDbEQsTUFBTUMsSUFBSSxHQUFHRixrREFBQSxDQUFtQkcsTUFBbkIsQ0FBMEJGLEtBQUssQ0FBQ0csYUFBTixDQUFvQixPQUFwQixDQUExQixDQUFiO0FBQ0EsU0FBTyxDQUFDRixJQUFELEVBQU9GLGtEQUFBLENBQW1CSyxZQUExQixDQUFQO0FBQ0QsQ0FIRDs7QUFLQUwsa0RBQUEsQ0FBbUIsWUFBbkIsSUFBbUMsVUFBU0MsS0FBVCxFQUFnQjtBQUNqRCxNQUFNSyxLQUFLLEdBQUdOLGtEQUFBLENBQW1CTyxXQUFuQixDQUErQk4sS0FBL0IsRUFBc0MsT0FBdEMsRUFDVkQsa0RBQUEsQ0FBbUJRLFVBRFQsS0FDd0IsSUFEdEM7QUFFQSxTQUFPLFVBQVVDLE1BQU0sQ0FBQ1IsS0FBSyxDQUFDRyxhQUFOLENBQW9CLFVBQXBCLENBQUQsQ0FBaEIsR0FBb0QsSUFBcEQsR0FBMkRFLEtBQTNELEdBQ0gsZUFERyxHQUNlTCxLQUFLLENBQUNTLEVBRHJCLEdBQzBCLFFBRGpDO0FBRUQsQ0FMRDs7QUFPQVYsa0RBQUEsQ0FBbUIsa0JBQW5CLElBQXlDLFVBQVNDLEtBQVQsRUFBZ0I7QUFDdkQsU0FBTyx3QkFBd0JBLEtBQUssQ0FBQ1MsRUFBOUIsR0FBbUMsUUFBMUM7QUFDRCxDQUZEOztBQUlBVixrREFBQSxDQUFtQixZQUFuQixJQUFtQyxVQUFTQyxLQUFULEVBQWdCO0FBQ2pELFNBQU8sVUFBVVEsTUFBTSxDQUFDUixLQUFLLENBQUNHLGFBQU4sQ0FBb0IsVUFBcEIsQ0FBRCxDQUFoQixHQUNILGVBREcsR0FDZUgsS0FBSyxDQUFDUyxFQURyQixHQUMwQixRQURqQztBQUVELENBSEQ7O0FBS0FWLGtEQUFBLENBQW1CLGtCQUFuQixJQUF5QyxVQUFTQyxLQUFULEVBQWdCO0FBQ3ZELE1BQU1VLFVBQVUsR0FDWlgsa0RBQUEsQ0FBbUJHLE1BQW5CLENBQTBCRixLQUFLLENBQUNHLGFBQU4sQ0FBb0IsWUFBcEIsQ0FBMUIsQ0FESjtBQUVBLFNBQU8sbUJBQW1CTyxVQUFuQixHQUFnQyxlQUFoQyxHQUFrRFYsS0FBSyxDQUFDUyxFQUF4RCxHQUE2RCxRQUFwRTtBQUNELENBSkQ7O0FBTUFWLGtEQUFBLENBQW1CLGFBQW5CLElBQW9DLFVBQVNDLEtBQVQsRUFBZ0I7QUFDbEQsTUFBTVcsZUFBZSxHQUFHWixrREFBQSxDQUFtQmEsZUFBbkIsQ0FBbUNaLEtBQW5DLEVBQTBDLE9BQTFDLENBQXhCO0FBQ0EsTUFBTUMsSUFBSSxHQUFHLHlCQUNYVSxlQURXLEdBQ08sS0FEcEIsQ0FGa0QsQ0FJbEQ7O0FBQ0FaLG9EQUFBLENBQW1CYyxZQUFuQixDQUFnQyxRQUFoQyxJQUE0Q1osSUFBNUM7QUFDQSxTQUFPLElBQVA7QUFDRCxDQVBEIiwiZmlsZSI6Ii4vc3JjL211c2ljX2Jsb2NrX2dlbmVyYXRvcnMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBKYXZhU2NyaXB0IGdlbmVyYXRvcnMgZm9yIG11c2ljIGJsb2Nrcy5cbiAqL1xuXG5pbXBvcnQgKiBhcyBCbG9ja2x5IGZyb20gJ2Jsb2NrbHknO1xuXG5CbG9ja2x5LkphdmFTY3JpcHRbJ211c2ljX3BpdGNoJ10gPSBmdW5jdGlvbihibG9jaykge1xuICBjb25zdCBjb2RlID0gQmxvY2tseS5KYXZhU2NyaXB0LnF1b3RlXyhibG9jay5nZXRGaWVsZFZhbHVlKCdQSVRDSCcpKTtcbiAgcmV0dXJuIFtjb2RlLCBCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQVRPTUlDXTtcbn07XG5cbkJsb2NrbHkuSmF2YVNjcmlwdFsnbXVzaWNfbm90ZSddID0gZnVuY3Rpb24oYmxvY2spIHtcbiAgY29uc3QgcGl0Y2ggPSBCbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYmxvY2ssICdQSVRDSCcsXG4gICAgICBCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTk9ORSkgfHwgJ0M0JztcbiAgcmV0dXJuICdwbGF5KCcgKyBOdW1iZXIoYmxvY2suZ2V0RmllbGRWYWx1ZSgnRFVSQVRJT04nKSkgKyAnLCAnICsgcGl0Y2ggK1xuICAgICAgJywgXFwnYmxvY2tfaWRfJyArIGJsb2NrLmlkICsgJ1xcJyk7XFxuJztcbn07XG5cbkJsb2NrbHkuSmF2YVNjcmlwdFsnbXVzaWNfcmVzdF93aG9sZSddID0gZnVuY3Rpb24oYmxvY2spIHtcbiAgcmV0dXJuICdyZXN0KDEsIFxcJ2Jsb2NrX2lkXycgKyBibG9jay5pZCArICdcXCcpO1xcbic7XG59O1xuXG5CbG9ja2x5LkphdmFTY3JpcHRbJ211c2ljX3Jlc3QnXSA9IGZ1bmN0aW9uKGJsb2NrKSB7XG4gIHJldHVybiAncmVzdCgnICsgTnVtYmVyKGJsb2NrLmdldEZpZWxkVmFsdWUoJ0RVUkFUSU9OJykpICtcbiAgICAgICcsIFxcJ2Jsb2NrX2lkXycgKyBibG9jay5pZCArICdcXCcpO1xcbic7XG59O1xuXG5CbG9ja2x5LkphdmFTY3JpcHRbJ211c2ljX2luc3RydW1lbnQnXSA9IGZ1bmN0aW9uKGJsb2NrKSB7XG4gIGNvbnN0IGluc3RydW1lbnQgPVxuICAgICAgQmxvY2tseS5KYXZhU2NyaXB0LnF1b3RlXyhibG9jay5nZXRGaWVsZFZhbHVlKCdJTlNUUlVNRU5UJykpO1xuICByZXR1cm4gJ3NldEluc3RydW1lbnQoJyArIGluc3RydW1lbnQgKyAnLCBcXCdibG9ja19pZF8nICsgYmxvY2suaWQgKyAnXFwnKTtcXG4nO1xufTtcblxuQmxvY2tseS5KYXZhU2NyaXB0WydtdXNpY19zdGFydCddID0gZnVuY3Rpb24oYmxvY2spIHtcbiAgY29uc3Qgc3RhdGVtZW50c1N0YWNrID0gQmxvY2tseS5KYXZhU2NyaXB0LnN0YXRlbWVudFRvQ29kZShibG9jaywgJ1NUQUNLJyk7XG4gIGNvbnN0IGNvZGUgPSAnZnVuY3Rpb24gc3RhcnQoKSB7XFxuJyArXG4gICAgc3RhdGVtZW50c1N0YWNrICsgJ31cXG4nO1xuICAvLyBBZGQgJSBzbyBhcyBub3QgdG8gY29sbGlkZSB3aXRoIGhlbHBlciBmdW5jdGlvbnMgaW4gZGVmaW5pdGlvbnMgbGlzdC5cbiAgQmxvY2tseS5KYXZhU2NyaXB0LmRlZmluaXRpb25zX1snJXN0YXJ0J10gPSBjb2RlO1xuICByZXR1cm4gbnVsbDtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/music_block_generators.js\n");

/***/ }),

/***/ "./src/music_blocks.js":
/*!*****************************!*\
  !*** ./src/music_blocks.js ***!
  \*****************************/
/*! exports provided: toolboxPitch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toolboxPitch\", function() { return toolboxPitch; });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _field_pitch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./field_pitch */ \"./src/field_pitch.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Blocks for the accessible music demo.\n */\n\n\nvar mediaPrefix = 'https://raw.githubusercontent.com/google/blockly-games/master/appengine/';\n/* eslint-disable quotes */\n\nblockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.defineBlocksWithJsonArray([{\n  \"type\": \"pitch_test\",\n  \"message0\": 'pitch test: %1',\n  \"args0\": [{\n    \"type\": \"field_pitch\",\n    \"name\": \"PITCH\"\n  }],\n  \"output\": null,\n  \"colour\": 160\n}, {\n  \"type\": \"music_pitch\",\n  \"message0\": \"%1\",\n  \"args0\": [{\n    \"type\": \"field_pitch\",\n    \"name\": \"PITCH\"\n  }],\n  \"output\": \"String\",\n  \"colourPrimary\": 160\n}, {\n  \"type\": \"music_note\",\n  \"message0\": 'play %1 note %2',\n  \"args0\": [{\n    \"type\": \"field_dropdown\",\n    \"name\": \"DURATION\",\n    \"options\": [[{\n      \"src\": mediaPrefix + \"music/note1.png\",\n      \"width\": 9,\n      \"height\": 19,\n      \"alt\": \"whole\"\n    }, \"1\"], [{\n      \"src\": mediaPrefix + \"music/note0.5.png\",\n      \"width\": 9,\n      \"height\": 19,\n      \"alt\": \"half\"\n    }, \"0.5\"], [{\n      \"src\": mediaPrefix + \"music/note0.25.png\",\n      \"width\": 9,\n      \"height\": 19,\n      \"alt\": \"quarter\"\n    }, \"0.25\"], [{\n      \"src\": mediaPrefix + \"music/note0.125.png\",\n      \"width\": 9,\n      \"height\": 19,\n      \"alt\": \"eighth\"\n    }, \"0.125\"], [{\n      \"src\": mediaPrefix + \"music/note0.0625.png\",\n      \"width\": 9,\n      \"height\": 19,\n      \"alt\": \"sixteenth\"\n    }, \"0.0625\"]]\n  }, {\n    \"type\": \"input_value\",\n    \"name\": \"PITCH\",\n    \"check\": \"String\"\n  }],\n  \"inputsInline\": true,\n  \"previousStatement\": null,\n  \"nextStatement\": null,\n  \"colour\": 160,\n  \"tooltip\": 'Music_playNoteTooltip'\n}, {\n  \"type\": \"music_rest_whole\",\n  \"message0\": 'rest %1',\n  \"args0\": [{\n    \"type\": \"field_image\",\n    \"src\": mediaPrefix + \"music/rest1.png\",\n    \"width\": 10,\n    \"height\": 20,\n    \"alt\": \"-\"\n  }],\n  \"inputsInline\": true,\n  \"previousStatement\": null,\n  \"nextStatement\": null,\n  \"colour\": 160,\n  \"tooltip\": 'Music_restWholeTooltip'\n}, {\n  \"type\": \"music_rest\",\n  \"message0\": 'rest %1',\n  \"args0\": [{\n    \"type\": \"field_dropdown\",\n    \"name\": \"DURATION\",\n    \"options\": [[{\n      \"src\": mediaPrefix + \"music/rest1.png\",\n      \"width\": 10,\n      \"height\": 20,\n      \"alt\": \"whole\"\n    }, \"1\"], [{\n      \"src\": mediaPrefix + \"music/rest0.5.png\",\n      \"width\": 10,\n      \"height\": 20,\n      \"alt\": \"half\"\n    }, \"0.5\"], [{\n      \"src\": mediaPrefix + \"music/rest0.25.png\",\n      \"width\": 10,\n      \"height\": 20,\n      \"alt\": \"quarter\"\n    }, \"0.25\"], [{\n      \"src\": mediaPrefix + \"music/rest0.125.png\",\n      \"width\": 10,\n      \"height\": 20,\n      \"alt\": \"eighth\"\n    }, \"0.125\"], [{\n      \"src\": mediaPrefix + \"music/rest0.0625.png\",\n      \"width\": 10,\n      \"height\": 20,\n      \"alt\": \"sixteenth\"\n    }, \"0.0625\"]]\n  }],\n  \"inputsInline\": true,\n  \"previousStatement\": null,\n  \"nextStatement\": null,\n  \"colour\": 160,\n  \"tooltip\": 'Music_restTooltip'\n}, {\n  \"type\": \"music_instrument\",\n  \"message0\": 'set instrument to %1',\n  \"args0\": [{\n    \"type\": \"field_dropdown\",\n    \"name\": \"INSTRUMENT\",\n    \"options\": [['Music_piano', \"piano\"], ['Music_trumpet', \"trumpet\"], ['Music_banjo', \"banjo\"], ['Music_violin', \"violin\"], ['Music_guitar', \"guitar\"], ['Music_flute', \"flute\"], ['Music_drum', \"drum\"], ['Music_choir', \"choir\"]]\n  }],\n  \"inputsInline\": true,\n  \"previousStatement\": null,\n  \"nextStatement\": null,\n  \"colour\": 160,\n  \"tooltip\": 'Music_setInstrumentTooltip'\n}, {\n  \"type\": \"music_start\",\n  \"message0\": 'when shift p pressed',\n  \"message1\": \"%1\",\n  \"args1\": [{\n    \"type\": \"input_statement\",\n    \"name\": \"STACK\"\n  }],\n  \"colour\": 0,\n  \"tooltip\": 'Music_startTooltip'\n}]);\nvar toolboxPitch = {\n  \"kind\": \"flyoutToolbox\",\n  \"contents\": [{\n    \"kind\": \"block\",\n    \"blockxml\": \"<block type='music_note'><value name='PITCH'>\" + \"<shadow type='music_pitch'></shadow></value></block>\"\n  }, {\n    \"kind\": \"block\",\n    \"type\": \"pitch_test\"\n  }, {\n    \"kind\": \"block\",\n    \"type\": \"music_pitch\"\n  }, {\n    \"kind\": \"block\",\n    \"type\": \"music_note\"\n  }, {\n    \"kind\": \"block\",\n    \"type\": \"music_rest_whole\"\n  }, {\n    \"kind\": \"block\",\n    \"type\": \"music_rest\"\n  }, {\n    \"kind\": \"block\",\n    \"type\": \"music_instrument\"\n  }, {\n    \"kind\": \"block\",\n    \"type\": \"music_start\"\n  }]\n};\n/* eslint-enable quotes *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbXVzaWNfYmxvY2tzLmpzPzQ3NzUiXSwibmFtZXMiOlsibWVkaWFQcmVmaXgiLCJCbG9ja2x5IiwiZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheSIsInRvb2xib3hQaXRjaCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBLElBQU1BLFdBQVcsR0FDYiwwRUFESjtBQUdBOztBQUNBQyxtREFBTyxDQUFDQyx5QkFBUixDQUFrQyxDQUNoQztBQUNFLFVBQVEsWUFEVjtBQUVFLGNBQVksZ0JBRmQ7QUFHRSxXQUFTLENBQ1A7QUFDRSxZQUFRLGFBRFY7QUFFRSxZQUFRO0FBRlYsR0FETyxDQUhYO0FBU0UsWUFBVSxJQVRaO0FBVUUsWUFBVTtBQVZaLENBRGdDLEVBYWhDO0FBQ0UsVUFBUSxhQURWO0FBRUUsY0FBWSxJQUZkO0FBR0UsV0FBUyxDQUNQO0FBQ0UsWUFBUSxhQURWO0FBRUUsWUFBUTtBQUZWLEdBRE8sQ0FIWDtBQVNFLFlBQVUsUUFUWjtBQVVFLG1CQUFpQjtBQVZuQixDQWJnQyxFQXlCaEM7QUFDRSxVQUFRLFlBRFY7QUFFRSxjQUFZLGlCQUZkO0FBR0UsV0FBUyxDQUNQO0FBQ0UsWUFBUSxnQkFEVjtBQUVFLFlBQVEsVUFGVjtBQUdFLGVBQVcsQ0FDVCxDQUFDO0FBQ0MsYUFBT0YsV0FBVyxHQUFHLGlCQUR0QjtBQUVDLGVBQVMsQ0FGVjtBQUVhLGdCQUFVLEVBRnZCO0FBRTJCLGFBQU87QUFGbEMsS0FBRCxFQUdHLEdBSEgsQ0FEUyxFQUtULENBQUM7QUFDQyxhQUFPQSxXQUFXLEdBQUcsbUJBRHRCO0FBRUMsZUFBUyxDQUZWO0FBRWEsZ0JBQVUsRUFGdkI7QUFFMkIsYUFBTztBQUZsQyxLQUFELEVBR0csS0FISCxDQUxTLEVBU1QsQ0FBQztBQUNDLGFBQU9BLFdBQVcsR0FBRyxvQkFEdEI7QUFFQyxlQUFTLENBRlY7QUFFYSxnQkFBVSxFQUZ2QjtBQUUyQixhQUFPO0FBRmxDLEtBQUQsRUFHRyxNQUhILENBVFMsRUFhVCxDQUFDO0FBQ0MsYUFBT0EsV0FBVyxHQUFHLHFCQUR0QjtBQUVDLGVBQVMsQ0FGVjtBQUVhLGdCQUFVLEVBRnZCO0FBRTJCLGFBQU87QUFGbEMsS0FBRCxFQUdHLE9BSEgsQ0FiUyxFQWlCVCxDQUFDO0FBQ0MsYUFBT0EsV0FBVyxHQUFHLHNCQUR0QjtBQUVDLGVBQVMsQ0FGVjtBQUVhLGdCQUFVLEVBRnZCO0FBRTJCLGFBQU87QUFGbEMsS0FBRCxFQUdHLFFBSEgsQ0FqQlM7QUFIYixHQURPLEVBMkJQO0FBQ0UsWUFBUSxhQURWO0FBRUUsWUFBUSxPQUZWO0FBR0UsYUFBUztBQUhYLEdBM0JPLENBSFg7QUFvQ0Usa0JBQWdCLElBcENsQjtBQXFDRSx1QkFBcUIsSUFyQ3ZCO0FBc0NFLG1CQUFpQixJQXRDbkI7QUF1Q0UsWUFBVSxHQXZDWjtBQXdDRSxhQUFXO0FBeENiLENBekJnQyxFQW1FaEM7QUFDRSxVQUFRLGtCQURWO0FBRUUsY0FBWSxTQUZkO0FBR0UsV0FBUyxDQUNQO0FBQ0UsWUFBUSxhQURWO0FBRUUsV0FBT0EsV0FBVyxHQUFHLGlCQUZ2QjtBQUdFLGFBQVMsRUFIWDtBQUlFLGNBQVUsRUFKWjtBQUtFLFdBQU87QUFMVCxHQURPLENBSFg7QUFZRSxrQkFBZ0IsSUFabEI7QUFhRSx1QkFBcUIsSUFidkI7QUFjRSxtQkFBaUIsSUFkbkI7QUFlRSxZQUFVLEdBZlo7QUFnQkUsYUFBVztBQWhCYixDQW5FZ0MsRUFxRmhDO0FBQ0UsVUFBUSxZQURWO0FBRUUsY0FBWSxTQUZkO0FBR0UsV0FBUyxDQUNQO0FBQ0UsWUFBUSxnQkFEVjtBQUVFLFlBQVEsVUFGVjtBQUdFLGVBQVcsQ0FDVCxDQUFDO0FBQ0MsYUFBT0EsV0FBVyxHQUFHLGlCQUR0QjtBQUVDLGVBQVMsRUFGVjtBQUVjLGdCQUFVLEVBRnhCO0FBRTRCLGFBQU87QUFGbkMsS0FBRCxFQUdHLEdBSEgsQ0FEUyxFQUtULENBQUM7QUFDQyxhQUFPQSxXQUFXLEdBQUcsbUJBRHRCO0FBRUMsZUFBUyxFQUZWO0FBRWMsZ0JBQVUsRUFGeEI7QUFFNEIsYUFBTztBQUZuQyxLQUFELEVBR0csS0FISCxDQUxTLEVBU1QsQ0FBQztBQUNDLGFBQU9BLFdBQVcsR0FBRyxvQkFEdEI7QUFFQyxlQUFTLEVBRlY7QUFFYyxnQkFBVSxFQUZ4QjtBQUU0QixhQUFPO0FBRm5DLEtBQUQsRUFHRyxNQUhILENBVFMsRUFhVCxDQUFDO0FBQ0MsYUFBT0EsV0FBVyxHQUFHLHFCQUR0QjtBQUVDLGVBQVMsRUFGVjtBQUVjLGdCQUFVLEVBRnhCO0FBRTRCLGFBQU87QUFGbkMsS0FBRCxFQUdHLE9BSEgsQ0FiUyxFQWlCVCxDQUFDO0FBQ0MsYUFBT0EsV0FBVyxHQUFHLHNCQUR0QjtBQUVDLGVBQVMsRUFGVjtBQUVjLGdCQUFVLEVBRnhCO0FBRTRCLGFBQU87QUFGbkMsS0FBRCxFQUdHLFFBSEgsQ0FqQlM7QUFIYixHQURPLENBSFg7QUErQkUsa0JBQWdCLElBL0JsQjtBQWdDRSx1QkFBcUIsSUFoQ3ZCO0FBaUNFLG1CQUFpQixJQWpDbkI7QUFrQ0UsWUFBVSxHQWxDWjtBQW1DRSxhQUFXO0FBbkNiLENBckZnQyxFQTBIaEM7QUFDRSxVQUFRLGtCQURWO0FBRUUsY0FBWSxzQkFGZDtBQUdFLFdBQVMsQ0FDUDtBQUNFLFlBQVEsZ0JBRFY7QUFFRSxZQUFRLFlBRlY7QUFHRSxlQUFXLENBQ1QsQ0FBRSxhQUFGLEVBQWtCLE9BQWxCLENBRFMsRUFFVCxDQUFFLGVBQUYsRUFBb0IsU0FBcEIsQ0FGUyxFQUdULENBQUUsYUFBRixFQUFrQixPQUFsQixDQUhTLEVBSVQsQ0FBRSxjQUFGLEVBQW1CLFFBQW5CLENBSlMsRUFLVCxDQUFFLGNBQUYsRUFBbUIsUUFBbkIsQ0FMUyxFQU1ULENBQUUsYUFBRixFQUFrQixPQUFsQixDQU5TLEVBT1QsQ0FBRSxZQUFGLEVBQWlCLE1BQWpCLENBUFMsRUFRVCxDQUFFLGFBQUYsRUFBa0IsT0FBbEIsQ0FSUztBQUhiLEdBRE8sQ0FIWDtBQW1CRSxrQkFBZ0IsSUFuQmxCO0FBb0JFLHVCQUFxQixJQXBCdkI7QUFxQkUsbUJBQWlCLElBckJuQjtBQXNCRSxZQUFVLEdBdEJaO0FBdUJFLGFBQVc7QUF2QmIsQ0ExSGdDLEVBbUpoQztBQUNFLFVBQVEsYUFEVjtBQUVFLGNBQVksc0JBRmQ7QUFHRSxjQUFZLElBSGQ7QUFJRSxXQUFTLENBQ1A7QUFDRSxZQUFRLGlCQURWO0FBRUUsWUFBUTtBQUZWLEdBRE8sQ0FKWDtBQVVFLFlBQVUsQ0FWWjtBQVdFLGFBQVc7QUFYYixDQW5KZ0MsQ0FBbEM7QUFrS08sSUFBTUcsWUFBWSxHQUFHO0FBQzFCLFVBQVEsZUFEa0I7QUFFMUIsY0FBWSxDQUNWO0FBQ0UsWUFBUSxPQURWO0FBRUUsZ0JBQVksa0RBQ1I7QUFITixHQURVLEVBTVY7QUFDRSxZQUFRLE9BRFY7QUFFRSxZQUFRO0FBRlYsR0FOVSxFQVdWO0FBQ0UsWUFBUSxPQURWO0FBRUUsWUFBUTtBQUZWLEdBWFUsRUFlVjtBQUNFLFlBQVEsT0FEVjtBQUVFLFlBQVE7QUFGVixHQWZVLEVBbUJWO0FBQ0UsWUFBUSxPQURWO0FBRUUsWUFBUTtBQUZWLEdBbkJVLEVBdUJWO0FBQ0UsWUFBUSxPQURWO0FBRUUsWUFBUTtBQUZWLEdBdkJVLEVBMkJWO0FBQ0UsWUFBUSxPQURWO0FBRUUsWUFBUTtBQUZWLEdBM0JVLEVBK0JWO0FBQ0UsWUFBUSxPQURWO0FBRUUsWUFBUTtBQUZWLEdBL0JVO0FBRmMsQ0FBckI7QUF3Q1AiLCJmaWxlIjoiLi9zcmMvbXVzaWNfYmxvY2tzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQmxvY2tzIGZvciB0aGUgYWNjZXNzaWJsZSBtdXNpYyBkZW1vLlxuICovXG5cbmltcG9ydCBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5pbXBvcnQgJy4vZmllbGRfcGl0Y2gnO1xuXG5jb25zdCBtZWRpYVByZWZpeCA9XG4gICAgJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9nb29nbGUvYmxvY2tseS1nYW1lcy9tYXN0ZXIvYXBwZW5naW5lLyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIHF1b3RlcyAqL1xuQmxvY2tseS5kZWZpbmVCbG9ja3NXaXRoSnNvbkFycmF5KFtcbiAge1xuICAgIFwidHlwZVwiOiBcInBpdGNoX3Rlc3RcIixcbiAgICBcIm1lc3NhZ2UwXCI6ICdwaXRjaCB0ZXN0OiAlMScsXG4gICAgXCJhcmdzMFwiOiBbXG4gICAgICB7XG4gICAgICAgIFwidHlwZVwiOiBcImZpZWxkX3BpdGNoXCIsXG4gICAgICAgIFwibmFtZVwiOiBcIlBJVENIXCIsXG4gICAgICB9LFxuICAgIF0sXG4gICAgXCJvdXRwdXRcIjogbnVsbCxcbiAgICBcImNvbG91clwiOiAxNjAsXG4gIH0sXG4gIHtcbiAgICBcInR5cGVcIjogXCJtdXNpY19waXRjaFwiLFxuICAgIFwibWVzc2FnZTBcIjogXCIlMVwiLFxuICAgIFwiYXJnczBcIjogW1xuICAgICAge1xuICAgICAgICBcInR5cGVcIjogXCJmaWVsZF9waXRjaFwiLFxuICAgICAgICBcIm5hbWVcIjogXCJQSVRDSFwiLFxuICAgICAgfSxcbiAgICBdLFxuICAgIFwib3V0cHV0XCI6IFwiU3RyaW5nXCIsXG4gICAgXCJjb2xvdXJQcmltYXJ5XCI6IDE2MCxcbiAgfSxcbiAge1xuICAgIFwidHlwZVwiOiBcIm11c2ljX25vdGVcIixcbiAgICBcIm1lc3NhZ2UwXCI6ICdwbGF5ICUxIG5vdGUgJTInLFxuICAgIFwiYXJnczBcIjogW1xuICAgICAge1xuICAgICAgICBcInR5cGVcIjogXCJmaWVsZF9kcm9wZG93blwiLFxuICAgICAgICBcIm5hbWVcIjogXCJEVVJBVElPTlwiLFxuICAgICAgICBcIm9wdGlvbnNcIjogW1xuICAgICAgICAgIFt7XG4gICAgICAgICAgICBcInNyY1wiOiBtZWRpYVByZWZpeCArIFwibXVzaWMvbm90ZTEucG5nXCIsXG4gICAgICAgICAgICBcIndpZHRoXCI6IDksIFwiaGVpZ2h0XCI6IDE5LCBcImFsdFwiOiBcIndob2xlXCIsXG4gICAgICAgICAgfSwgXCIxXCJdLFxuICAgICAgICAgIFt7XG4gICAgICAgICAgICBcInNyY1wiOiBtZWRpYVByZWZpeCArIFwibXVzaWMvbm90ZTAuNS5wbmdcIixcbiAgICAgICAgICAgIFwid2lkdGhcIjogOSwgXCJoZWlnaHRcIjogMTksIFwiYWx0XCI6IFwiaGFsZlwiLFxuICAgICAgICAgIH0sIFwiMC41XCJdLFxuICAgICAgICAgIFt7XG4gICAgICAgICAgICBcInNyY1wiOiBtZWRpYVByZWZpeCArIFwibXVzaWMvbm90ZTAuMjUucG5nXCIsXG4gICAgICAgICAgICBcIndpZHRoXCI6IDksIFwiaGVpZ2h0XCI6IDE5LCBcImFsdFwiOiBcInF1YXJ0ZXJcIixcbiAgICAgICAgICB9LCBcIjAuMjVcIl0sXG4gICAgICAgICAgW3tcbiAgICAgICAgICAgIFwic3JjXCI6IG1lZGlhUHJlZml4ICsgXCJtdXNpYy9ub3RlMC4xMjUucG5nXCIsXG4gICAgICAgICAgICBcIndpZHRoXCI6IDksIFwiaGVpZ2h0XCI6IDE5LCBcImFsdFwiOiBcImVpZ2h0aFwiLFxuICAgICAgICAgIH0sIFwiMC4xMjVcIl0sXG4gICAgICAgICAgW3tcbiAgICAgICAgICAgIFwic3JjXCI6IG1lZGlhUHJlZml4ICsgXCJtdXNpYy9ub3RlMC4wNjI1LnBuZ1wiLFxuICAgICAgICAgICAgXCJ3aWR0aFwiOiA5LCBcImhlaWdodFwiOiAxOSwgXCJhbHRcIjogXCJzaXh0ZWVudGhcIixcbiAgICAgICAgICB9LCBcIjAuMDYyNVwiXSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFwidHlwZVwiOiBcImlucHV0X3ZhbHVlXCIsXG4gICAgICAgIFwibmFtZVwiOiBcIlBJVENIXCIsXG4gICAgICAgIFwiY2hlY2tcIjogXCJTdHJpbmdcIixcbiAgICAgIH0sXG4gICAgXSxcbiAgICBcImlucHV0c0lubGluZVwiOiB0cnVlLFxuICAgIFwicHJldmlvdXNTdGF0ZW1lbnRcIjogbnVsbCxcbiAgICBcIm5leHRTdGF0ZW1lbnRcIjogbnVsbCxcbiAgICBcImNvbG91clwiOiAxNjAsXG4gICAgXCJ0b29sdGlwXCI6ICdNdXNpY19wbGF5Tm90ZVRvb2x0aXAnLFxuICB9LFxuICB7XG4gICAgXCJ0eXBlXCI6IFwibXVzaWNfcmVzdF93aG9sZVwiLFxuICAgIFwibWVzc2FnZTBcIjogJ3Jlc3QgJTEnLFxuICAgIFwiYXJnczBcIjogW1xuICAgICAge1xuICAgICAgICBcInR5cGVcIjogXCJmaWVsZF9pbWFnZVwiLFxuICAgICAgICBcInNyY1wiOiBtZWRpYVByZWZpeCArIFwibXVzaWMvcmVzdDEucG5nXCIsXG4gICAgICAgIFwid2lkdGhcIjogMTAsXG4gICAgICAgIFwiaGVpZ2h0XCI6IDIwLFxuICAgICAgICBcImFsdFwiOiBcIi1cIixcbiAgICAgIH0sXG4gICAgXSxcbiAgICBcImlucHV0c0lubGluZVwiOiB0cnVlLFxuICAgIFwicHJldmlvdXNTdGF0ZW1lbnRcIjogbnVsbCxcbiAgICBcIm5leHRTdGF0ZW1lbnRcIjogbnVsbCxcbiAgICBcImNvbG91clwiOiAxNjAsXG4gICAgXCJ0b29sdGlwXCI6ICdNdXNpY19yZXN0V2hvbGVUb29sdGlwJyxcbiAgfSxcbiAge1xuICAgIFwidHlwZVwiOiBcIm11c2ljX3Jlc3RcIixcbiAgICBcIm1lc3NhZ2UwXCI6ICdyZXN0ICUxJyxcbiAgICBcImFyZ3MwXCI6IFtcbiAgICAgIHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiZmllbGRfZHJvcGRvd25cIixcbiAgICAgICAgXCJuYW1lXCI6IFwiRFVSQVRJT05cIixcbiAgICAgICAgXCJvcHRpb25zXCI6IFtcbiAgICAgICAgICBbe1xuICAgICAgICAgICAgXCJzcmNcIjogbWVkaWFQcmVmaXggKyBcIm11c2ljL3Jlc3QxLnBuZ1wiLFxuICAgICAgICAgICAgXCJ3aWR0aFwiOiAxMCwgXCJoZWlnaHRcIjogMjAsIFwiYWx0XCI6IFwid2hvbGVcIixcbiAgICAgICAgICB9LCBcIjFcIl0sXG4gICAgICAgICAgW3tcbiAgICAgICAgICAgIFwic3JjXCI6IG1lZGlhUHJlZml4ICsgXCJtdXNpYy9yZXN0MC41LnBuZ1wiLFxuICAgICAgICAgICAgXCJ3aWR0aFwiOiAxMCwgXCJoZWlnaHRcIjogMjAsIFwiYWx0XCI6IFwiaGFsZlwiLFxuICAgICAgICAgIH0sIFwiMC41XCJdLFxuICAgICAgICAgIFt7XG4gICAgICAgICAgICBcInNyY1wiOiBtZWRpYVByZWZpeCArIFwibXVzaWMvcmVzdDAuMjUucG5nXCIsXG4gICAgICAgICAgICBcIndpZHRoXCI6IDEwLCBcImhlaWdodFwiOiAyMCwgXCJhbHRcIjogXCJxdWFydGVyXCIsXG4gICAgICAgICAgfSwgXCIwLjI1XCJdLFxuICAgICAgICAgIFt7XG4gICAgICAgICAgICBcInNyY1wiOiBtZWRpYVByZWZpeCArIFwibXVzaWMvcmVzdDAuMTI1LnBuZ1wiLFxuICAgICAgICAgICAgXCJ3aWR0aFwiOiAxMCwgXCJoZWlnaHRcIjogMjAsIFwiYWx0XCI6IFwiZWlnaHRoXCIsXG4gICAgICAgICAgfSwgXCIwLjEyNVwiXSxcbiAgICAgICAgICBbe1xuICAgICAgICAgICAgXCJzcmNcIjogbWVkaWFQcmVmaXggKyBcIm11c2ljL3Jlc3QwLjA2MjUucG5nXCIsXG4gICAgICAgICAgICBcIndpZHRoXCI6IDEwLCBcImhlaWdodFwiOiAyMCwgXCJhbHRcIjogXCJzaXh0ZWVudGhcIixcbiAgICAgICAgICB9LCBcIjAuMDYyNVwiXSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBcImlucHV0c0lubGluZVwiOiB0cnVlLFxuICAgIFwicHJldmlvdXNTdGF0ZW1lbnRcIjogbnVsbCxcbiAgICBcIm5leHRTdGF0ZW1lbnRcIjogbnVsbCxcbiAgICBcImNvbG91clwiOiAxNjAsXG4gICAgXCJ0b29sdGlwXCI6ICdNdXNpY19yZXN0VG9vbHRpcCcsXG4gIH0sXG4gIHtcbiAgICBcInR5cGVcIjogXCJtdXNpY19pbnN0cnVtZW50XCIsXG4gICAgXCJtZXNzYWdlMFwiOiAnc2V0IGluc3RydW1lbnQgdG8gJTEnLFxuICAgIFwiYXJnczBcIjogW1xuICAgICAge1xuICAgICAgICBcInR5cGVcIjogXCJmaWVsZF9kcm9wZG93blwiLFxuICAgICAgICBcIm5hbWVcIjogXCJJTlNUUlVNRU5UXCIsXG4gICAgICAgIFwib3B0aW9uc1wiOiBbXG4gICAgICAgICAgWygnTXVzaWNfcGlhbm8nKSwgXCJwaWFub1wiXSxcbiAgICAgICAgICBbKCdNdXNpY190cnVtcGV0JyksIFwidHJ1bXBldFwiXSxcbiAgICAgICAgICBbKCdNdXNpY19iYW5qbycpLCBcImJhbmpvXCJdLFxuICAgICAgICAgIFsoJ011c2ljX3Zpb2xpbicpLCBcInZpb2xpblwiXSxcbiAgICAgICAgICBbKCdNdXNpY19ndWl0YXInKSwgXCJndWl0YXJcIl0sXG4gICAgICAgICAgWygnTXVzaWNfZmx1dGUnKSwgXCJmbHV0ZVwiXSxcbiAgICAgICAgICBbKCdNdXNpY19kcnVtJyksIFwiZHJ1bVwiXSxcbiAgICAgICAgICBbKCdNdXNpY19jaG9pcicpLCBcImNob2lyXCJdLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdLFxuICAgIFwiaW5wdXRzSW5saW5lXCI6IHRydWUsXG4gICAgXCJwcmV2aW91c1N0YXRlbWVudFwiOiBudWxsLFxuICAgIFwibmV4dFN0YXRlbWVudFwiOiBudWxsLFxuICAgIFwiY29sb3VyXCI6IDE2MCxcbiAgICBcInRvb2x0aXBcIjogJ011c2ljX3NldEluc3RydW1lbnRUb29sdGlwJyxcbiAgfSxcbiAge1xuICAgIFwidHlwZVwiOiBcIm11c2ljX3N0YXJ0XCIsXG4gICAgXCJtZXNzYWdlMFwiOiAnd2hlbiBzaGlmdCBwIHByZXNzZWQnLFxuICAgIFwibWVzc2FnZTFcIjogXCIlMVwiLFxuICAgIFwiYXJnczFcIjogW1xuICAgICAge1xuICAgICAgICBcInR5cGVcIjogXCJpbnB1dF9zdGF0ZW1lbnRcIixcbiAgICAgICAgXCJuYW1lXCI6IFwiU1RBQ0tcIixcbiAgICAgIH0sXG4gICAgXSxcbiAgICBcImNvbG91clwiOiAwLFxuICAgIFwidG9vbHRpcFwiOiAnTXVzaWNfc3RhcnRUb29sdGlwJyxcbiAgfSxcbl0pO1xuXG5leHBvcnQgY29uc3QgdG9vbGJveFBpdGNoID0ge1xuICBcImtpbmRcIjogXCJmbHlvdXRUb29sYm94XCIsXG4gIFwiY29udGVudHNcIjogW1xuICAgIHtcbiAgICAgIFwia2luZFwiOiBcImJsb2NrXCIsXG4gICAgICBcImJsb2NreG1sXCI6IFwiPGJsb2NrIHR5cGU9J211c2ljX25vdGUnPjx2YWx1ZSBuYW1lPSdQSVRDSCc+XCIgK1xuICAgICAgICAgIFwiPHNoYWRvdyB0eXBlPSdtdXNpY19waXRjaCc+PC9zaGFkb3c+PC92YWx1ZT48L2Jsb2NrPlwiLFxuICAgIH0sXG4gICAge1xuICAgICAgXCJraW5kXCI6IFwiYmxvY2tcIixcbiAgICAgIFwidHlwZVwiOiBcInBpdGNoX3Rlc3RcIixcbiAgICB9LFxuXG4gICAge1xuICAgICAgXCJraW5kXCI6IFwiYmxvY2tcIixcbiAgICAgIFwidHlwZVwiOiBcIm11c2ljX3BpdGNoXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBcImtpbmRcIjogXCJibG9ja1wiLFxuICAgICAgXCJ0eXBlXCI6IFwibXVzaWNfbm90ZVwiLFxuICAgIH0sXG4gICAge1xuICAgICAgXCJraW5kXCI6IFwiYmxvY2tcIixcbiAgICAgIFwidHlwZVwiOiBcIm11c2ljX3Jlc3Rfd2hvbGVcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIFwia2luZFwiOiBcImJsb2NrXCIsXG4gICAgICBcInR5cGVcIjogXCJtdXNpY19yZXN0XCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBcImtpbmRcIjogXCJibG9ja1wiLFxuICAgICAgXCJ0eXBlXCI6IFwibXVzaWNfaW5zdHJ1bWVudFwiLFxuICAgIH0sXG4gICAge1xuICAgICAgXCJraW5kXCI6IFwiYmxvY2tcIixcbiAgICAgIFwidHlwZVwiOiBcIm11c2ljX3N0YXJ0XCIsXG4gICAgfSxcbiAgXSxcbn07XG5cbi8qIGVzbGludC1lbmFibGUgcXVvdGVzICovXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/music_blocks.js\n");

/***/ }),

/***/ "./src/music_game_controller.js":
/*!**************************************!*\
  !*** ./src/music_game_controller.js ***!
  \**************************************/
/*! exports provided: MusicGameController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MusicGameController\", function() { return MusicGameController; });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var micromodal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! micromodal */ \"./node_modules/micromodal/dist/micromodal.es.js\");\n/* harmony import */ var _music__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./music */ \"./src/music.js\");\n/* harmony import */ var _help_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./help_modal */ \"./src/help_modal.js\");\n/* harmony import */ var _key_press_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./key_press_modal */ \"./src/key_press_modal.js\");\n/* harmony import */ var _welcome_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./welcome_modal */ \"./src/welcome_modal.js\");\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/* harmony import */ var _tutorial__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tutorial */ \"./src/tutorial.js\");\n/* harmony import */ var _custom_cursor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./custom_cursor */ \"./src/custom_cursor.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Music game controller.\n */\n\n\n\n\n\n\n\n\n\n/**\n * Class for a controller for the music game, which handles\n * creation of the game and coordination of related modals, tutorials,\n * etc.\n */\n\nvar MusicGameController = /*#__PURE__*/function () {\n  /**\n   * The constructor for the music game controller.\n   */\n  function MusicGameController() {\n    var _this = this;\n\n    _classCallCheck(this, MusicGameController);\n\n    micromodal__WEBPACK_IMPORTED_MODULE_1__[\"default\"].init({\n      onClose: function onClose() {\n        return _speaker__WEBPACK_IMPORTED_MODULE_6__[\"speaker\"].cancel();\n      }\n    });\n    this.workspace = this.createWorkspace_();\n    /**\n     * The actual game object.\n     * @type {Music}\n     */\n\n    this.game = new _music__WEBPACK_IMPORTED_MODULE_2__[\"Music\"](this.workspace, function (text) {\n      return _this.setGoalText(text);\n    }, function () {\n      _this.setFeedbackText('Congratulations. You did it!');\n    }, function (feedback) {\n      _this.setFeedbackText(feedback);\n    });\n    var helpModal = new _help_modal__WEBPACK_IMPORTED_MODULE_3__[\"HelpModal\"]('modal-1', 'modalButton');\n    helpModal.init(); // Start by showing the key press modal.\n\n    new _key_press_modal__WEBPACK_IMPORTED_MODULE_4__[\"KeyPressModal\"](function () {\n      return _this.showWelcomeModal();\n    }).init();\n  }\n  /**\n   * Initializes the Blockly workspace.\n   * @return {!Blockly.WorkspaceSvg} The Blockly workspace.\n   * @private\n   */\n\n\n  _createClass(MusicGameController, [{\n    key: \"createWorkspace_\",\n    value: function createWorkspace_() {\n      // Initialize Blockly workspace.\n      var blocklyDiv = document.getElementById('blocklyDiv');\n      var workspace = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.inject(blocklyDiv, {\n        toolbox: {\n          'kind': 'flyoutToolbox',\n          'contents': [{\n            'kind': 'block',\n            'blockxml': \"<block type=\\\"music_note\\\">\\n                          <field name=\\\"DURATION\\\">0.25</field>\\n                          <value name=\\\"PITCH\\\">\\n                            <shadow type=\\\"music_pitch\\\">\\n                              <field name=\\\"PITCH\\\">C4</field>\\n                            </shadow>\\n                          </value>\\n                        </block>\"\n          }, {\n            'kind': 'block',\n            'type': 'music_rest'\n          }]\n        }\n      });\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.NAVIGATE_ALL_FIELDS = true;\n      workspace.getMarkerManager().setCursor(new _custom_cursor__WEBPACK_IMPORTED_MODULE_8__[\"CustomCursor\"]());\n      workspace.addChangeListener(function (event) {\n        return _speaker__WEBPACK_IMPORTED_MODULE_6__[\"speaker\"].nodeToSpeech(event);\n      });\n      workspace.getFlyout().getWorkspace().addChangeListener(function (event) {\n        return _speaker__WEBPACK_IMPORTED_MODULE_6__[\"speaker\"].nodeToSpeech(event);\n      });\n      return workspace;\n    }\n    /**\n     * Sets the feedback text.\n     * @param {string} text The text to set the feedback to.\n     */\n\n  }, {\n    key: \"setFeedbackText\",\n    value: function setFeedbackText(text) {\n      var feedbackTextEl = document.getElementById('feedbackText');\n      feedbackTextEl.innerHTML = text.replaceAll('\\n', '<br>');\n      _speaker__WEBPACK_IMPORTED_MODULE_6__[\"speaker\"].speak(text, true);\n    }\n    /**\n     * Sets the goal text.\n     * @param {string} text The text to set the goal to.\n     */\n\n  }, {\n    key: \"setGoalText\",\n    value: function setGoalText(text) {\n      var feedbackTextEl = document.getElementById('goalText');\n      feedbackTextEl.innerHTML = text;\n      _speaker__WEBPACK_IMPORTED_MODULE_6__[\"speaker\"].speak(text, true);\n    }\n    /**\n     * Get the current game object.\n     * @return {Music} The current game object.\n     */\n\n  }, {\n    key: \"getGame\",\n    value: function getGame() {\n      return this.game;\n    }\n    /**\n     * Start the tutorial.\n     */\n\n  }, {\n    key: \"runTutorial\",\n    value: function runTutorial() {\n      new _tutorial__WEBPACK_IMPORTED_MODULE_7__[\"Tutorial\"](this.workspace).init();\n    }\n    /**\n     * Start the Game.\n     */\n\n  }, {\n    key: \"runGame\",\n    value: function runGame() {\n      this.game.loadLevel(1);\n    }\n    /**\n     * Show the welcome modal.\n     */\n\n  }, {\n    key: \"showWelcomeModal\",\n    value: function showWelcomeModal() {\n      var _this2 = this;\n\n      new _welcome_modal__WEBPACK_IMPORTED_MODULE_5__[\"WelcomeModal\"](function () {\n        return _this2.runTutorial();\n      }, function () {\n        return _this2.runGame();\n      }).init();\n    }\n  }]);\n\n  return MusicGameController;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbXVzaWNfZ2FtZV9jb250cm9sbGVyLmpzPzczYTYiXSwibmFtZXMiOlsiTXVzaWNHYW1lQ29udHJvbGxlciIsIk1pY3JvTW9kYWwiLCJpbml0Iiwib25DbG9zZSIsInNwZWFrZXIiLCJjYW5jZWwiLCJ3b3Jrc3BhY2UiLCJjcmVhdGVXb3Jrc3BhY2VfIiwiZ2FtZSIsIk11c2ljIiwidGV4dCIsInNldEdvYWxUZXh0Iiwic2V0RmVlZGJhY2tUZXh0IiwiZmVlZGJhY2siLCJoZWxwTW9kYWwiLCJIZWxwTW9kYWwiLCJLZXlQcmVzc01vZGFsIiwic2hvd1dlbGNvbWVNb2RhbCIsImJsb2NrbHlEaXYiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiQmxvY2tseSIsImluamVjdCIsInRvb2xib3giLCJBU1ROb2RlIiwiTkFWSUdBVEVfQUxMX0ZJRUxEUyIsImdldE1hcmtlck1hbmFnZXIiLCJzZXRDdXJzb3IiLCJDdXN0b21DdXJzb3IiLCJhZGRDaGFuZ2VMaXN0ZW5lciIsImV2ZW50Iiwibm9kZVRvU3BlZWNoIiwiZ2V0Rmx5b3V0IiwiZ2V0V29ya3NwYWNlIiwiZmVlZGJhY2tUZXh0RWwiLCJpbm5lckhUTUwiLCJyZXBsYWNlQWxsIiwic3BlYWsiLCJUdXRvcmlhbCIsImxvYWRMZXZlbCIsIldlbGNvbWVNb2RhbCIsInJ1blR1dG9yaWFsIiwicnVuR2FtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNPLElBQU1BLG1CQUFiO0FBQ0U7QUFDRjtBQUNBO0FBQ0UsaUNBQWM7QUFBQTs7QUFBQTs7QUFDWkMsc0RBQVUsQ0FBQ0MsSUFBWCxDQUFnQjtBQUNkQyxhQUFPLEVBQUU7QUFBQSxlQUFNQyxnREFBTyxDQUFDQyxNQUFSLEVBQU47QUFBQTtBQURLLEtBQWhCO0FBSUEsU0FBS0MsU0FBTCxHQUFpQixLQUFLQyxnQkFBTCxFQUFqQjtBQUVBO0FBQ0o7QUFDQTtBQUNBOztBQUNJLFNBQUtDLElBQUwsR0FBWSxJQUFJQyw0Q0FBSixDQUFVLEtBQUtILFNBQWYsRUFBMEIsVUFBQ0ksSUFBRDtBQUFBLGFBQVUsS0FBSSxDQUFDQyxXQUFMLENBQWlCRCxJQUFqQixDQUFWO0FBQUEsS0FBMUIsRUFDUixZQUFNO0FBQ0osV0FBSSxDQUFDRSxlQUFMLENBQXFCLDhCQUFyQjtBQUNELEtBSE8sRUFHTCxVQUFDQyxRQUFELEVBQWM7QUFDZixXQUFJLENBQUNELGVBQUwsQ0FBcUJDLFFBQXJCO0FBQ0QsS0FMTyxDQUFaO0FBT0EsUUFBTUMsU0FBUyxHQUFHLElBQUlDLHFEQUFKLENBQWMsU0FBZCxFQUF5QixhQUF6QixDQUFsQjtBQUNBRCxhQUFTLENBQUNaLElBQVYsR0FuQlksQ0FxQlo7O0FBQ0EsUUFBSWMsOERBQUosQ0FBa0I7QUFBQSxhQUFNLEtBQUksQ0FBQ0MsZ0JBQUwsRUFBTjtBQUFBLEtBQWxCLEVBQWlEZixJQUFqRDtBQUNEO0FBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7O0FBakNBO0FBQUE7QUFBQSx1Q0FrQ3FCO0FBQ2pCO0FBQ0EsVUFBTWdCLFVBQVUsR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCLFlBQXhCLENBQW5CO0FBQ0EsVUFBTWQsU0FBUyxHQUFHZSxtREFBTyxDQUFDQyxNQUFSLENBQWVKLFVBQWYsRUFBMkI7QUFDM0NLLGVBQU8sRUFBRTtBQUNQLGtCQUFRLGVBREQ7QUFFUCxzQkFBWSxDQUNWO0FBQ0Usb0JBQVEsT0FEVjtBQUVFO0FBRkYsV0FEVSxFQVlWO0FBQ0Usb0JBQVEsT0FEVjtBQUVFLG9CQUFRO0FBRlYsV0FaVTtBQUZMO0FBRGtDLE9BQTNCLENBQWxCO0FBc0JBRix5REFBTyxDQUFDRyxPQUFSLENBQWdCQyxtQkFBaEIsR0FBc0MsSUFBdEM7QUFDQW5CLGVBQVMsQ0FBQ29CLGdCQUFWLEdBQTZCQyxTQUE3QixDQUF1QyxJQUFJQywyREFBSixFQUF2QztBQUNBdEIsZUFBUyxDQUFDdUIsaUJBQVYsQ0FBNEIsVUFBQ0MsS0FBRDtBQUFBLGVBQVcxQixnREFBTyxDQUFDMkIsWUFBUixDQUFxQkQsS0FBckIsQ0FBWDtBQUFBLE9BQTVCO0FBQ0F4QixlQUFTLENBQUMwQixTQUFWLEdBQXNCQyxZQUF0QixHQUFxQ0osaUJBQXJDLENBQ0ksVUFBQ0MsS0FBRDtBQUFBLGVBQVcxQixnREFBTyxDQUFDMkIsWUFBUixDQUFxQkQsS0FBckIsQ0FBWDtBQUFBLE9BREo7QUFFQSxhQUFPeEIsU0FBUDtBQUNEO0FBR0Q7QUFDRjtBQUNBO0FBQ0E7O0FBdkVBO0FBQUE7QUFBQSxvQ0F3RWtCSSxJQXhFbEIsRUF3RXdCO0FBQ3BCLFVBQU13QixjQUFjLEdBQUdmLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixjQUF4QixDQUF2QjtBQUNBYyxvQkFBYyxDQUFDQyxTQUFmLEdBQTJCekIsSUFBSSxDQUFDMEIsVUFBTCxDQUFnQixJQUFoQixFQUFzQixNQUF0QixDQUEzQjtBQUNBaEMsc0RBQU8sQ0FBQ2lDLEtBQVIsQ0FBYzNCLElBQWQsRUFBb0IsSUFBcEI7QUFDRDtBQUVEO0FBQ0Y7QUFDQTtBQUNBOztBQWpGQTtBQUFBO0FBQUEsZ0NBa0ZjQSxJQWxGZCxFQWtGb0I7QUFDaEIsVUFBTXdCLGNBQWMsR0FBR2YsUUFBUSxDQUFDQyxjQUFULENBQXdCLFVBQXhCLENBQXZCO0FBQ0FjLG9CQUFjLENBQUNDLFNBQWYsR0FBMkJ6QixJQUEzQjtBQUNBTixzREFBTyxDQUFDaUMsS0FBUixDQUFjM0IsSUFBZCxFQUFvQixJQUFwQjtBQUNEO0FBRUQ7QUFDRjtBQUNBO0FBQ0E7O0FBM0ZBO0FBQUE7QUFBQSw4QkE0Rlk7QUFDUixhQUFPLEtBQUtGLElBQVo7QUFDRDtBQUVEO0FBQ0Y7QUFDQTs7QUFsR0E7QUFBQTtBQUFBLGtDQW1HZ0I7QUFDWixVQUFJOEIsa0RBQUosQ0FBYSxLQUFLaEMsU0FBbEIsRUFBNkJKLElBQTdCO0FBQ0Q7QUFFRDtBQUNGO0FBQ0E7O0FBekdBO0FBQUE7QUFBQSw4QkEwR1k7QUFDUixXQUFLTSxJQUFMLENBQVUrQixTQUFWLENBQW9CLENBQXBCO0FBQ0Q7QUFFRDtBQUNGO0FBQ0E7O0FBaEhBO0FBQUE7QUFBQSx1Q0FpSHFCO0FBQUE7O0FBQ2pCLFVBQUlDLDJEQUFKLENBQWlCO0FBQUEsZUFBTSxNQUFJLENBQUNDLFdBQUwsRUFBTjtBQUFBLE9BQWpCLEVBQTJDO0FBQUEsZUFBTSxNQUFJLENBQUNDLE9BQUwsRUFBTjtBQUFBLE9BQTNDLEVBQWlFeEMsSUFBakU7QUFDRDtBQW5ISDs7QUFBQTtBQUFBIiwiZmlsZSI6Ii4vc3JjL211c2ljX2dhbWVfY29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE11c2ljIGdhbWUgY29udHJvbGxlci5cbiAqL1xuXG5cbmltcG9ydCBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5pbXBvcnQgTWljcm9Nb2RhbCBmcm9tICdtaWNyb21vZGFsJztcbmltcG9ydCB7TXVzaWN9IGZyb20gJy4vbXVzaWMnO1xuaW1wb3J0IHtIZWxwTW9kYWx9IGZyb20gJy4vaGVscF9tb2RhbCc7XG5pbXBvcnQge0tleVByZXNzTW9kYWx9IGZyb20gJy4va2V5X3ByZXNzX21vZGFsJztcbmltcG9ydCB7V2VsY29tZU1vZGFsfSBmcm9tICcuL3dlbGNvbWVfbW9kYWwnO1xuaW1wb3J0IHtzcGVha2VyfSBmcm9tICcuL3NwZWFrZXInO1xuaW1wb3J0IHtUdXRvcmlhbH0gZnJvbSAnLi90dXRvcmlhbCc7XG5pbXBvcnQge0N1c3RvbUN1cnNvcn0gZnJvbSAnLi9jdXN0b21fY3Vyc29yJztcblxuLyoqXG4gKiBDbGFzcyBmb3IgYSBjb250cm9sbGVyIGZvciB0aGUgbXVzaWMgZ2FtZSwgd2hpY2ggaGFuZGxlc1xuICogY3JlYXRpb24gb2YgdGhlIGdhbWUgYW5kIGNvb3JkaW5hdGlvbiBvZiByZWxhdGVkIG1vZGFscywgdHV0b3JpYWxzLFxuICogZXRjLlxuICovXG5leHBvcnQgY2xhc3MgTXVzaWNHYW1lQ29udHJvbGxlciB7XG4gIC8qKlxuICAgKiBUaGUgY29uc3RydWN0b3IgZm9yIHRoZSBtdXNpYyBnYW1lIGNvbnRyb2xsZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBNaWNyb01vZGFsLmluaXQoe1xuICAgICAgb25DbG9zZTogKCkgPT4gc3BlYWtlci5jYW5jZWwoKSxcbiAgICB9KTtcblxuICAgIHRoaXMud29ya3NwYWNlID0gdGhpcy5jcmVhdGVXb3Jrc3BhY2VfKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYWN0dWFsIGdhbWUgb2JqZWN0LlxuICAgICAqIEB0eXBlIHtNdXNpY31cbiAgICAgKi9cbiAgICB0aGlzLmdhbWUgPSBuZXcgTXVzaWModGhpcy53b3Jrc3BhY2UsICh0ZXh0KSA9PiB0aGlzLnNldEdvYWxUZXh0KHRleHQpLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRGZWVkYmFja1RleHQoJ0NvbmdyYXR1bGF0aW9ucy4gWW91IGRpZCBpdCEnKTtcbiAgICAgICAgfSwgKGZlZWRiYWNrKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRGZWVkYmFja1RleHQoZmVlZGJhY2spO1xuICAgICAgICB9KTtcblxuICAgIGNvbnN0IGhlbHBNb2RhbCA9IG5ldyBIZWxwTW9kYWwoJ21vZGFsLTEnLCAnbW9kYWxCdXR0b24nKTtcbiAgICBoZWxwTW9kYWwuaW5pdCgpO1xuXG4gICAgLy8gU3RhcnQgYnkgc2hvd2luZyB0aGUga2V5IHByZXNzIG1vZGFsLlxuICAgIG5ldyBLZXlQcmVzc01vZGFsKCgpID0+IHRoaXMuc2hvd1dlbGNvbWVNb2RhbCgpKS5pbml0KCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIEJsb2NrbHkgd29ya3NwYWNlLlxuICAgKiBAcmV0dXJuIHshQmxvY2tseS5Xb3Jrc3BhY2VTdmd9IFRoZSBCbG9ja2x5IHdvcmtzcGFjZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNyZWF0ZVdvcmtzcGFjZV8oKSB7XG4gICAgLy8gSW5pdGlhbGl6ZSBCbG9ja2x5IHdvcmtzcGFjZS5cbiAgICBjb25zdCBibG9ja2x5RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jsb2NrbHlEaXYnKTtcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSBCbG9ja2x5LmluamVjdChibG9ja2x5RGl2LCB7XG4gICAgICB0b29sYm94OiB7XG4gICAgICAgICdraW5kJzogJ2ZseW91dFRvb2xib3gnLFxuICAgICAgICAnY29udGVudHMnOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgJ2tpbmQnOiAnYmxvY2snLFxuICAgICAgICAgICAgJ2Jsb2NreG1sJzogYDxibG9jayB0eXBlPVwibXVzaWNfbm90ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cIkRVUkFUSU9OXCI+MC4yNTwvZmllbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVwiUElUQ0hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2hhZG93IHR5cGU9XCJtdXNpY19waXRjaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJQSVRDSFwiPkM0PC9maWVsZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NoYWRvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+YCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgICdraW5kJzogJ2Jsb2NrJyxcbiAgICAgICAgICAgICd0eXBlJzogJ211c2ljX3Jlc3QnLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIH0pO1xuICAgIEJsb2NrbHkuQVNUTm9kZS5OQVZJR0FURV9BTExfRklFTERTID0gdHJ1ZTtcbiAgICB3b3Jrc3BhY2UuZ2V0TWFya2VyTWFuYWdlcigpLnNldEN1cnNvcihuZXcgQ3VzdG9tQ3Vyc29yKCkpO1xuICAgIHdvcmtzcGFjZS5hZGRDaGFuZ2VMaXN0ZW5lcigoZXZlbnQpID0+IHNwZWFrZXIubm9kZVRvU3BlZWNoKGV2ZW50KSk7XG4gICAgd29ya3NwYWNlLmdldEZseW91dCgpLmdldFdvcmtzcGFjZSgpLmFkZENoYW5nZUxpc3RlbmVyKFxuICAgICAgICAoZXZlbnQpID0+IHNwZWFrZXIubm9kZVRvU3BlZWNoKGV2ZW50KSk7XG4gICAgcmV0dXJuIHdvcmtzcGFjZTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGZlZWRiYWNrIHRleHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHRvIHNldCB0aGUgZmVlZGJhY2sgdG8uXG4gICAqL1xuICBzZXRGZWVkYmFja1RleHQodGV4dCkge1xuICAgIGNvbnN0IGZlZWRiYWNrVGV4dEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlZWRiYWNrVGV4dCcpO1xuICAgIGZlZWRiYWNrVGV4dEVsLmlubmVySFRNTCA9IHRleHQucmVwbGFjZUFsbCgnXFxuJywgJzxicj4nKTtcbiAgICBzcGVha2VyLnNwZWFrKHRleHQsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdvYWwgdGV4dC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgdG8gc2V0IHRoZSBnb2FsIHRvLlxuICAgKi9cbiAgc2V0R29hbFRleHQodGV4dCkge1xuICAgIGNvbnN0IGZlZWRiYWNrVGV4dEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvYWxUZXh0Jyk7XG4gICAgZmVlZGJhY2tUZXh0RWwuaW5uZXJIVE1MID0gdGV4dDtcbiAgICBzcGVha2VyLnNwZWFrKHRleHQsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBnYW1lIG9iamVjdC5cbiAgICogQHJldHVybiB7TXVzaWN9IFRoZSBjdXJyZW50IGdhbWUgb2JqZWN0LlxuICAgKi9cbiAgZ2V0R2FtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHRoZSB0dXRvcmlhbC5cbiAgICovXG4gIHJ1blR1dG9yaWFsKCkge1xuICAgIG5ldyBUdXRvcmlhbCh0aGlzLndvcmtzcGFjZSkuaW5pdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHRoZSBHYW1lLlxuICAgKi9cbiAgcnVuR2FtZSgpIHtcbiAgICB0aGlzLmdhbWUubG9hZExldmVsKDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgdGhlIHdlbGNvbWUgbW9kYWwuXG4gICAqL1xuICBzaG93V2VsY29tZU1vZGFsKCkge1xuICAgIG5ldyBXZWxjb21lTW9kYWwoKCkgPT4gdGhpcy5ydW5UdXRvcmlhbCgpLCAoKSA9PiB0aGlzLnJ1bkdhbWUoKSkuaW5pdCgpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/music_game_controller.js\n");

/***/ }),

/***/ "./src/overrides.js":
/*!**************************!*\
  !*** ./src/overrides.js ***!
  \**************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview The class representing a line cursor.\n * A line cursor traverses the blocks as if they were\n * lines of code in a text editor.\n * Previous and next go up and down lines. In and out go\n * through the elements in a line.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\n\n\n\n\nblockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.handleEnterForWS_ = function (workspace) {\n  var cursor = workspace.getCursor();\n  var curNode = cursor.getCurNode();\n  var nodeType = curNode.getType();\n\n  if (nodeType == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.FIELD && curNode.getLocation().isClickable()) {\n    // TODO: Had to override so I could add this speaker in.\n    _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak('Use next and previous to read off your options.');\n\n    /** @type {!Blockly.Field} */\n    curNode.getLocation().showEditor();\n  } else if (curNode.isConnection() || nodeType == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.WORKSPACE) {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.markAtCursor_();\n  } else if (nodeType == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.BLOCK) {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.warn_('Cannot mark a block.');\n  } else if (nodeType == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.STACK) {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.warn_('Cannot mark a stack.');\n  }\n};\n\nblockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.FieldDropdown.prototype.onBlocklyAction = function (action) {\n  var fieldNextOptions = 'To select this option hit enter';\n\n  if (this.menu_) {\n    switch (action.name) {\n      case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.actionNames.PREVIOUS:\n        this.menu_.highlightPrevious();\n        _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak(this.menu_.highlightedItem_.content_.alt, true);\n        _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak(fieldNextOptions);\n        return true;\n\n      case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.actionNames.NEXT:\n        this.menu_.highlightNext(); // TODO: Needed to override so that I could speak out the location when\n        // it changes.\n\n        _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak(this.menu_.highlightedItem_.content_.alt, true);\n        _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak(fieldNextOptions);\n        return true;\n\n      default:\n        return false;\n    }\n  }\n\n  return blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.FieldDropdown.superClass_.onBlocklyAction.call(this, action);\n};\n\nblockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Block.prototype.toString = function (opt_maxLength, opt_emptyToken) {\n  var text = [];\n  var emptyFieldPlaceholder = opt_emptyToken || '?'; // Temporarily set flag to navigate to all fields.\n\n  var prevNavigateFields = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.NAVIGATE_ALL_FIELDS;\n  blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.NAVIGATE_ALL_FIELDS = true;\n  var node = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.createBlockNode(this);\n  var rootNode = node;\n  /**\n   * Whether or not to add parentheses around an input.\n   * @param {!Blockly.Connection} connection The connection.\n   * @return {boolean} True if we should add parentheses around the input.\n   */\n\n  function shouldAddParentheses(connection) {\n    var checks = connection.getCheck();\n\n    if (!checks && connection.targetConnection) {\n      checks = connection.targetConnection.getCheck();\n    }\n\n    return !!checks && (checks.indexOf('Boolean') != -1 || checks.indexOf('Number') != -1);\n  }\n  /**\n   * Check that we haven't circled back to the original root node.\n   */\n\n\n  function checkRoot() {\n    if (node && node.getType() == rootNode.getType() && node.getLocation() == rootNode.getLocation()) {\n      node = null;\n    }\n  }\n\n  var connection = null;\n  var field = null; // Traverse the AST building up our text string.\n\n  while (node) {\n    switch (node.getType()) {\n      case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT:\n        connection =\n        /** @type {!Blockly.Connection} */\n        node.getLocation();\n\n        if (!node.in()) {\n          text.push(emptyFieldPlaceholder);\n        } else if (shouldAddParentheses(connection)) {\n          text.push('(');\n        }\n\n        break;\n\n      case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.FIELD:\n        field =\n        /** @type {Blockly.Field} */\n        node.getLocation();\n\n        if (field.name != blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Block.COLLAPSED_FIELD_NAME) {\n          text.push(field.getText());\n        }\n\n        break;\n    }\n\n    var current = node;\n    node = current.in() || current.next(); // TODO: This only works in our specific use case of having a block with a\n    // single statement connection.\n\n    if (node && node.getType() == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT && node.getLocation().type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.NEXT_STATEMENT) {\n      node = null;\n    }\n\n    if (!node) {\n      // Can't go in or next, keep going out until we can go next.\n      node = current.out();\n      checkRoot();\n\n      while (node && !node.next()) {\n        node = node.out();\n        checkRoot(); // If we hit an input on the way up, possibly close out parentheses.\n\n        if (node && node.getType() == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT && shouldAddParentheses(\n        /** @type {!Blockly.Connection} */\n        node.getLocation())) {\n          text.push(')');\n        }\n      }\n\n      if (node) {\n        node = node.next();\n      }\n    }\n  } // Restore state of NAVIGATE_ALL_FIELDS.\n\n\n  blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.NAVIGATE_ALL_FIELDS = prevNavigateFields; // Run through our text array and simplify expression to remove parentheses\n  // around single field blocks.\n\n  for (var i = 2, l = text.length; i < l; i++) {\n    if (text[i - 2] == '(' && text[i] == ')') {\n      text[i - 2] = text[i - 1];\n      text.splice(i - 1, 2);\n      l -= 2;\n    }\n  } // Join the text array, removing spaces around added paranthesis.\n\n\n  text = text.join(' ').replace(/(\\() | (\\))/gmi, '$1$2').trim() || '???';\n\n  if (opt_maxLength) {\n    // TODO: Improve truncation so that text from this block is given priority.\n    // E.g. \"1+2+3+4+5+6+7+8+9=0\" should be \"...6+7+8+9=0\", not \"1+2+3+4+5...\".\n    // E.g. \"1+2+3+4+5=6+7+8+9+0\" should be \"...4+5=6+7...\".\n    if (text.length > opt_maxLength) {\n      text = text.substring(0, opt_maxLength - 3) + '...';\n    }\n  }\n\n  return text;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb3ZlcnJpZGVzLmpzPzFjYjQiXSwibmFtZXMiOlsiQmxvY2tseSIsIm5hdmlnYXRpb24iLCJoYW5kbGVFbnRlckZvcldTXyIsIndvcmtzcGFjZSIsImN1cnNvciIsImdldEN1cnNvciIsImN1ck5vZGUiLCJnZXRDdXJOb2RlIiwibm9kZVR5cGUiLCJnZXRUeXBlIiwiQVNUTm9kZSIsInR5cGVzIiwiRklFTEQiLCJnZXRMb2NhdGlvbiIsImlzQ2xpY2thYmxlIiwic3BlYWtlciIsInNwZWFrIiwic2hvd0VkaXRvciIsImlzQ29ubmVjdGlvbiIsIldPUktTUEFDRSIsIm1hcmtBdEN1cnNvcl8iLCJCTE9DSyIsIndhcm5fIiwiU1RBQ0siLCJGaWVsZERyb3Bkb3duIiwicHJvdG90eXBlIiwib25CbG9ja2x5QWN0aW9uIiwiYWN0aW9uIiwiZmllbGROZXh0T3B0aW9ucyIsIm1lbnVfIiwibmFtZSIsImFjdGlvbk5hbWVzIiwiUFJFVklPVVMiLCJoaWdobGlnaHRQcmV2aW91cyIsImhpZ2hsaWdodGVkSXRlbV8iLCJjb250ZW50XyIsImFsdCIsIk5FWFQiLCJoaWdobGlnaHROZXh0Iiwic3VwZXJDbGFzc18iLCJjYWxsIiwiQmxvY2siLCJ0b1N0cmluZyIsIm9wdF9tYXhMZW5ndGgiLCJvcHRfZW1wdHlUb2tlbiIsInRleHQiLCJlbXB0eUZpZWxkUGxhY2Vob2xkZXIiLCJwcmV2TmF2aWdhdGVGaWVsZHMiLCJOQVZJR0FURV9BTExfRklFTERTIiwibm9kZSIsImNyZWF0ZUJsb2NrTm9kZSIsInJvb3ROb2RlIiwic2hvdWxkQWRkUGFyZW50aGVzZXMiLCJjb25uZWN0aW9uIiwiY2hlY2tzIiwiZ2V0Q2hlY2siLCJ0YXJnZXRDb25uZWN0aW9uIiwiaW5kZXhPZiIsImNoZWNrUm9vdCIsImZpZWxkIiwiSU5QVVQiLCJpbiIsInB1c2giLCJDT0xMQVBTRURfRklFTERfTkFNRSIsImdldFRleHQiLCJjdXJyZW50IiwibmV4dCIsInR5cGUiLCJORVhUX1NUQVRFTUVOVCIsIm91dCIsImkiLCJsIiwibGVuZ3RoIiwic3BsaWNlIiwiam9pbiIsInJlcGxhY2UiLCJ0cmltIiwic3Vic3RyaW5nIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNhOztBQUViO0FBQ0E7O0FBR0FBLG1EQUFPLENBQUNDLFVBQVIsQ0FBbUJDLGlCQUFuQixHQUF1QyxVQUFTQyxTQUFULEVBQW9CO0FBQ3pELE1BQU1DLE1BQU0sR0FBR0QsU0FBUyxDQUFDRSxTQUFWLEVBQWY7QUFDQSxNQUFNQyxPQUFPLEdBQUdGLE1BQU0sQ0FBQ0csVUFBUCxFQUFoQjtBQUNBLE1BQU1DLFFBQVEsR0FBR0YsT0FBTyxDQUFDRyxPQUFSLEVBQWpCOztBQUNBLE1BQUlELFFBQVEsSUFBSVIsbURBQU8sQ0FBQ1UsT0FBUixDQUFnQkMsS0FBaEIsQ0FBc0JDLEtBQWxDLElBQ0FOLE9BQU8sQ0FBQ08sV0FBUixHQUFzQkMsV0FBdEIsRUFESixFQUN5QztBQUN2QztBQUNBQyxvREFBTyxDQUFDQyxLQUFSLENBQWMsaURBQWQ7O0FBQ0M7QUFBOEJWLFdBQU8sQ0FBQ08sV0FBUixFQUEvQixDQUF1REksVUFBdkQ7QUFDRCxHQUxELE1BS08sSUFBSVgsT0FBTyxDQUFDWSxZQUFSLE1BQ1BWLFFBQVEsSUFBSVIsbURBQU8sQ0FBQ1UsT0FBUixDQUFnQkMsS0FBaEIsQ0FBc0JRLFNBRC9CLEVBQzBDO0FBQy9DbkIsdURBQU8sQ0FBQ0MsVUFBUixDQUFtQm1CLGFBQW5CO0FBQ0QsR0FITSxNQUdBLElBQUlaLFFBQVEsSUFBSVIsbURBQU8sQ0FBQ1UsT0FBUixDQUFnQkMsS0FBaEIsQ0FBc0JVLEtBQXRDLEVBQTZDO0FBQ2xEckIsdURBQU8sQ0FBQ0MsVUFBUixDQUFtQnFCLEtBQW5CLENBQXlCLHNCQUF6QjtBQUNELEdBRk0sTUFFQSxJQUFJZCxRQUFRLElBQUlS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QixJQUFJLENBQUN5QixDQUFDLEdBQUcsQ0FBTCxDQUFsQjtBQUNBekIsVUFBSSxDQUFDNEIsTUFBTCxDQUFZSCxDQUFDLEdBQUcsQ0FBaEIsRUFBbUIsQ0FBbkI7QUFDQUMsT0FBQyxJQUFJLENBQUw7QUFDRDtBQUNGLEdBL0Z3RSxDQWlHekU7OztBQUNBMUIsTUFBSSxHQUFHQSxJQUFJLENBQUM2QixJQUFMLENBQVUsR0FBVixFQUFlQyxPQUFmLENBQXVCLGdCQUF2QixFQUF5QyxNQUF6QyxFQUFpREMsSUFBakQsTUFBMkQsS0FBbEU7O0FBQ0EsTUFBSWpDLGFBQUosRUFBbUI7QUFDakI7QUFDQTtBQUNGO0FBQ0UsUUFBSUUsSUFBSSxDQUFDMkIsTUFBTCxHQUFjN0IsYUFBbEIsRUFBaUM7QUFDL0JFLFVBQUksR0FBR0EsSUFBSSxDQUFDZ0MsU0FBTCxDQUFlLENBQWYsRUFBa0JsQyxhQUFhLEdBQUcsQ0FBbEMsSUFBdUMsS0FBOUM7QUFDRDtBQUNGOztBQUNELFNBQU9FLElBQVA7QUFDRCxDQTVHRCIsImZpbGUiOiIuL3NyYy9vdmVycmlkZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBUaGUgY2xhc3MgcmVwcmVzZW50aW5nIGEgbGluZSBjdXJzb3IuXG4gKiBBIGxpbmUgY3Vyc29yIHRyYXZlcnNlcyB0aGUgYmxvY2tzIGFzIGlmIHRoZXkgd2VyZVxuICogbGluZXMgb2YgY29kZSBpbiBhIHRleHQgZWRpdG9yLlxuICogUHJldmlvdXMgYW5kIG5leHQgZ28gdXAgYW5kIGRvd24gbGluZXMuIEluIGFuZCBvdXQgZ29cbiAqIHRocm91Z2ggdGhlIGVsZW1lbnRzIGluIGEgbGluZS5cbiAqIEBhdXRob3IgYXNjaG1pZWR0QGdvb2dsZS5jb20gKEFiYnkgU2NobWllZHQpXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCB7c3BlYWtlcn0gZnJvbSAnLi9zcGVha2VyJztcblxuXG5CbG9ja2x5Lm5hdmlnYXRpb24uaGFuZGxlRW50ZXJGb3JXU18gPSBmdW5jdGlvbih3b3Jrc3BhY2UpIHtcbiAgY29uc3QgY3Vyc29yID0gd29ya3NwYWNlLmdldEN1cnNvcigpO1xuICBjb25zdCBjdXJOb2RlID0gY3Vyc29yLmdldEN1ck5vZGUoKTtcbiAgY29uc3Qgbm9kZVR5cGUgPSBjdXJOb2RlLmdldFR5cGUoKTtcbiAgaWYgKG5vZGVUeXBlID09IEJsb2NrbHkuQVNUTm9kZS50eXBlcy5GSUVMRCAmJlxuICAgICAgY3VyTm9kZS5nZXRMb2NhdGlvbigpLmlzQ2xpY2thYmxlKCkpIHtcbiAgICAvLyBUT0RPOiBIYWQgdG8gb3ZlcnJpZGUgc28gSSBjb3VsZCBhZGQgdGhpcyBzcGVha2VyIGluLlxuICAgIHNwZWFrZXIuc3BlYWsoJ1VzZSBuZXh0IGFuZCBwcmV2aW91cyB0byByZWFkIG9mZiB5b3VyIG9wdGlvbnMuJyk7XG4gICAgKC8qKiBAdHlwZSB7IUJsb2NrbHkuRmllbGR9ICovKGN1ck5vZGUuZ2V0TG9jYXRpb24oKSkpLnNob3dFZGl0b3IoKTtcbiAgfSBlbHNlIGlmIChjdXJOb2RlLmlzQ29ubmVjdGlvbigpIHx8XG4gICAgICBub2RlVHlwZSA9PSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuV09SS1NQQUNFKSB7XG4gICAgQmxvY2tseS5uYXZpZ2F0aW9uLm1hcmtBdEN1cnNvcl8oKTtcbiAgfSBlbHNlIGlmIChub2RlVHlwZSA9PSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuQkxPQ0spIHtcbiAgICBCbG9ja2x5Lm5hdmlnYXRpb24ud2Fybl8oJ0Nhbm5vdCBtYXJrIGEgYmxvY2suJyk7XG4gIH0gZWxzZSBpZiAobm9kZVR5cGUgPT0gQmxvY2tseS5BU1ROb2RlLnR5cGVzLlNUQUNLKSB7XG4gICAgQmxvY2tseS5uYXZpZ2F0aW9uLndhcm5fKCdDYW5ub3QgbWFyayBhIHN0YWNrLicpO1xuICB9XG59O1xuXG5cbkJsb2NrbHkuRmllbGREcm9wZG93bi5wcm90b3R5cGUub25CbG9ja2x5QWN0aW9uID0gZnVuY3Rpb24oYWN0aW9uKSB7XG4gIGNvbnN0IGZpZWxkTmV4dE9wdGlvbnMgPSAnVG8gc2VsZWN0IHRoaXMgb3B0aW9uIGhpdCBlbnRlcic7XG4gIGlmICh0aGlzLm1lbnVfKSB7XG4gICAgc3dpdGNoIChhY3Rpb24ubmFtZSkge1xuICAgICAgY2FzZSBCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuUFJFVklPVVM6XG4gICAgICAgIHRoaXMubWVudV8uaGlnaGxpZ2h0UHJldmlvdXMoKTtcbiAgICAgICAgc3BlYWtlci5zcGVhayh0aGlzLm1lbnVfLmhpZ2hsaWdodGVkSXRlbV8uY29udGVudF8uYWx0LCB0cnVlKTtcbiAgICAgICAgc3BlYWtlci5zcGVhayhmaWVsZE5leHRPcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5ORVhUOlxuICAgICAgICB0aGlzLm1lbnVfLmhpZ2hsaWdodE5leHQoKTtcbiAgICAgICAgLy8gVE9ETzogTmVlZGVkIHRvIG92ZXJyaWRlIHNvIHRoYXQgSSBjb3VsZCBzcGVhayBvdXQgdGhlIGxvY2F0aW9uIHdoZW5cbiAgICAgICAgLy8gaXQgY2hhbmdlcy5cbiAgICAgICAgc3BlYWtlci5zcGVhayh0aGlzLm1lbnVfLmhpZ2hsaWdodGVkSXRlbV8uY29udGVudF8uYWx0LCB0cnVlKTtcbiAgICAgICAgc3BlYWtlci5zcGVhayhmaWVsZE5leHRPcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBCbG9ja2x5LkZpZWxkRHJvcGRvd24uc3VwZXJDbGFzc18ub25CbG9ja2x5QWN0aW9uLmNhbGwodGhpcywgYWN0aW9uKTtcbn07XG5cblxuQmxvY2tseS5CbG9jay5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRfbWF4TGVuZ3RoLCBvcHRfZW1wdHlUb2tlbikge1xuICBsZXQgdGV4dCA9IFtdO1xuICBjb25zdCBlbXB0eUZpZWxkUGxhY2Vob2xkZXIgPSBvcHRfZW1wdHlUb2tlbiB8fCAnPyc7XG5cbiAgLy8gVGVtcG9yYXJpbHkgc2V0IGZsYWcgdG8gbmF2aWdhdGUgdG8gYWxsIGZpZWxkcy5cbiAgY29uc3QgcHJldk5hdmlnYXRlRmllbGRzID0gQmxvY2tseS5BU1ROb2RlLk5BVklHQVRFX0FMTF9GSUVMRFM7XG4gIEJsb2NrbHkuQVNUTm9kZS5OQVZJR0FURV9BTExfRklFTERTID0gdHJ1ZTtcblxuICBsZXQgbm9kZSA9IEJsb2NrbHkuQVNUTm9kZS5jcmVhdGVCbG9ja05vZGUodGhpcyk7XG4gIGNvbnN0IHJvb3ROb2RlID0gbm9kZTtcblxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdG8gYWRkIHBhcmVudGhlc2VzIGFyb3VuZCBhbiBpbnB1dC5cbiAgICogQHBhcmFtIHshQmxvY2tseS5Db25uZWN0aW9ufSBjb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHdlIHNob3VsZCBhZGQgcGFyZW50aGVzZXMgYXJvdW5kIHRoZSBpbnB1dC5cbiAgICovXG4gIGZ1bmN0aW9uIHNob3VsZEFkZFBhcmVudGhlc2VzKGNvbm5lY3Rpb24pIHtcbiAgICBsZXQgY2hlY2tzID0gY29ubmVjdGlvbi5nZXRDaGVjaygpO1xuICAgIGlmICghY2hlY2tzICYmIGNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbikge1xuICAgICAgY2hlY2tzID0gY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uLmdldENoZWNrKCk7XG4gICAgfVxuICAgIHJldHVybiAhIWNoZWNrcyAmJiAoY2hlY2tzLmluZGV4T2YoJ0Jvb2xlYW4nKSAhPSAtMSB8fFxuICAgICAgICBjaGVja3MuaW5kZXhPZignTnVtYmVyJykgIT0gLTEpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHRoYXQgd2UgaGF2ZW4ndCBjaXJjbGVkIGJhY2sgdG8gdGhlIG9yaWdpbmFsIHJvb3Qgbm9kZS5cbiAgICovXG4gIGZ1bmN0aW9uIGNoZWNrUm9vdCgpIHtcbiAgICBpZiAobm9kZSAmJiBub2RlLmdldFR5cGUoKSA9PSByb290Tm9kZS5nZXRUeXBlKCkgJiZcbiAgICAgICAgbm9kZS5nZXRMb2NhdGlvbigpID09IHJvb3ROb2RlLmdldExvY2F0aW9uKCkpIHtcbiAgICAgIG5vZGUgPSBudWxsO1xuICAgIH1cbiAgfVxuICBsZXQgY29ubmVjdGlvbiA9IG51bGw7XG4gIGxldCBmaWVsZCA9IG51bGw7XG5cbiAgLy8gVHJhdmVyc2UgdGhlIEFTVCBidWlsZGluZyB1cCBvdXIgdGV4dCBzdHJpbmcuXG4gIHdoaWxlIChub2RlKSB7XG4gICAgc3dpdGNoIChub2RlLmdldFR5cGUoKSkge1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuSU5QVVQ6XG4gICAgICAgIGNvbm5lY3Rpb24gPSAvKiogQHR5cGUgeyFCbG9ja2x5LkNvbm5lY3Rpb259ICovIChub2RlLmdldExvY2F0aW9uKCkpO1xuICAgICAgICBpZiAoIW5vZGUuaW4oKSkge1xuICAgICAgICAgIHRleHQucHVzaChlbXB0eUZpZWxkUGxhY2Vob2xkZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKHNob3VsZEFkZFBhcmVudGhlc2VzKGNvbm5lY3Rpb24pKSB7XG4gICAgICAgICAgdGV4dC5wdXNoKCcoJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5GSUVMRDpcbiAgICAgICAgZmllbGQgPSAvKiogQHR5cGUge0Jsb2NrbHkuRmllbGR9ICovIChub2RlLmdldExvY2F0aW9uKCkpO1xuICAgICAgICBpZiAoZmllbGQubmFtZSAhPSBCbG9ja2x5LkJsb2NrLkNPTExBUFNFRF9GSUVMRF9OQU1FKSB7XG4gICAgICAgICAgdGV4dC5wdXNoKGZpZWxkLmdldFRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudCA9IG5vZGU7XG4gICAgbm9kZSA9IGN1cnJlbnQuaW4oKSB8fCBjdXJyZW50Lm5leHQoKTtcbiAgICAvLyBUT0RPOiBUaGlzIG9ubHkgd29ya3MgaW4gb3VyIHNwZWNpZmljIHVzZSBjYXNlIG9mIGhhdmluZyBhIGJsb2NrIHdpdGggYVxuICAgIC8vIHNpbmdsZSBzdGF0ZW1lbnQgY29ubmVjdGlvbi5cbiAgICBpZiAobm9kZSAmJiBub2RlLmdldFR5cGUoKSA9PSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuSU5QVVQgJiZcbiAgICAgICAgbm9kZS5nZXRMb2NhdGlvbigpLnR5cGUgPT09IEJsb2NrbHkuTkVYVF9TVEFURU1FTlQpIHtcbiAgICAgIG5vZGUgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIC8vIENhbid0IGdvIGluIG9yIG5leHQsIGtlZXAgZ29pbmcgb3V0IHVudGlsIHdlIGNhbiBnbyBuZXh0LlxuICAgICAgbm9kZSA9IGN1cnJlbnQub3V0KCk7XG4gICAgICBjaGVja1Jvb3QoKTtcbiAgICAgIHdoaWxlIChub2RlICYmICFub2RlLm5leHQoKSkge1xuICAgICAgICBub2RlID0gbm9kZS5vdXQoKTtcbiAgICAgICAgY2hlY2tSb290KCk7XG4gICAgICAgIC8vIElmIHdlIGhpdCBhbiBpbnB1dCBvbiB0aGUgd2F5IHVwLCBwb3NzaWJseSBjbG9zZSBvdXQgcGFyZW50aGVzZXMuXG4gICAgICAgIGlmIChub2RlICYmIG5vZGUuZ2V0VHlwZSgpID09IEJsb2NrbHkuQVNUTm9kZS50eXBlcy5JTlBVVCAmJlxuICAgICAgICAgICAgc2hvdWxkQWRkUGFyZW50aGVzZXMoXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHshQmxvY2tseS5Db25uZWN0aW9ufSAqLyAobm9kZS5nZXRMb2NhdGlvbigpKSkpIHtcbiAgICAgICAgICB0ZXh0LnB1c2goJyknKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUubmV4dCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFJlc3RvcmUgc3RhdGUgb2YgTkFWSUdBVEVfQUxMX0ZJRUxEUy5cbiAgQmxvY2tseS5BU1ROb2RlLk5BVklHQVRFX0FMTF9GSUVMRFMgPSBwcmV2TmF2aWdhdGVGaWVsZHM7XG5cbiAgLy8gUnVuIHRocm91Z2ggb3VyIHRleHQgYXJyYXkgYW5kIHNpbXBsaWZ5IGV4cHJlc3Npb24gdG8gcmVtb3ZlIHBhcmVudGhlc2VzXG4gIC8vIGFyb3VuZCBzaW5nbGUgZmllbGQgYmxvY2tzLlxuICBmb3IgKGxldCBpID0gMiwgbCA9IHRleHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKHRleHRbaSAtIDJdID09ICcoJyAmJiB0ZXh0W2ldID09ICcpJykge1xuICAgICAgdGV4dFtpIC0gMl0gPSB0ZXh0W2kgLSAxXTtcbiAgICAgIHRleHQuc3BsaWNlKGkgLSAxLCAyKTtcbiAgICAgIGwgLT0gMjtcbiAgICB9XG4gIH1cblxuICAvLyBKb2luIHRoZSB0ZXh0IGFycmF5LCByZW1vdmluZyBzcGFjZXMgYXJvdW5kIGFkZGVkIHBhcmFudGhlc2lzLlxuICB0ZXh0ID0gdGV4dC5qb2luKCcgJykucmVwbGFjZSgvKFxcKCkgfCAoXFwpKS9nbWksICckMSQyJykudHJpbSgpIHx8ICc/Pz8nO1xuICBpZiAob3B0X21heExlbmd0aCkge1xuICAgIC8vIFRPRE86IEltcHJvdmUgdHJ1bmNhdGlvbiBzbyB0aGF0IHRleHQgZnJvbSB0aGlzIGJsb2NrIGlzIGdpdmVuIHByaW9yaXR5LlxuICAgIC8vIEUuZy4gXCIxKzIrMys0KzUrNis3KzgrOT0wXCIgc2hvdWxkIGJlIFwiLi4uNis3KzgrOT0wXCIsIG5vdCBcIjErMiszKzQrNS4uLlwiLlxuICAvLyBFLmcuIFwiMSsyKzMrNCs1PTYrNys4KzkrMFwiIHNob3VsZCBiZSBcIi4uLjQrNT02KzcuLi5cIi5cbiAgICBpZiAodGV4dC5sZW5ndGggPiBvcHRfbWF4TGVuZ3RoKSB7XG4gICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgb3B0X21heExlbmd0aCAtIDMpICsgJy4uLic7XG4gICAgfVxuICB9XG4gIHJldHVybiB0ZXh0O1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/overrides.js\n");

/***/ }),

/***/ "./src/speaker.js":
/*!************************!*\
  !*** ./src/speaker.js ***!
  \************************/
/*! exports provided: Speaker, speaker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Speaker\", function() { return Speaker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"speaker\", function() { return speaker; });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Speaker used for speaking out text.\n */\n\n/**\n * Convenience methods for speaking out text.\n * More information on speakers can be found here:\n * https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis.\n */\n\nvar Speaker = /*#__PURE__*/function () {\n  /**\n   * Constructor for a speaker.\n   * @param {SpeakerMessages=} optMessages Optional messages for the speaker.\n   */\n  function Speaker(optMessages) {\n    _classCallCheck(this, Speaker);\n\n    var messages = {\n      'MAIN_WS': 'On the main workspace',\n      'STACK': 'To go to the last block in the previous group of blocks, press' + 'previous. To go to the first block in the stack hit next.',\n      'PREVIOUS': 'You are on a connection before, ',\n      'NEXT': 'On a connection after, ',\n      'OUTPUT': 'On an output connection. ',\n      'CONNECTION': 'At a connection point.',\n      'BLOCK': 'On a block of type',\n      'CLICKABLE_FIELD': 'To interact with the field hit enter.',\n      'EMPTY_TOKEN': 'blank',\n      'MARK_CONNECTION': 'To mark the block press enter. ',\n      'EXIT_EDIT_MODE': 'To exit edit mode hit escape. '\n    };\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.utils.object.mixin(messages, optMessages);\n    this.setLocale(messages);\n    this.noOverrides = false;\n  }\n  /**\n   * The messages to be read out by a screen reader.\n   * @typedef {{\n   *     MAIN_WS: string,\n   *     STACK: string,\n   *     PREVIOUS: string,\n   *     NEXT: string,\n   *     OUTPUT: string,\n   *     CONNECTION: string,\n   *     BLOCK: string,\n   *     EMPTY_TOKEN: string,\n   *     MARK_CONNECTION: string,\n   * }} SpeakerMessages\n   */\n\n  /**\n   * Set the messages for the speaker.\n   * @param {!SpeakerMessages} messages The messages needed to create a speaker.\n   */\n\n\n  _createClass(Speaker, [{\n    key: \"setLocale\",\n    value: function setLocale(messages) {\n      Object.keys(messages).forEach(function (k) {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg[k] = messages[k];\n      });\n    }\n    /**\n     * Speaks out the text that was given to it.\n     * @param {string} text The text to speak out.\n     * @param {boolean=} shouldCancel True to stop the current utterance, false to\n     *     wait until the current utterance is done before speaking.\n     * @param {function=} onEnd The function to run after the text has been\n     *     spoken.\n     * @param {function=} onStart The function run when the text has begun to\n     *     be spoken.\n     * @public\n     */\n\n  }, {\n    key: \"speak\",\n    value: function speak(text, shouldCancel, onEnd, onStart) {\n      var audio = new SpeechSynthesisUtterance(text);\n\n      if (shouldCancel && !this.noOverrides && window.speechSynthesis.speaking) {\n        window.speechSynthesis.cancel();\n      }\n\n      if (onEnd) {\n        audio.onend = onEnd;\n      }\n\n      if (onStart) {\n        audio.onstart = onStart;\n      }\n\n      window.speechSynthesis.speak(audio);\n    }\n    /**\n     * Clears out the queue of text to speak.\n     * @public\n     */\n\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      window.speechSynthesis.cancel();\n    }\n    /**\n     * Pauses speaking.\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      window.speechSynthesis.pause();\n    }\n    /**\n     * Resumes speaking.\n     */\n\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      window.speechSynthesis.resume();\n    }\n    /**\n     * Speaks out text if the event is of type marker or cursor move.\n     * @param {!Blockly.Events} event The event to speak out.\n     */\n\n  }, {\n    key: \"nodeToSpeech\",\n    value: function nodeToSpeech(event) {\n      // TODO: Update this if we link to the current version of blockly.\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Events.MARKER_MOVE) {\n        var nodeText = this.nodeToText_(event.newNode, event.oldNode, !event.isCursor);\n\n        if (!event.isCursor) {\n          nodeText = \"You have marked a location. To find a new block to connect\\n        to this location hit T. ! . To insert a block on the workspace,\\n        find the location of the block and hit I. \";\n        }\n\n        this.speak(nodeText, true);\n      }\n    }\n    /**\n     * Speaks out the text for a modal.\n     * @param {Element} modal The modal to collect the text to read out.\n     * @public\n     */\n\n  }, {\n    key: \"modalToText\",\n    value: function modalToText(modal) {\n      var header = modal.querySelector('header');\n      var headerText = header.textContent.trim();\n\n      if (headerText !== '') {\n        this.speak(headerText);\n      }\n\n      this.addButtonListeners_(header.querySelectorAll('button'));\n      var mainText = modal.querySelector('main').textContent.trim();\n\n      if (mainText !== '') {\n        this.speak(mainText);\n      }\n\n      var footerBtns = modal.querySelector('footer').querySelectorAll('button');\n      this.addButtonListeners_(footerBtns);\n    }\n    /**\n     * Adds listeners for when the button is focused.\n     * @param {!NodeList} btns The buttons to add listeners to.\n     * @private\n     */\n\n  }, {\n    key: \"addButtonListeners_\",\n    value: function addButtonListeners_(btns) {\n      var _this = this;\n\n      var _iterator = _createForOfIteratorHelper(btns),\n          _step;\n\n      try {\n        var _loop = function _loop() {\n          var btn = _step.value;\n          btn.addEventListener('focus', function () {\n            _this.buttonToSpeech_(btns, btn, true);\n          });\n\n          if (document.activeElement === btn) {\n            _this.buttonToSpeech_(btns, btn, false);\n          }\n        };\n\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          _loop();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    /**\n     * Speaks out information about a button.\n     * @param {NodeList} btns The list of buttons on the modal.\n     * @param {Element} btn The button.\n     * @param {boolean} shouldCancel True if this should cancel the previous\n     *     utterance.\n     * @private\n     */\n\n  }, {\n    key: \"buttonToSpeech_\",\n    value: function buttonToSpeech_(btns, btn, shouldCancel) {\n      this.speak('Hit enter to ', shouldCancel);\n\n      if (btn.textContent === '') {\n        this.speak(btn.getAttribute('aria-label'));\n      } else {\n        this.speak(btn.textContent);\n      }\n\n      if (btns.length > 0) {\n        this.speak('Hit tab to go to your next option');\n      }\n    }\n    /**\n     * Speaks out an audio representation of the given node.\n     * @param {Blockly.ASTNode} node The node to speak out.\n     * @param {Blockly.ASTNode} oldNode The previous node to speak out.\n     * @param {boolean} isMarker True to get the text for a marker,\n     *     false otherwise.\n     * @return {string} The text representation of the node.\n     * @public\n     */\n\n  }, {\n    key: \"nodeToText_\",\n    value: function nodeToText_(node, oldNode, isMarker) {\n      var finalText = '';\n\n      switch (node.getType()) {\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.FIELD:\n          finalText = this.fieldNodeToText_(node);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.BLOCK:\n          finalText = this.blockNodeToText_(node);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT:\n          finalText = this.inputNodeToText_(node, isMarker);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.OUTPUT:\n          finalText = this.outputNodeToText_(node, isMarker);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.NEXT:\n          finalText = this.nextNodeToText_(node, isMarker);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.PREVIOUS:\n          finalText = this.previousNodeToText_(node, isMarker);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.STACK:\n          finalText = this.stackNodeToText_(node, oldNode);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.WORKSPACE:\n          finalText = this.workspaceNodeToText_(node);\n          break;\n\n        default:\n          return node.toString();\n      }\n\n      finalText += this.getNextOptions_(node, oldNode, isMarker);\n      return finalText;\n    }\n    /**\n     * Gets text explaining the next options available for a user.\n     * @param {!Blockly.ASTNode} node The current node.\n     * @param {!Blockly.ASTNode} oldNode The previous node.\n     * @param {boolean} isMarker True if the marker was moved.\n     * @return {string} Text explaining next options for the field.\n     * @private\n     */\n\n  }, {\n    key: \"getNextOptions_\",\n    value: function getNextOptions_(node, oldNode, isMarker) {\n      switch (node.getType()) {\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.FIELD:\n          return this.getFieldOptions_(node);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.BLOCK:\n          return this.getBlockOptions_(node);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT:\n          return this.getConnectionOptions_(node, isMarker);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.OUTPUT:\n          return this.getConnectionOptions_(node, isMarker);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.NEXT:\n          return this.getConnectionOptions_(node, isMarker);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.PREVIOUS:\n          return this.getConnectionOptions_(node, isMarker);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.STACK:\n          return this.getStackOptions_(node);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.WORKSPACE:\n          return '';\n\n        default:\n          return node.toString();\n      }\n    }\n    /**\n     * Gets the next options for when a user is on a field.\n     * This is to open the field or to change locations.\n     * @param {!Blockly.ASTNode} node The field node.\n     * @return {string} The text explaining the next options when a user is on a\n     *     field.\n     * @private\n     */\n\n  }, {\n    key: \"getFieldOptions_\",\n    value: function getFieldOptions_(node) {\n      var field = node.getLocation();\n\n      if (field.isClickable()) {\n        return \"To interact with the field hit enter. Use the next or previous\\n      keys to change locations. \";\n      } else {\n        return 'Use the next or previous keys to change locations. ';\n      }\n    }\n    /**\n     * Gets the next options for when a user is on a block.\n     * @return {string} The text explaining the next options for a block.\n     * @private\n     */\n\n  }, {\n    key: \"getBlockOptions_\",\n    value: function getBlockOptions_() {\n      return \"Use the next or previous keys to change locations. \";\n    }\n    /**\n     * Gets the text for the connection point.\n     * @param {!Blockly.ASTNode} node The connection node.\n     * @param {boolean} isMarker True if the marker was moved.\n     * @return {string} The text explaining the next options when a user is on a\n     *     connection.\n     * @private\n     */\n\n  }, {\n    key: \"getConnectionOptions_\",\n    value: function getConnectionOptions_(node, isMarker) {\n      var markerText = \". To mark this location, hit enter.\\n    To change locations use the next or previous keys\";\n      var finalText = '';\n\n      if (!isMarker) {\n        finalText += \"\".concat(markerText);\n      }\n\n      return finalText;\n    }\n    /**\n     * Gets the options for a user on a  stack of blocks.\n     * @param {Blockly.ASTNode} node The stack node.\n     * @return {string} The text explaining the next options when a user is on a\n     *     stack of blocks.\n     * @private\n     */\n\n  }, {\n    key: \"getStackOptions_\",\n    value: function getStackOptions_(node) {\n      var finalText = '';\n\n      if (node.prev()) {\n        finalText += \"To go to the last block in the previous group of blocks,\\n      press previous.\";\n      }\n\n      finalText += \" To go to the first block in the stack hit next.\";\n      return finalText;\n    }\n    /**\n     * Get the text for the source block of the node.\n     * @param {!Blockly.BlockSvg} srcBlock The block to get the text for.\n     * @param {string=} opt_emptyToken The optional empty token.\n     * @return {string} The text describing the source block of the node.\n     * @private\n     */\n\n  }, {\n    key: \"getBlockText_\",\n    value: function getBlockText_(srcBlock, opt_emptyToken) {\n      var emptyToken = opt_emptyToken || blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg['EMPTY_TOKEN'];\n\n      if (srcBlock) {\n        if (srcBlock.statementInputCount > 0) {\n          emptyToken = ' do blank ';\n        }\n\n        return srcBlock.toString(null, emptyToken);\n      } else {\n        return '';\n      }\n    }\n    /**\n     * Creates text for a feild.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"fieldNodeToText_\",\n    value: function fieldNodeToText_(node) {\n      var field = node.getLocation();\n      return field.getText() + '. ';\n    }\n    /**\n     * Creates text for a feild.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"blockNodeToText_\",\n    value: function blockNodeToText_(node) {\n      var block =\n      /** @type{Blockly.BlockSvg} */\n      node.getLocation();\n      var blockText = this.getBlockText_(block);\n      var finalText = '';\n\n      if (block.getSurroundParent()) {\n        var parentBlockText = this.getBlockText_(block.getSurroundParent());\n        finalText += \"You are inside of block \".concat(parentBlockText, \". . \");\n      }\n\n      finalText += \"You are on , \".concat(blockText, \". . \");\n      return finalText;\n    }\n    /**\n     * Creates text for an input.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @param {boolean} isMarker True if the marker was moved.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"inputNodeToText_\",\n    value: function inputNodeToText_(node, isMarker) {\n      var inputConnection =\n      /** @type{Blockly.Input} */\n      node.getLocation();\n      var connectionText = \"You are on a connection\";\n      var finalText = '';\n\n      if (inputConnection.type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.NEXT_STATEMENT) {\n        var blockText = this.getBlockText_(node.getSourceBlock());\n        finalText = \"Inside \".concat(blockText, \". \").concat(connectionText, \". \");\n      } else if (inputConnection.type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.INPUT_VALUE) {\n        var _blockText = this.getBlockText_(node.getSourceBlock(), ' ');\n\n        finalText = \"\".concat(connectionText, \" after \").concat(_blockText);\n      }\n\n      return finalText;\n    }\n    /**\n     * Creates text for a output connection.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"outputNodeToText_\",\n    value: function outputNodeToText_(node) {\n      var blockText = this.getBlockText_(node.getSourceBlock());\n      return \"You are on a connection for block, \".concat(blockText);\n    }\n    /**\n     * Creates text for a next connection.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @param {boolean} isMarker True to get the text for a marker,\n     *     false otherwise.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"nextNodeToText_\",\n    value: function nextNodeToText_(node, isMarker) {\n      var block = node.getSourceBlock();\n      var blockText = this.getBlockText_(node.getSourceBlock());\n      var finalText = '';\n\n      if (block.getSurroundParent()) {\n        var parentBlockText = this.getBlockText_(block.getSurroundParent());\n        finalText += \"You are inside of block \".concat(parentBlockText, \". . \");\n      }\n\n      finalText += \"\".concat(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg['NEXT'], \" \").concat(blockText);\n      return finalText;\n    }\n    /**\n     * Creates text for a previous connection.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @param {boolean} isMarker True to get the text for a marker,\n     *     false otherwise.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"previousNodeToText_\",\n    value: function previousNodeToText_(node, isMarker) {\n      var block = node.getSourceBlock();\n      var blockText = this.getBlockText_(block);\n      var finalText = '';\n\n      if (block.getSurroundParent()) {\n        var parentBlockText = this.getBlockText_(block.getSurroundParent());\n        finalText += \"You are inside of block \".concat(parentBlockText, \". . \");\n      }\n\n      finalText += \"\".concat(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg['PREVIOUS'], \" \").concat(blockText);\n      return finalText;\n    }\n    /**\n     * Creates text for a stack of blocks.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @param {!Blockly.ASTNode} oldNode The previous node.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"stackNodeToText_\",\n    value: function stackNodeToText_(node, oldNode) {\n      var srcBlock = node.getSourceBlock();\n      var newNodeTopBlock = srcBlock.getTopStackBlock();\n      var oldNodeTopBlock = null;\n\n      if (oldNode && oldNode.getSourceBlock()) {\n        oldNodeTopBlock = oldNode.getSourceBlock().getTopStackBlock();\n      }\n\n      var finalText = '';\n\n      if (srcBlock && srcBlock.workspace.isFlyout) {\n        finalText = this.getBlockText_(node.getSourceBlock());\n        finalText += \" . . To add this block to the workspace press Enter. .\\n      To go to the next block hit next. . To go back to the workspace\\n      hit escape. \";\n      } else if (srcBlock) {\n        if (oldNodeTopBlock !== newNodeTopBlock) {\n          finalText += \"You are on a new group of blocks. \";\n        } else {\n          finalText += \"You are on a group of blocks. \";\n        }\n      }\n\n      return finalText;\n    }\n    /**\n     * Creates text for a workspace.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"workspaceNodeToText_\",\n    value: function workspaceNodeToText_(node) {\n      var workspace =\n      /** @type{Blockly.WorkspaceSvg} */\n      node.getLocation(); // TODO: All text should be added to Blockly.Msg to allow for translation.\n\n      var text = null;\n\n      if (workspace.isFlyout) {\n        text = 'In the flyout, please select a block';\n      } else if (workspace.isMutator) {\n        text = 'In the mutator workspace, use this workspace to change a block';\n      } else {\n        text = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg['MAIN_WS'];\n      }\n\n      return text;\n    }\n  }]);\n\n  return Speaker;\n}();\nvar speaker = new Speaker();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3BlYWtlci5qcz9jZDc3Il0sIm5hbWVzIjpbIlNwZWFrZXIiLCJvcHRNZXNzYWdlcyIsIm1lc3NhZ2VzIiwiQmxvY2tseSIsInV0aWxzIiwib2JqZWN0IiwibWl4aW4iLCJzZXRMb2NhbGUiLCJub092ZXJyaWRlcyIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiayIsIk1zZyIsInRleHQiLCJzaG91bGRDYW5jZWwiLCJvbkVuZCIsIm9uU3RhcnQiLCJhdWRpbyIsIlNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSIsIndpbmRvdyIsInNwZWVjaFN5bnRoZXNpcyIsInNwZWFraW5nIiwiY2FuY2VsIiwib25lbmQiLCJvbnN0YXJ0Iiwic3BlYWsiLCJwYXVzZSIsInJlc3VtZSIsImV2ZW50IiwidHlwZSIsIkV2ZW50cyIsIk1BUktFUl9NT1ZFIiwibm9kZVRleHQiLCJub2RlVG9UZXh0XyIsIm5ld05vZGUiLCJvbGROb2RlIiwiaXNDdXJzb3IiLCJtb2RhbCIsImhlYWRlciIsInF1ZXJ5U2VsZWN0b3IiLCJoZWFkZXJUZXh0IiwidGV4dENvbnRlbnQiLCJ0cmltIiwiYWRkQnV0dG9uTGlzdGVuZXJzXyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtYWluVGV4dCIsImZvb3RlckJ0bnMiLCJidG5zIiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJ1dHRvblRvU3BlZWNoXyIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImxlbmd0aCIsIm5vZGUiLCJpc01hcmtlciIsImZpbmFsVGV4dCIsImdldFR5cGUiLCJBU1ROb2RlIiwidHlwZXMiLCJGSUVMRCIsImZpZWxkTm9kZVRvVGV4dF8iLCJCTE9DSyIsImJsb2NrTm9kZVRvVGV4dF8iLCJJTlBVVCIsImlucHV0Tm9kZVRvVGV4dF8iLCJPVVRQVVQiLCJvdXRwdXROb2RlVG9UZXh0XyIsIk5FWFQiLCJuZXh0Tm9kZVRvVGV4dF8iLCJQUkVWSU9VUyIsInByZXZpb3VzTm9kZVRvVGV4dF8iLCJTVEFDSyIsInN0YWNrTm9kZVRvVGV4dF8iLCJXT1JLU1BBQ0UiLCJ3b3Jrc3BhY2VOb2RlVG9UZXh0XyIsInRvU3RyaW5nIiwiZ2V0TmV4dE9wdGlvbnNfIiwiZ2V0RmllbGRPcHRpb25zXyIsImdldEJsb2NrT3B0aW9uc18iLCJnZXRDb25uZWN0aW9uT3B0aW9uc18iLCJnZXRTdGFja09wdGlvbnNfIiwiZmllbGQiLCJnZXRMb2NhdGlvbiIsImlzQ2xpY2thYmxlIiwibWFya2VyVGV4dCIsInByZXYiLCJzcmNCbG9jayIsIm9wdF9lbXB0eVRva2VuIiwiZW1wdHlUb2tlbiIsInN0YXRlbWVudElucHV0Q291bnQiLCJnZXRUZXh0IiwiYmxvY2siLCJibG9ja1RleHQiLCJnZXRCbG9ja1RleHRfIiwiZ2V0U3Vycm91bmRQYXJlbnQiLCJwYXJlbnRCbG9ja1RleHQiLCJpbnB1dENvbm5lY3Rpb24iLCJjb25uZWN0aW9uVGV4dCIsIk5FWFRfU1RBVEVNRU5UIiwiZ2V0U291cmNlQmxvY2siLCJJTlBVVF9WQUxVRSIsIm5ld05vZGVUb3BCbG9jayIsImdldFRvcFN0YWNrQmxvY2siLCJvbGROb2RlVG9wQmxvY2siLCJ3b3Jrc3BhY2UiLCJpc0ZseW91dCIsImlzTXV0YXRvciIsInNwZWFrZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sSUFBTUEsT0FBYjtBQUNFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0UsbUJBQVlDLFdBQVosRUFBeUI7QUFBQTs7QUFDdkIsUUFBTUMsUUFBUSxHQUFHO0FBQ2YsaUJBQVcsdUJBREk7QUFFZixlQUNJLG1FQUNBLDJEQUpXO0FBS2Ysa0JBQVksa0NBTEc7QUFNZixjQUFRLHlCQU5PO0FBT2YsZ0JBQVUsMkJBUEs7QUFRZixvQkFBYyx3QkFSQztBQVNmLGVBQVMsb0JBVE07QUFVZix5QkFBbUIs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RCxpQkFBUyxHQUFHLEtBQUtzQyxhQUFMLENBQW1CeEMsSUFBSSxDQUFDOEMsY0FBTCxFQUFuQixDQUFaO0FBQ0E1QyxpQkFBUyx1SkFBVDtBQUdELE9BTEQsTUFLTyxJQUFJK0IsUUFBSixFQUFjO0FBQ25CLFlBQUlpQixlQUFlLEtBQUtGLGVBQXhCLEVBQXlDO0FBQ3ZDOUMsbUJBQVMsd0NBQVQ7QUFDRCxTQUZELE1BRU87QUFDTEEsbUJBQVMsb0NBQVQ7QUFDRDtBQUNGOztBQUNELGFBQU9BLFNBQVA7QUFDRDtBQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUExZEE7QUFBQTtBQUFBLHlDQTJkdUJGLElBM2R2QixFQTJkNkI7QUFDekIsVUFBTW1ELFNBQVM7QUFBRztBQUFvQ25ELFVBQUksQ0FBQzZCLFdBQUwsRUFBdEQsQ0FEeUIsQ0FFekI7O0FBQ0EsVUFBSXZFLElBQUksR0FBRyxJQUFYOztBQUNBLFVBQUk2RixTQUFTLENBQUNDLFFBQWQsRUFBd0I7QUFDdEI5RixZQUFJLEdBQUcsc0NBQVA7QUFDRCxPQUZELE1BRU8sSUFBSTZGLFNBQVMsQ0FBQ0UsU0FBZCxFQUF5QjtBQUM5Qi9GLFlBQUksR0FBRyxnRUFBUDtBQUNELE9BRk0sTUFFQTtBQUNMQSxZQUFJLEdBQUdYLG1EQUFPLENBQUNVLEdBQVIsQ0FBWSxTQUFaLENBQVA7QUFDRDs7QUFDRCxhQUFPQyxJQUFQO0FBQ0Q7QUF2ZUg7O0FBQUE7QUFBQTtBQTBlTyxJQUFNZ0csT0FBTyxHQUFHLElBQUk5RyxPQUFKLEVBQWhCIiwiZmlsZSI6Ii4vc3JjL3NwZWFrZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNwZWFrZXIgdXNlZCBmb3Igc3BlYWtpbmcgb3V0IHRleHQuXG4gKi9cblxuaW1wb3J0IEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcblxuLyoqXG4gKiBDb252ZW5pZW5jZSBtZXRob2RzIGZvciBzcGVha2luZyBvdXQgdGV4dC5cbiAqIE1vcmUgaW5mb3JtYXRpb24gb24gc3BlYWtlcnMgY2FuIGJlIGZvdW5kIGhlcmU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU3BlZWNoU3ludGhlc2lzLlxuICovXG5leHBvcnQgY2xhc3MgU3BlYWtlciB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgYSBzcGVha2VyLlxuICAgKiBAcGFyYW0ge1NwZWFrZXJNZXNzYWdlcz19IG9wdE1lc3NhZ2VzIE9wdGlvbmFsIG1lc3NhZ2VzIGZvciB0aGUgc3BlYWtlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdE1lc3NhZ2VzKSB7XG4gICAgY29uc3QgbWVzc2FnZXMgPSB7XG4gICAgICAnTUFJTl9XUyc6ICdPbiB0aGUgbWFpbiB3b3Jrc3BhY2UnLFxuICAgICAgJ1NUQUNLJzpcbiAgICAgICAgICAnVG8gZ28gdG8gdGhlIGxhc3QgYmxvY2sgaW4gdGhlIHByZXZpb3VzIGdyb3VwIG9mIGJsb2NrcywgcHJlc3MnICtcbiAgICAgICAgICAncHJldmlvdXMuIFRvIGdvIHRvIHRoZSBmaXJzdCBibG9jayBpbiB0aGUgc3RhY2sgaGl0IG5leHQuJyxcbiAgICAgICdQUkVWSU9VUyc6ICdZb3UgYXJlIG9uIGEgY29ubmVjdGlvbiBiZWZvcmUsICcsXG4gICAgICAnTkVYVCc6ICdPbiBhIGNvbm5lY3Rpb24gYWZ0ZXIsICcsXG4gICAgICAnT1VUUFVUJzogJ09uIGFuIG91dHB1dCBjb25uZWN0aW9uLiAnLFxuICAgICAgJ0NPTk5FQ1RJT04nOiAnQXQgYSBjb25uZWN0aW9uIHBvaW50LicsXG4gICAgICAnQkxPQ0snOiAnT24gYSBibG9jayBvZiB0eXBlJyxcbiAgICAgICdDTElDS0FCTEVfRklFTEQnOiAnVG8gaW50ZXJhY3Qgd2l0aCB0aGUgZmllbGQgaGl0IGVudGVyLicsXG4gICAgICAnRU1QVFlfVE9LRU4nOiAnYmxhbmsnLFxuICAgICAgJ01BUktfQ09OTkVDVElPTic6ICdUbyBtYXJrIHRoZSBibG9jayBwcmVzcyBlbnRlci4gJyxcbiAgICAgICdFWElUX0VESVRfTU9ERSc6ICdUbyBleGl0IGVkaXQgbW9kZSBoaXQgZXNjYXBlLiAnLFxuICAgIH07XG5cbiAgICBCbG9ja2x5LnV0aWxzLm9iamVjdC5taXhpbihtZXNzYWdlcywgb3B0TWVzc2FnZXMpO1xuXG4gICAgdGhpcy5zZXRMb2NhbGUobWVzc2FnZXMpO1xuICAgIHRoaXMubm9PdmVycmlkZXMgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbWVzc2FnZXMgdG8gYmUgcmVhZCBvdXQgYnkgYSBzY3JlZW4gcmVhZGVyLlxuICAgKiBAdHlwZWRlZiB7e1xuICAgKiAgICAgTUFJTl9XUzogc3RyaW5nLFxuICAgKiAgICAgU1RBQ0s6IHN0cmluZyxcbiAgICogICAgIFBSRVZJT1VTOiBzdHJpbmcsXG4gICAqICAgICBORVhUOiBzdHJpbmcsXG4gICAqICAgICBPVVRQVVQ6IHN0cmluZyxcbiAgICogICAgIENPTk5FQ1RJT046IHN0cmluZyxcbiAgICogICAgIEJMT0NLOiBzdHJpbmcsXG4gICAqICAgICBFTVBUWV9UT0tFTjogc3RyaW5nLFxuICAgKiAgICAgTUFSS19DT05ORUNUSU9OOiBzdHJpbmcsXG4gICAqIH19IFNwZWFrZXJNZXNzYWdlc1xuICAgKi9cblxuICAvKipcbiAgICogU2V0IHRoZSBtZXNzYWdlcyBmb3IgdGhlIHNwZWFrZXIuXG4gICAqIEBwYXJhbSB7IVNwZWFrZXJNZXNzYWdlc30gbWVzc2FnZXMgVGhlIG1lc3NhZ2VzIG5lZWRlZCB0byBjcmVhdGUgYSBzcGVha2VyLlxuICAgKi9cbiAgc2V0TG9jYWxlKG1lc3NhZ2VzKSB7XG4gICAgT2JqZWN0LmtleXMobWVzc2FnZXMpLmZvckVhY2goKGspID0+IHtcbiAgICAgIEJsb2NrbHkuTXNnW2tdID0gbWVzc2FnZXNba107XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3BlYWtzIG91dCB0aGUgdGV4dCB0aGF0IHdhcyBnaXZlbiB0byBpdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgdG8gc3BlYWsgb3V0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBzaG91bGRDYW5jZWwgVHJ1ZSB0byBzdG9wIHRoZSBjdXJyZW50IHV0dGVyYW5jZSwgZmFsc2UgdG9cbiAgICogICAgIHdhaXQgdW50aWwgdGhlIGN1cnJlbnQgdXR0ZXJhbmNlIGlzIGRvbmUgYmVmb3JlIHNwZWFraW5nLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uPX0gb25FbmQgVGhlIGZ1bmN0aW9uIHRvIHJ1biBhZnRlciB0aGUgdGV4dCBoYXMgYmVlblxuICAgKiAgICAgc3Bva2VuLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uPX0gb25TdGFydCBUaGUgZnVuY3Rpb24gcnVuIHdoZW4gdGhlIHRleHQgaGFzIGJlZ3VuIHRvXG4gICAqICAgICBiZSBzcG9rZW4uXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHNwZWFrKHRleHQsIHNob3VsZENhbmNlbCwgb25FbmQsIG9uU3RhcnQpIHtcbiAgICBjb25zdCBhdWRpbyA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UodGV4dCk7XG5cbiAgICBpZiAoc2hvdWxkQ2FuY2VsICYmICF0aGlzLm5vT3ZlcnJpZGVzICYmIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuc3BlYWtpbmcpIHtcbiAgICAgIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuY2FuY2VsKCk7XG4gICAgfVxuXG4gICAgaWYgKG9uRW5kKSB7XG4gICAgICBhdWRpby5vbmVuZCA9IG9uRW5kO1xuICAgIH1cblxuICAgIGlmIChvblN0YXJ0KSB7XG4gICAgICBhdWRpby5vbnN0YXJ0ID0gb25TdGFydDtcbiAgICB9XG4gICAgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5zcGVhayhhdWRpbyk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIG91dCB0aGUgcXVldWUgb2YgdGV4dCB0byBzcGVhay5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY2FuY2VsKCkge1xuICAgIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuY2FuY2VsKCk7XG4gIH1cblxuICAvKipcbiAgICogUGF1c2VzIHNwZWFraW5nLlxuICAgKi9cbiAgcGF1c2UoKSB7XG4gICAgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5wYXVzZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3VtZXMgc3BlYWtpbmcuXG4gICAqL1xuICByZXN1bWUoKSB7XG4gICAgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5yZXN1bWUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGVha3Mgb3V0IHRleHQgaWYgdGhlIGV2ZW50IGlzIG9mIHR5cGUgbWFya2VyIG9yIGN1cnNvciBtb3ZlLlxuICAgKiBAcGFyYW0geyFCbG9ja2x5LkV2ZW50c30gZXZlbnQgVGhlIGV2ZW50IHRvIHNwZWFrIG91dC5cbiAgICovXG4gIG5vZGVUb1NwZWVjaChldmVudCkge1xuICAgIC8vIFRPRE86IFVwZGF0ZSB0aGlzIGlmIHdlIGxpbmsgdG8gdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBibG9ja2x5LlxuICAgIGlmIChldmVudC50eXBlID09PSBCbG9ja2x5LkV2ZW50cy5NQVJLRVJfTU9WRSkge1xuICAgICAgbGV0IG5vZGVUZXh0ID1cbiAgICAgICAgICB0aGlzLm5vZGVUb1RleHRfKGV2ZW50Lm5ld05vZGUsIGV2ZW50Lm9sZE5vZGUsICFldmVudC5pc0N1cnNvcik7XG4gICAgICBpZiAoIWV2ZW50LmlzQ3Vyc29yKSB7XG4gICAgICAgIG5vZGVUZXh0ID0gYFlvdSBoYXZlIG1hcmtlZCBhIGxvY2F0aW9uLiBUbyBmaW5kIGEgbmV3IGJsb2NrIHRvIGNvbm5lY3RcbiAgICAgICAgdG8gdGhpcyBsb2NhdGlvbiBoaXQgVC4gISAuIFRvIGluc2VydCBhIGJsb2NrIG9uIHRoZSB3b3Jrc3BhY2UsXG4gICAgICAgIGZpbmQgdGhlIGxvY2F0aW9uIG9mIHRoZSBibG9jayBhbmQgaGl0IEkuIGA7XG4gICAgICB9XG4gICAgICB0aGlzLnNwZWFrKG5vZGVUZXh0LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3BlYWtzIG91dCB0aGUgdGV4dCBmb3IgYSBtb2RhbC5cbiAgICogQHBhcmFtIHtFbGVtZW50fSBtb2RhbCBUaGUgbW9kYWwgdG8gY29sbGVjdCB0aGUgdGV4dCB0byByZWFkIG91dC5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgbW9kYWxUb1RleHQobW9kYWwpIHtcbiAgICBjb25zdCBoZWFkZXIgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdoZWFkZXInKTtcbiAgICBjb25zdCBoZWFkZXJUZXh0ID0gaGVhZGVyLnRleHRDb250ZW50LnRyaW0oKTtcbiAgICBpZiAoaGVhZGVyVGV4dCAhPT0gJycpIHtcbiAgICAgIHRoaXMuc3BlYWsoaGVhZGVyVGV4dCk7XG4gICAgfVxuICAgIHRoaXMuYWRkQnV0dG9uTGlzdGVuZXJzXyhoZWFkZXIucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJykpO1xuXG4gICAgY29uc3QgbWFpblRleHQgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdtYWluJykudGV4dENvbnRlbnQudHJpbSgpO1xuXG4gICAgaWYgKG1haW5UZXh0ICE9PSAnJykge1xuICAgICAgdGhpcy5zcGVhayhtYWluVGV4dCk7XG4gICAgfVxuXG4gICAgY29uc3QgZm9vdGVyQnRucyA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2Zvb3RlcicpLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbicpO1xuICAgIHRoaXMuYWRkQnV0dG9uTGlzdGVuZXJzXyhmb290ZXJCdG5zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGxpc3RlbmVycyBmb3Igd2hlbiB0aGUgYnV0dG9uIGlzIGZvY3VzZWQuXG4gICAqIEBwYXJhbSB7IU5vZGVMaXN0fSBidG5zIFRoZSBidXR0b25zIHRvIGFkZCBsaXN0ZW5lcnMgdG8uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhZGRCdXR0b25MaXN0ZW5lcnNfKGJ0bnMpIHtcbiAgICBmb3IgKGNvbnN0IGJ0biBvZiBidG5zKSB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuYnV0dG9uVG9TcGVlY2hfKGJ0bnMsIGJ0biwgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBidG4pIHtcbiAgICAgICAgdGhpcy5idXR0b25Ub1NwZWVjaF8oYnRucywgYnRuLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNwZWFrcyBvdXQgaW5mb3JtYXRpb24gYWJvdXQgYSBidXR0b24uXG4gICAqIEBwYXJhbSB7Tm9kZUxpc3R9IGJ0bnMgVGhlIGxpc3Qgb2YgYnV0dG9ucyBvbiB0aGUgbW9kYWwuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gYnRuIFRoZSBidXR0b24uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvdWxkQ2FuY2VsIFRydWUgaWYgdGhpcyBzaG91bGQgY2FuY2VsIHRoZSBwcmV2aW91c1xuICAgKiAgICAgdXR0ZXJhbmNlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYnV0dG9uVG9TcGVlY2hfKGJ0bnMsIGJ0biwgc2hvdWxkQ2FuY2VsKSB7XG4gICAgdGhpcy5zcGVhaygnSGl0IGVudGVyIHRvICcsIHNob3VsZENhbmNlbCk7XG4gICAgaWYgKGJ0bi50ZXh0Q29udGVudCA9PT0gJycpIHtcbiAgICAgIHRoaXMuc3BlYWsoYnRuLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zcGVhayhidG4udGV4dENvbnRlbnQpO1xuICAgIH1cbiAgICBpZiAoYnRucy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnNwZWFrKCdIaXQgdGFiIHRvIGdvIHRvIHlvdXIgbmV4dCBvcHRpb24nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3BlYWtzIG91dCBhbiBhdWRpbyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gbm9kZS5cbiAgICogQHBhcmFtIHtCbG9ja2x5LkFTVE5vZGV9IG5vZGUgVGhlIG5vZGUgdG8gc3BlYWsgb3V0LlxuICAgKiBAcGFyYW0ge0Jsb2NrbHkuQVNUTm9kZX0gb2xkTm9kZSBUaGUgcHJldmlvdXMgbm9kZSB0byBzcGVhayBvdXQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNYXJrZXIgVHJ1ZSB0byBnZXQgdGhlIHRleHQgZm9yIGEgbWFya2VyLFxuICAgKiAgICAgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlLlxuICAgKiBAcHVibGljXG4gICAqL1xuICBub2RlVG9UZXh0Xyhub2RlLCBvbGROb2RlLCBpc01hcmtlcikge1xuICAgIGxldCBmaW5hbFRleHQgPSAnJztcbiAgICBzd2l0Y2ggKG5vZGUuZ2V0VHlwZSgpKSB7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5GSUVMRDpcbiAgICAgICAgZmluYWxUZXh0ID0gdGhpcy5maWVsZE5vZGVUb1RleHRfKG5vZGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLkJMT0NLOlxuICAgICAgICBmaW5hbFRleHQgPSB0aGlzLmJsb2NrTm9kZVRvVGV4dF8obm9kZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuSU5QVVQ6XG4gICAgICAgIGZpbmFsVGV4dCA9IHRoaXMuaW5wdXROb2RlVG9UZXh0Xyhub2RlLCBpc01hcmtlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuT1VUUFVUOlxuICAgICAgICBmaW5hbFRleHQgPSB0aGlzLm91dHB1dE5vZGVUb1RleHRfKG5vZGUsIGlzTWFya2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5ORVhUOlxuICAgICAgICBmaW5hbFRleHQgPSB0aGlzLm5leHROb2RlVG9UZXh0Xyhub2RlLCBpc01hcmtlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuUFJFVklPVVM6XG4gICAgICAgIGZpbmFsVGV4dCA9IHRoaXMucHJldmlvdXNOb2RlVG9UZXh0Xyhub2RlLCBpc01hcmtlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuU1RBQ0s6XG4gICAgICAgIGZpbmFsVGV4dCA9IHRoaXMuc3RhY2tOb2RlVG9UZXh0Xyhub2RlLCBvbGROb2RlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5XT1JLU1BBQ0U6XG4gICAgICAgIGZpbmFsVGV4dCA9IHRoaXMud29ya3NwYWNlTm9kZVRvVGV4dF8obm9kZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG5vZGUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgZmluYWxUZXh0ICs9IHRoaXMuZ2V0TmV4dE9wdGlvbnNfKG5vZGUsIG9sZE5vZGUsIGlzTWFya2VyKTtcbiAgICByZXR1cm4gZmluYWxUZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGV4dCBleHBsYWluaW5nIHRoZSBuZXh0IG9wdGlvbnMgYXZhaWxhYmxlIGZvciBhIHVzZXIuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgY3VycmVudCBub2RlLlxuICAgKiBAcGFyYW0geyFCbG9ja2x5LkFTVE5vZGV9IG9sZE5vZGUgVGhlIHByZXZpb3VzIG5vZGUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNYXJrZXIgVHJ1ZSBpZiB0aGUgbWFya2VyIHdhcyBtb3ZlZC5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUZXh0IGV4cGxhaW5pbmcgbmV4dCBvcHRpb25zIGZvciB0aGUgZmllbGQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXROZXh0T3B0aW9uc18obm9kZSwgb2xkTm9kZSwgaXNNYXJrZXIpIHtcbiAgICBzd2l0Y2ggKG5vZGUuZ2V0VHlwZSgpKSB7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5GSUVMRDpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmllbGRPcHRpb25zXyhub2RlKTtcbiAgICAgIGNhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLkJMT0NLOlxuICAgICAgICByZXR1cm4gdGhpcy5nZXRCbG9ja09wdGlvbnNfKG5vZGUpO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuSU5QVVQ6XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbm5lY3Rpb25PcHRpb25zXyhub2RlLCBpc01hcmtlcik7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5PVVRQVVQ6XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbm5lY3Rpb25PcHRpb25zXyhub2RlLCBpc01hcmtlcik7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5ORVhUOlxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb25uZWN0aW9uT3B0aW9uc18obm9kZSwgaXNNYXJrZXIpO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuUFJFVklPVVM6XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbm5lY3Rpb25PcHRpb25zXyhub2RlLCBpc01hcmtlcik7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5TVEFDSzpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RhY2tPcHRpb25zXyhub2RlKTtcbiAgICAgIGNhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLldPUktTUEFDRTpcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG5vZGUudG9TdHJpbmcoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbmV4dCBvcHRpb25zIGZvciB3aGVuIGEgdXNlciBpcyBvbiBhIGZpZWxkLlxuICAgKiBUaGlzIGlzIHRvIG9wZW4gdGhlIGZpZWxkIG9yIHRvIGNoYW5nZSBsb2NhdGlvbnMuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgZmllbGQgbm9kZS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBleHBsYWluaW5nIHRoZSBuZXh0IG9wdGlvbnMgd2hlbiBhIHVzZXIgaXMgb24gYVxuICAgKiAgICAgZmllbGQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRGaWVsZE9wdGlvbnNfKG5vZGUpIHtcbiAgICBjb25zdCBmaWVsZCA9IG5vZGUuZ2V0TG9jYXRpb24oKTtcbiAgICBpZiAoZmllbGQuaXNDbGlja2FibGUoKSkge1xuICAgICAgcmV0dXJuIGBUbyBpbnRlcmFjdCB3aXRoIHRoZSBmaWVsZCBoaXQgZW50ZXIuIFVzZSB0aGUgbmV4dCBvciBwcmV2aW91c1xuICAgICAga2V5cyB0byBjaGFuZ2UgbG9jYXRpb25zLiBgO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ1VzZSB0aGUgbmV4dCBvciBwcmV2aW91cyBrZXlzIHRvIGNoYW5nZSBsb2NhdGlvbnMuICc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG5leHQgb3B0aW9ucyBmb3Igd2hlbiBhIHVzZXIgaXMgb24gYSBibG9jay5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBleHBsYWluaW5nIHRoZSBuZXh0IG9wdGlvbnMgZm9yIGEgYmxvY2suXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRCbG9ja09wdGlvbnNfKCkge1xuICAgIHJldHVybiBgVXNlIHRoZSBuZXh0IG9yIHByZXZpb3VzIGtleXMgdG8gY2hhbmdlIGxvY2F0aW9ucy4gYDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB0ZXh0IGZvciB0aGUgY29ubmVjdGlvbiBwb2ludC5cbiAgICogQHBhcmFtIHshQmxvY2tseS5BU1ROb2RlfSBub2RlIFRoZSBjb25uZWN0aW9uIG5vZGUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNYXJrZXIgVHJ1ZSBpZiB0aGUgbWFya2VyIHdhcyBtb3ZlZC5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBleHBsYWluaW5nIHRoZSBuZXh0IG9wdGlvbnMgd2hlbiBhIHVzZXIgaXMgb24gYVxuICAgKiAgICAgY29ubmVjdGlvbi5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldENvbm5lY3Rpb25PcHRpb25zXyhub2RlLCBpc01hcmtlcikge1xuICAgIGNvbnN0IG1hcmtlclRleHQgPSBgLiBUbyBtYXJrIHRoaXMgbG9jYXRpb24sIGhpdCBlbnRlci5cbiAgICBUbyBjaGFuZ2UgbG9jYXRpb25zIHVzZSB0aGUgbmV4dCBvciBwcmV2aW91cyBrZXlzYDtcbiAgICBsZXQgZmluYWxUZXh0ID0gJyc7XG4gICAgaWYgKCFpc01hcmtlcikge1xuICAgICAgZmluYWxUZXh0ICs9IGAke21hcmtlclRleHR9YDtcbiAgICB9XG4gICAgcmV0dXJuIGZpbmFsVGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBvcHRpb25zIGZvciBhIHVzZXIgb24gYSAgc3RhY2sgb2YgYmxvY2tzLlxuICAgKiBAcGFyYW0ge0Jsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgc3RhY2sgbm9kZS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBleHBsYWluaW5nIHRoZSBuZXh0IG9wdGlvbnMgd2hlbiBhIHVzZXIgaXMgb24gYVxuICAgKiAgICAgc3RhY2sgb2YgYmxvY2tzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0U3RhY2tPcHRpb25zXyhub2RlKSB7XG4gICAgbGV0IGZpbmFsVGV4dCA9ICcnO1xuICAgIGlmIChub2RlLnByZXYoKSkge1xuICAgICAgZmluYWxUZXh0ICs9IGBUbyBnbyB0byB0aGUgbGFzdCBibG9jayBpbiB0aGUgcHJldmlvdXMgZ3JvdXAgb2YgYmxvY2tzLFxuICAgICAgcHJlc3MgcHJldmlvdXMuYDtcbiAgICB9XG4gICAgZmluYWxUZXh0ICs9IGAgVG8gZ28gdG8gdGhlIGZpcnN0IGJsb2NrIGluIHRoZSBzdGFjayBoaXQgbmV4dC5gO1xuICAgIHJldHVybiBmaW5hbFRleHQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0ZXh0IGZvciB0aGUgc291cmNlIGJsb2NrIG9mIHRoZSBub2RlLlxuICAgKiBAcGFyYW0geyFCbG9ja2x5LkJsb2NrU3ZnfSBzcmNCbG9jayBUaGUgYmxvY2sgdG8gZ2V0IHRoZSB0ZXh0IGZvci5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfZW1wdHlUb2tlbiBUaGUgb3B0aW9uYWwgZW1wdHkgdG9rZW4uXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgZGVzY3JpYmluZyB0aGUgc291cmNlIGJsb2NrIG9mIHRoZSBub2RlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0QmxvY2tUZXh0XyhzcmNCbG9jaywgb3B0X2VtcHR5VG9rZW4pIHtcbiAgICBsZXQgZW1wdHlUb2tlbiA9IG9wdF9lbXB0eVRva2VuIHx8IEJsb2NrbHkuTXNnWydFTVBUWV9UT0tFTiddO1xuICAgIGlmIChzcmNCbG9jaykge1xuICAgICAgaWYgKHNyY0Jsb2NrLnN0YXRlbWVudElucHV0Q291bnQgPiAwKSB7XG4gICAgICAgIGVtcHR5VG9rZW4gPSAnIGRvIGJsYW5rICc7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3JjQmxvY2sudG9TdHJpbmcobnVsbCwgZW1wdHlUb2tlbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyB0ZXh0IGZvciBhIGZlaWxkLlxuICAgKiBAcGFyYW0geyFCbG9ja2x5LkFTVE5vZGV9IG5vZGUgVGhlIG5vZGUgdG8gY3JlYXRlIHRleHQgZm9yLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0ZXh0IGZvciB0aGUgc2NyZWVuIHJlYWRlciB0byByZWFkIG91dC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZmllbGROb2RlVG9UZXh0Xyhub2RlKSB7XG4gICAgY29uc3QgZmllbGQgPSBub2RlLmdldExvY2F0aW9uKCk7XG4gICAgcmV0dXJuIGZpZWxkLmdldFRleHQoKSArICcuICc7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyB0ZXh0IGZvciBhIGZlaWxkLlxuICAgKiBAcGFyYW0geyFCbG9ja2x5LkFTVE5vZGV9IG5vZGUgVGhlIG5vZGUgdG8gY3JlYXRlIHRleHQgZm9yLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0ZXh0IGZvciB0aGUgc2NyZWVuIHJlYWRlciB0byByZWFkIG91dC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgYmxvY2tOb2RlVG9UZXh0Xyhub2RlKSB7XG4gICAgY29uc3QgYmxvY2sgPSAvKiogQHR5cGV7QmxvY2tseS5CbG9ja1N2Z30gKi8gKG5vZGUuZ2V0TG9jYXRpb24oKSk7XG4gICAgY29uc3QgYmxvY2tUZXh0ID0gdGhpcy5nZXRCbG9ja1RleHRfKGJsb2NrKTtcbiAgICBsZXQgZmluYWxUZXh0ID0gJyc7XG4gICAgaWYgKGJsb2NrLmdldFN1cnJvdW5kUGFyZW50KCkpIHtcbiAgICAgIGNvbnN0IHBhcmVudEJsb2NrVGV4dCA9IHRoaXMuZ2V0QmxvY2tUZXh0XyhibG9jay5nZXRTdXJyb3VuZFBhcmVudCgpKTtcbiAgICAgIGZpbmFsVGV4dCArPSBgWW91IGFyZSBpbnNpZGUgb2YgYmxvY2sgJHtwYXJlbnRCbG9ja1RleHR9LiAuIGA7XG4gICAgfVxuICAgIGZpbmFsVGV4dCArPSBgWW91IGFyZSBvbiAsICR7YmxvY2tUZXh0fS4gLiBgO1xuICAgIHJldHVybiBmaW5hbFRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyB0ZXh0IGZvciBhbiBpbnB1dC5cbiAgICogQHBhcmFtIHshQmxvY2tseS5BU1ROb2RlfSBub2RlIFRoZSBub2RlIHRvIGNyZWF0ZSB0ZXh0IGZvci5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc01hcmtlciBUcnVlIGlmIHRoZSBtYXJrZXIgd2FzIG1vdmVkLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0ZXh0IGZvciB0aGUgc2NyZWVuIHJlYWRlciB0byByZWFkIG91dC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgaW5wdXROb2RlVG9UZXh0Xyhub2RlLCBpc01hcmtlcikge1xuICAgIGNvbnN0IGlucHV0Q29ubmVjdGlvbiA9IC8qKiBAdHlwZXtCbG9ja2x5LklucHV0fSAqLyAobm9kZS5nZXRMb2NhdGlvbigpKTtcbiAgICBjb25zdCBjb25uZWN0aW9uVGV4dCA9IGBZb3UgYXJlIG9uIGEgY29ubmVjdGlvbmA7XG4gICAgbGV0IGZpbmFsVGV4dCA9ICcnO1xuICAgIGlmIChpbnB1dENvbm5lY3Rpb24udHlwZSA9PT0gQmxvY2tseS5ORVhUX1NUQVRFTUVOVCkge1xuICAgICAgY29uc3QgYmxvY2tUZXh0ID0gdGhpcy5nZXRCbG9ja1RleHRfKG5vZGUuZ2V0U291cmNlQmxvY2soKSk7XG4gICAgICBmaW5hbFRleHQgPSBgSW5zaWRlICR7YmxvY2tUZXh0fS4gJHtjb25uZWN0aW9uVGV4dH0uIGA7XG4gICAgfSBlbHNlIGlmIChpbnB1dENvbm5lY3Rpb24udHlwZSA9PT0gQmxvY2tseS5JTlBVVF9WQUxVRSkge1xuICAgICAgY29uc3QgYmxvY2tUZXh0ID0gdGhpcy5nZXRCbG9ja1RleHRfKG5vZGUuZ2V0U291cmNlQmxvY2soKSwgJyAnKTtcbiAgICAgIGZpbmFsVGV4dCA9IGAke2Nvbm5lY3Rpb25UZXh0fSBhZnRlciAke2Jsb2NrVGV4dH1gO1xuICAgIH1cbiAgICByZXR1cm4gZmluYWxUZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGV4dCBmb3IgYSBvdXRwdXQgY29ubmVjdGlvbi5cbiAgICogQHBhcmFtIHshQmxvY2tseS5BU1ROb2RlfSBub2RlIFRoZSBub2RlIHRvIGNyZWF0ZSB0ZXh0IGZvci5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBmb3IgdGhlIHNjcmVlbiByZWFkZXIgdG8gcmVhZCBvdXQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIG91dHB1dE5vZGVUb1RleHRfKG5vZGUpIHtcbiAgICBjb25zdCBibG9ja1RleHQgPSB0aGlzLmdldEJsb2NrVGV4dF8obm9kZS5nZXRTb3VyY2VCbG9jaygpKTtcbiAgICByZXR1cm4gYFlvdSBhcmUgb24gYSBjb25uZWN0aW9uIGZvciBibG9jaywgJHtibG9ja1RleHR9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRleHQgZm9yIGEgbmV4dCBjb25uZWN0aW9uLlxuICAgKiBAcGFyYW0geyFCbG9ja2x5LkFTVE5vZGV9IG5vZGUgVGhlIG5vZGUgdG8gY3JlYXRlIHRleHQgZm9yLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzTWFya2VyIFRydWUgdG8gZ2V0IHRoZSB0ZXh0IGZvciBhIG1hcmtlcixcbiAgICogICAgIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBmb3IgdGhlIHNjcmVlbiByZWFkZXIgdG8gcmVhZCBvdXQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIG5leHROb2RlVG9UZXh0Xyhub2RlLCBpc01hcmtlcikge1xuICAgIGNvbnN0IGJsb2NrID0gbm9kZS5nZXRTb3VyY2VCbG9jaygpO1xuICAgIGNvbnN0IGJsb2NrVGV4dCA9IHRoaXMuZ2V0QmxvY2tUZXh0Xyhub2RlLmdldFNvdXJjZUJsb2NrKCkpO1xuICAgIGxldCBmaW5hbFRleHQgPSAnJztcbiAgICBpZiAoYmxvY2suZ2V0U3Vycm91bmRQYXJlbnQoKSkge1xuICAgICAgY29uc3QgcGFyZW50QmxvY2tUZXh0ID0gdGhpcy5nZXRCbG9ja1RleHRfKGJsb2NrLmdldFN1cnJvdW5kUGFyZW50KCkpO1xuICAgICAgZmluYWxUZXh0ICs9IGBZb3UgYXJlIGluc2lkZSBvZiBibG9jayAke3BhcmVudEJsb2NrVGV4dH0uIC4gYDtcbiAgICB9XG4gICAgZmluYWxUZXh0ICs9IGAke0Jsb2NrbHkuTXNnWydORVhUJ119ICR7YmxvY2tUZXh0fWA7XG4gICAgcmV0dXJuIGZpbmFsVGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRleHQgZm9yIGEgcHJldmlvdXMgY29ubmVjdGlvbi5cbiAgICogQHBhcmFtIHshQmxvY2tseS5BU1ROb2RlfSBub2RlIFRoZSBub2RlIHRvIGNyZWF0ZSB0ZXh0IGZvci5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc01hcmtlciBUcnVlIHRvIGdldCB0aGUgdGV4dCBmb3IgYSBtYXJrZXIsXG4gICAqICAgICBmYWxzZSBvdGhlcndpc2UuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgZm9yIHRoZSBzY3JlZW4gcmVhZGVyIHRvIHJlYWQgb3V0LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBwcmV2aW91c05vZGVUb1RleHRfKG5vZGUsIGlzTWFya2VyKSB7XG4gICAgY29uc3QgYmxvY2sgPSBub2RlLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgY29uc3QgYmxvY2tUZXh0ID0gdGhpcy5nZXRCbG9ja1RleHRfKGJsb2NrKTtcbiAgICBsZXQgZmluYWxUZXh0ID0gJyc7XG4gICAgaWYgKGJsb2NrLmdldFN1cnJvdW5kUGFyZW50KCkpIHtcbiAgICAgIGNvbnN0IHBhcmVudEJsb2NrVGV4dCA9IHRoaXMuZ2V0QmxvY2tUZXh0XyhibG9jay5nZXRTdXJyb3VuZFBhcmVudCgpKTtcbiAgICAgIGZpbmFsVGV4dCArPSBgWW91IGFyZSBpbnNpZGUgb2YgYmxvY2sgJHtwYXJlbnRCbG9ja1RleHR9LiAuIGA7XG4gICAgfVxuXG4gICAgZmluYWxUZXh0ICs9IGAke0Jsb2NrbHkuTXNnWydQUkVWSU9VUyddfSAke2Jsb2NrVGV4dH1gO1xuICAgIHJldHVybiBmaW5hbFRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyB0ZXh0IGZvciBhIHN0YWNrIG9mIGJsb2Nrcy5cbiAgICogQHBhcmFtIHshQmxvY2tseS5BU1ROb2RlfSBub2RlIFRoZSBub2RlIHRvIGNyZWF0ZSB0ZXh0IGZvci5cbiAgICogQHBhcmFtIHshQmxvY2tseS5BU1ROb2RlfSBvbGROb2RlIFRoZSBwcmV2aW91cyBub2RlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0ZXh0IGZvciB0aGUgc2NyZWVuIHJlYWRlciB0byByZWFkIG91dC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RhY2tOb2RlVG9UZXh0Xyhub2RlLCBvbGROb2RlKSB7XG4gICAgY29uc3Qgc3JjQmxvY2sgPSBub2RlLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgY29uc3QgbmV3Tm9kZVRvcEJsb2NrID0gc3JjQmxvY2suZ2V0VG9wU3RhY2tCbG9jaygpO1xuICAgIGxldCBvbGROb2RlVG9wQmxvY2sgPSBudWxsO1xuICAgIGlmIChvbGROb2RlICYmIG9sZE5vZGUuZ2V0U291cmNlQmxvY2soKSkge1xuICAgICAgb2xkTm9kZVRvcEJsb2NrID0gb2xkTm9kZS5nZXRTb3VyY2VCbG9jaygpLmdldFRvcFN0YWNrQmxvY2soKTtcbiAgICB9XG5cbiAgICBsZXQgZmluYWxUZXh0ID0gJyc7XG5cbiAgICBpZiAoc3JjQmxvY2sgJiYgc3JjQmxvY2sud29ya3NwYWNlLmlzRmx5b3V0KSB7XG4gICAgICBmaW5hbFRleHQgPSB0aGlzLmdldEJsb2NrVGV4dF8obm9kZS5nZXRTb3VyY2VCbG9jaygpKTtcbiAgICAgIGZpbmFsVGV4dCArPSBgIC4gLiBUbyBhZGQgdGhpcyBibG9jayB0byB0aGUgd29ya3NwYWNlIHByZXNzIEVudGVyLiAuXG4gICAgICBUbyBnbyB0byB0aGUgbmV4dCBibG9jayBoaXQgbmV4dC4gLiBUbyBnbyBiYWNrIHRvIHRoZSB3b3Jrc3BhY2VcbiAgICAgIGhpdCBlc2NhcGUuIGA7XG4gICAgfSBlbHNlIGlmIChzcmNCbG9jaykge1xuICAgICAgaWYgKG9sZE5vZGVUb3BCbG9jayAhPT0gbmV3Tm9kZVRvcEJsb2NrKSB7XG4gICAgICAgIGZpbmFsVGV4dCArPSBgWW91IGFyZSBvbiBhIG5ldyBncm91cCBvZiBibG9ja3MuIGA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaW5hbFRleHQgKz0gYFlvdSBhcmUgb24gYSBncm91cCBvZiBibG9ja3MuIGA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmaW5hbFRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyB0ZXh0IGZvciBhIHdvcmtzcGFjZS5cbiAgICogQHBhcmFtIHshQmxvY2tseS5BU1ROb2RlfSBub2RlIFRoZSBub2RlIHRvIGNyZWF0ZSB0ZXh0IGZvci5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBmb3IgdGhlIHNjcmVlbiByZWFkZXIgdG8gcmVhZCBvdXQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHdvcmtzcGFjZU5vZGVUb1RleHRfKG5vZGUpIHtcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSAvKiogQHR5cGV7QmxvY2tseS5Xb3Jrc3BhY2VTdmd9ICovIChub2RlLmdldExvY2F0aW9uKCkpO1xuICAgIC8vIFRPRE86IEFsbCB0ZXh0IHNob3VsZCBiZSBhZGRlZCB0byBCbG9ja2x5Lk1zZyB0byBhbGxvdyBmb3IgdHJhbnNsYXRpb24uXG4gICAgbGV0IHRleHQgPSBudWxsO1xuICAgIGlmICh3b3Jrc3BhY2UuaXNGbHlvdXQpIHtcbiAgICAgIHRleHQgPSAnSW4gdGhlIGZseW91dCwgcGxlYXNlIHNlbGVjdCBhIGJsb2NrJztcbiAgICB9IGVsc2UgaWYgKHdvcmtzcGFjZS5pc011dGF0b3IpIHtcbiAgICAgIHRleHQgPSAnSW4gdGhlIG11dGF0b3Igd29ya3NwYWNlLCB1c2UgdGhpcyB3b3Jrc3BhY2UgdG8gY2hhbmdlIGEgYmxvY2snO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZXh0ID0gQmxvY2tseS5Nc2dbJ01BSU5fV1MnXTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHNwZWFrZXIgPSBuZXcgU3BlYWtlcigpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/speaker.js\n");

/***/ }),

/***/ "./src/tutorial.js":
/*!*************************!*\
  !*** ./src/tutorial.js ***!
  \*************************/
/*! exports provided: Tutorial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Tutorial\", function() { return Tutorial; });\n/* harmony import */ var _tutorial_step__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tutorial_step */ \"./src/tutorial_step.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var micromodal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! micromodal */ \"./node_modules/micromodal/dist/micromodal.es.js\");\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Multi-step tutorial using modals.\n */\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n/**\n * A multi-step tutorial for the accessible music game.\n */\n\nvar Tutorial = /*#__PURE__*/function () {\n  /**\n   * Class for a tutorial.\n   * @param {Blockly.WorkspaceSvg} workspace The workspace the user\n   *     will interact with.\n   * @constructor\n   */\n  function Tutorial(workspace) {\n    var _this = this;\n\n    _classCallCheck(this, Tutorial);\n\n    /**\n     * The id of the modal.\n     * @type {string}\n     */\n    this.modalId = 'tutorialModal';\n    /**\n     * The id of the tutorial text.\n     * @type {string}\n     */\n\n    this.stepTextId = this.modalId + 'Text';\n    /**\n     * The id of the next step button.\n     * @type {string}\n     */\n\n    this.stepButtonId = this.modalId + 'StepBtn';\n    /**\n     * The id of the hide modal button.\n     * @type {string}\n     */\n\n    this.hideButtonId = this.modalId + 'HideBtn';\n    /**\n     * An array of steps in the tutorial.\n     * @type {Array<!TutorialStep>}\n     */\n\n    this.steps = Tutorial.STEP_OBJECTS.map(function (obj) {\n      return new _tutorial_step__WEBPACK_IMPORTED_MODULE_0__[\"TutorialStep\"](obj.text, _this.stepTextId, _this.nextStep);\n    });\n    /**\n     * The index of the currently active step.\n     * @type {number}\n     */\n\n    this.curStepIndex = 0;\n    /**\n     * The currently active step.\n     * @type {TutorialStep}\n     */\n\n    this.curStep = this.steps[this.curStepIndex];\n    /**\n     * The Blockly workspace the user will interact with.\n     * @type {Blockly.WorkspaceSvg}\n     */\n\n    this.workspace = workspace;\n    /**\n     * The node that was selected on the workspace when the modal\n     * opened.\n     * @type {Blockly.ASTNode}\n     */\n\n    this.curNode = null;\n  }\n  /**\n   * Initialize DOM and show.\n   */\n\n\n  _createClass(Tutorial, [{\n    key: \"init\",\n    value: function init() {\n      this.createDom();\n      this.addCallbacks();\n      micromodal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].show(this.modalId);\n      this.curStep.show();\n      this.registerPlayHelpText();\n      this.loadWorkspace();\n    }\n    /**\n     * Load the workspace for the tutorial.\n     */\n\n  }, {\n    key: \"loadWorkspace\",\n    value: function loadWorkspace() {\n      var toolboxJson = {\n        'kind': 'flyoutToolbox',\n        'contents': [{\n          'kind': 'block',\n          'blockxml': \"<block type=\\\"music_note\\\">\\n                        <field name=\\\"DURATION\\\">0.25</field>\\n                        <value name=\\\"PITCH\\\">\\n                          <shadow type=\\\"music_pitch\\\">\\n                            <field name=\\\"PITCH\\\">C4</field>\\n                          </shadow>\\n                        </value>\\n                      </block>\"\n        }, {\n          'kind': 'block',\n          'type': 'music_rest'\n        }]\n      };\n      this.workspace.updateToolbox(toolboxJson);\n      var starterXml = \"<xml>\\n            <block type=\\\"music_start\\\" deletable=\\\"false\\\" x=\\\"180\\\"\\n            y=\\\"50\\\"></block>\\n          </xml>\";\n      this.workspace.clear();\n      blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.Xml.domToWorkspace(blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.Xml.textToDom(starterXml), this.workspace);\n    }\n    /**\n     * Registers shortcut to replay the current tutorial step.\n     */\n\n  }, {\n    key: \"registerPlayHelpText\",\n    value: function registerPlayHelpText() {\n      var _this2 = this;\n\n      /** @type {!Blockly.ShortcutRegistry.KeyboardShortcut} */\n      var playHelpText = {\n        name: 'playHelpText',\n        preconditionFn: function preconditionFn(workspace) {\n          return workspace.keyboardAccessibilityMode && !workspace.options.readOnly;\n        },\n        callback: function callback() {\n          _speaker__WEBPACK_IMPORTED_MODULE_3__[\"speaker\"].speak(_this2.curStep.text, true);\n        }\n      };\n      blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.register(playHelpText);\n      var shiftW = blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.createSerializedKey(blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.utils.KeyCodes.H);\n      blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.addKeyMapping(shiftW, playHelpText.name);\n    }\n    /**\n     * Display the next step, or end the tutorial if there are no more steps.\n     */\n\n  }, {\n    key: \"nextStep\",\n    value: function nextStep() {\n      this.curStepIndex++;\n\n      if (this.curStepIndex < this.steps.length) {\n        this.curStep = this.steps[this.curStepIndex];\n        micromodal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].show(this.modalId);\n        this.curStep.show();\n        this.stashCursor();\n      } else {\n        this.done();\n      }\n    }\n    /**\n     * End the tutorial.\n     */\n\n  }, {\n    key: \"done\",\n    value: function done() {\n      micromodal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].close(this.modalId);\n    }\n    /**\n     * Save the current cursor node and disable keyboard nav.\n     * Call this when opening the modal.\n     */\n\n  }, {\n    key: \"stashCursor\",\n    value: function stashCursor() {\n      this.curNode = this.workspace.getCursor().getCurNode();\n      blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.navigation.disableKeyboardAccessibility();\n    }\n    /**\n     * Reenable keyboard nav and move the cursor to the previously\n     * selected cursor node. Call this when closing the modal.\n     */\n\n  }, {\n    key: \"popCursor\",\n    value: function popCursor() {\n      blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.navigation.enableKeyboardAccessibility();\n\n      if (this.curNode) {\n        this.workspace.getCursor().setCurNode(this.curNode);\n        _speaker__WEBPACK_IMPORTED_MODULE_3__[\"speaker\"].cancel();\n      }\n    }\n    /**\n     * Add necessary handlers for any buttons on the modal.\n     */\n\n  }, {\n    key: \"addCallbacks\",\n    value: function addCallbacks() {\n      var _this3 = this;\n\n      document.getElementById(this.stepButtonId).addEventListener('click', function () {\n        _this3.nextStep();\n      });\n      document.getElementById(this.hideButtonId).addEventListener('click', function (e) {\n        micromodal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].close(_this3.modalId);\n\n        _this3.popCursor();\n\n        Tutorial.STEP_OBJECTS[_this3.curStepIndex].onStart(_this3);\n\n        e.stopPropagation();\n        e.preventDefault();\n      });\n    }\n    /**\n     * Create the dom for the modal.\n     */\n\n  }, {\n    key: \"createDom\",\n    value: function createDom() {\n      document.getElementById(this.modalId).innerHTML = \"\\n     <div class=\\\"modal__overlay\\\" tabindex=\\\"-1\\\" data-micromodal-close>\\n      <div class=\\\"modal__container\\\" role=\\\"dialog\\\" aria-modal=\\\"true\\\"\\n        aria-labelledby=\\\"modal-1-title\\\">\\n        <header class=\\\"modal__header\\\">\\n          <button class=\\\"modal__close\\\" aria-label=\\\"Close modal\\\"\\n            id=\\\"tutorialCloseBtn\\\" data-micromodal-close></button>\\n        </header>\\n        <main class=\\\"modal__content\\\" id=\\\"modal-1-content\\\">\\n          <h2 class=\\\"modal__title\\\" id=\\\"\".concat(this.stepTextId, \"\\\"></h2>\\n        </main>\\n        <footer class=\\\"modal__footer\\\">\\n          <button class=\\\"modal__btn modal__btn-primary\\\" aria-label=\\\"Hide modal\\\"\\n            id=\\\"\").concat(this.hideButtonId, \"\\\">Hide modal</button>\\n          <button class=\\\"modal__btn modal__btn-primary\\\" aria-label=\\\"Next step\\\"\\n            id=\\\"\").concat(this.stepButtonId, \"\\\">Next step</button>\\n        </footer>\\n      </div>\\n    </div>\");\n    }\n    /**\n     * Get the current location, based on the event.\n     * @param {Blockly.Event} event An event to inspect for a cursor location.\n     * @return {Blockly.ASTNode} The current cursor location, or null if the event\n     *     didn't have one.\n     */\n\n  }, {\n    key: \"getCurrentLocation\",\n    value: function getCurrentLocation(event) {\n      var curNode = event.newNode;\n\n      if (curNode) {\n        return curNode.getLocation();\n      }\n\n      return null;\n    }\n  }]);\n\n  return Tutorial;\n}();\nTutorial.STEP_OBJECTS = [{\n  text: \"In this tutorial you will write code that plays musical notes. If at\\n      any point you are confused about what to do, press H to replay the goal\\n      for the current step. Press Enter to go to the next step.\",\n  goalText: \"Press Enter to go to the next step.\",\n  onStart: function onStart(tutorial) {\n    setTimeout(function () {\n      return tutorial.nextStep();\n    }, 100);\n  }\n}, {\n  text: \"You can move around the blocks of code with the up and down arrows.\\n    You will hear descriptions as you move around the blocks. .\\n    All blocks have connection points, which are places where you can add more\\n    code. . Use the down arrow to move to a connection point.\\n    Hit enter to begin. \",\n  goalText: \"Use the down arrow to move to a connection point.\",\n  onStart: function onStart(tutorial) {\n    var workspace = tutorial.workspace;\n\n    var listener = function listener(event) {\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.Events.MARKER_MOVE) {\n        var curNode = event.newNode;\n        var correctLocation = workspace.getTopBlocks()[0].inputList[1].connection;\n\n        if (curNode) {\n          var location = curNode.getLocation();\n\n          if (location === correctLocation) {\n            setTimeout(function () {\n              workspace.removeChangeListener(wrapper);\n              tutorial.nextStep();\n            }, 4700);\n          }\n        }\n      }\n    }; // Add a shortcut in place of the down arrow shortcut.\n\n\n    var wrapper = workspace.addChangeListener(listener);\n  }\n}, {\n  text: \"Great! You moved to a connection point. .\\n      To add more code, you first mark a location and then select the block you\\n      want to add. .\\n      Navigate to the connection point, then press enter to mark it.\",\n  goalText: \"Navigate to the connection point, then press enter to mark it.\",\n  onStart: function onStart(tutorial) {\n    var workspace = tutorial.workspace;\n\n    var listener = function listener(event) {\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.Events.MARKER_MOVE) {\n        var currentLocation = tutorial.getCurrentLocation(event);\n\n        if (currentLocation && !event.isCursor) {\n          var correctLocation = workspace.getTopBlocks()[0].inputList[1].connection;\n\n          if (currentLocation === correctLocation) {\n            setTimeout(function () {\n              workspace.removeChangeListener(wrapper);\n              tutorial.nextStep();\n            }, 3000);\n          }\n        }\n      }\n    }; // Add a shortcut in place of the down arrow shortcut.\n\n\n    var wrapper = workspace.addChangeListener(listener);\n  }\n}, {\n  text: \"Great! You marked a connection point. Now you can add more code\\n    blocks. .\\n    The toolbox is a list of code blocks that you can add to the workspace.\\n    You can always open the toolbox by pressing T. .\\n    Press T to open the toolbox, then use the up and down arrows to explore\\n    it. .\\n    Press ??? when you are ready for the next step.\",\n  goalText: \"Press T to open the toolbox, then use the up and down arrows to\\n      explore it. . Press ??? when you are ready for the next step.\",\n  onStart: function onStart(tutorial) {\n    /** @type {!Blockly.ShortcutRegistry.KeyboardShortcut} */\n    var finishStep = {\n      name: 'finishStep',\n      preconditionFn: function preconditionFn(workspace) {\n        return workspace.keyboardAccessibilityMode && !workspace.options.readOnly;\n      },\n      callback: function callback() {\n        tutorial.nextStep();\n      }\n    };\n    blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.register(finishStep);\n    var shiftW = blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.createSerializedKey(blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.utils.KeyCodes.F);\n    blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.addKeyMapping(shiftW, finishStep.name);\n  }\n}, {\n  text: \"Great! You have now successfully marked a connection point and\\n    navigated to a list of blocks that you can insert. .\\n    Now it\\u2019s time to put it all together. .\\n    Navigate to the connection and mark it, then press T to open the\\n    toolbox. Find the block that says \\u201Cplay whole note c4\\u201D and press\\n    enter to add it at the marked location.\",\n  goalText: \"Navigate to the connection and mark it, then press T to open the\\n    toolbox. Find the block that says \\u201Cplay whole note c4\\u201D and press\\n    enter to add it at the marked location.\",\n  onStart: function onStart(tutorial) {\n    var workspace = tutorial.workspace;\n\n    var listener = function listener(event) {\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.Events.MARKER_MOVE) {\n        var currentLocation = tutorial.getCurrentLocation(event);\n\n        if (currentLocation && event.isCursor && workspace.getAllBlocks().length > 1) {\n          var correctLocation = workspace.getAllBlocks()[1].previousConnection;\n\n          if (currentLocation === correctLocation) {\n            setTimeout(function () {\n              workspace.removeChangeListener(wrapper);\n              tutorial.nextStep();\n            }, 4000);\n          }\n        }\n      }\n    }; // Add a shortcut in place of the down arrow shortcut.\n\n\n    var wrapper = workspace.addChangeListener(listener);\n  }\n}, {\n  text: \"Great! You can now press Shift and P at the same time to run your\\n    code. You should hear a note play!\",\n  goalText: \"Press Shift and P at the same time to run your code.\",\n  onStart: function onStart(tutorial) {}\n}];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHV0b3JpYWwuanM/MjQzOCJdLCJuYW1lcyI6WyJUdXRvcmlhbCIsIndvcmtzcGFjZSIsIm1vZGFsSWQiLCJzdGVwVGV4dElkIiwic3RlcEJ1dHRvbklkIiwiaGlkZUJ1dHRvbklkIiwic3RlcHMiLCJTVEVQX09CSkVDVFMiLCJtYXAiLCJvYmoiLCJUdXRvcmlhbFN0ZXAiLCJ0ZXh0IiwibmV4dFN0ZXAiLCJjdXJTdGVwSW5kZXgiLCJjdXJTdGVwIiwiY3VyTm9kZSIsImNyZWF0ZURvbSIsImFkZENhbGxiYWNrcyIsIk1pY3JvTW9kYWwiLCJzaG93IiwicmVnaXN0ZXJQbGF5SGVscFRleHQiLCJsb2FkV29ya3NwYWNlIiwidG9vbGJveEpzb24iLCJ1cGRhdGVUb29sYm94Iiwic3RhcnRlclhtbCIsImNsZWFyIiwiQmxvY2tseSIsIlhtbCIsImRvbVRvV29ya3NwYWNlIiwidGV4dFRvRG9tIiwicGxheUhlbHBUZXh0IiwibmFtZSIsInByZWNvbmRpdGlvbkZuIiwia2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZSIsIm9wdGlvbnMiLCJyZWFkT25seSIsImNhbGxiYWNrIiwic3BlYWtlciIsInNwZWFrIiwiU2hvcnRjdXRSZWdpc3RyeSIsInJlZ2lzdHJ5IiwicmVnaXN0ZXIiLCJzaGlmdFciLCJjcmVhdGVTZXJpYWxpemVkS2V5IiwidXRpbHMiLCJLZXlDb2RlcyIsIkgiLCJhZGRLZXlNYXBwaW5nIiwibGVuZ3RoIiwic3Rhc2hDdXJzb3IiLCJkb25lIiwiY2xvc2UiLCJnZXRDdXJzb3IiLCJnZXRDdXJOb2RlIiwibmF2aWdhdGlvbiIsImRpc2FibGVLZXlib2FyZEFjY2Vzc2liaWxpdHkiLCJlbmFibGVLZXlib2FyZEFjY2Vzc2liaWxpdHkiLCJzZXRDdXJOb2RlIiwiY2FuY2VsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicG9wQ3Vyc29yIiwib25TdGFydCIsInN0b3BQcm9wYWdhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiaW5uZXJIVE1MIiwiZXZlbnQiLCJuZXdOb2RlIiwiZ2V0TG9jYXRpb24iLCJnb2FsVGV4dCIsInR1dG9yaWFsIiwic2V0VGltZW91dCIsImxpc3RlbmVyIiwidHlwZSIsIkV2ZW50cyIsIk1BUktFUl9NT1ZFIiwiY29ycmVjdExvY2F0aW9uIiwiZ2V0VG9wQmxvY2tzIiwiaW5wdXRMaXN0IiwiY29ubmVjdGlvbiIsImxvY2F0aW9uIiwicmVtb3ZlQ2hhbmdlTGlzdGVuZXIiLCJ3cmFwcGVyIiwiYWRkQ2hhbmdlTGlzdGVuZXIiLCJjdXJyZW50TG9jYXRpb24iLCJnZXRDdXJyZW50TG9jYXRpb24iLCJpc0N1cnNvciIsImZpbmlzaFN0ZXAiLCJGIiwiZ2V0QWxsQmxvY2tzIiwicHJldmlvdXNDb25uZWN0aW9uIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ2E7Ozs7Ozs7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBQ08sSUFBTUEsUUFBYjtBQUNFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNFLG9CQUFZQyxTQUFaLEVBQXVCO0FBQUE7O0FBQUE7O0FBQ3JCO0FBQ0o7QUFDQTtBQUNBO0FBQ0ksU0FBS0MsT0FBTCxHQUFlLGVBQWY7QUFFQTtBQUNKO0FBQ0E7QUFDQTs7QUFDSSxTQUFLQyxVQUFMLEdBQWtCLEtBQUtELE9BQUwsR0FBZSxNQUFqQztBQUVBO0FBQ0o7QUFDQTtBQUNBOztBQUNJLFNBQUtFLFlBQUwsR0FBb0IsS0FBS0YsT0FBTCxHQUFlLFNBQW5DO0FBRUE7QUFDSjtBQUNBO0FBQ0E7O0FBQ0ksU0FBS0csWUFBTCxHQUFvQixLQUFLSCxPQUFMLEdBQWUsU0FBbkM7QUFFQTtBQUNKO0FBQ0E7QUFDQTs7QUFDSSxTQUFLSSxLQUFMLEdBQWFOLFFBQVEsQ0FBQ08sWUFBVCxDQUFzQkMsR0FB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TXZFLFNBQVMsR0FBR3VFLFFBQVEsQ0FBQ3ZFLFNBQTNCOztBQUNBLFFBQU15RSxRQUFRLEdBQUcsU0FBWEEsUUFBVyxDQUFTTixLQUFULEVBQWdCO0FBQy9CLFVBQUlBLEtBQUssQ0FBQ08sSUFBTixLQUFlakQsbURBQU8sQ0FBQ2tELE1BQVIsQ0FBZUMsV0FBbEMsRUFBK0M7QUFDN0MsWUFBTVMsZUFBZSxHQUFHZCxRQUFRLENBQUNlLGtCQUFULENBQTRCbkIsS0FBNUIsQ0FBeEI7O0FBQ0EsWUFBSWtCLGVBQWUsSUFBSWxCLEtBQUssQ0FBQ29CLFFBQXpCLElBQ0F2RixTQUFTLENBQUMwRixZQUFWLEdBQXlCM0MsTUFBekIsR0FBa0MsQ0FEdEMsRUFDeUM7QUFDdkMsY0FBTThCLGVBQWUsR0FDakI3RSxTQUFTLENBQUMwRixZQUFWLEdBQXlCLENBQXpCLEVBQTRCQyxrQkFEaEM7O0FBRUEsY0FBSU4sZUFBZSxLQUFLUixlQUF4QixFQUF5QztBQUN2Q0wsc0JBQVUsQ0FBQyxZQUFJO0FBQ2J4RSx1QkFBUyxDQUFDa0Ysb0JBQVYsQ0FBK0JDLE9BQS9CO0FBQ0FaLHNCQUFRLENBQUM1RCxRQUFUO0FBQ0QsYUFIUyxFQUdQLElBSE8sQ0FBVjtBQUlEO0FBQ0Y7QUFDRjtBQUNGLEtBZkQsQ0FGMEIsQ0FtQjFCOzs7QUFDQSxRQUFNd0UsT0FBTyxHQUFHbkYsU0FBUyxDQUFDb0YsaUJBQVYsQ0FBNEJYLFFBQTVCLENBQWhCO0FBQ0Q7QUEvQkgsQ0FuR3NCLEVBb0l0QjtBQUNFL0QsTUFBSSw2R0FETjtBQUdFNEQsVUFBUSx3REFIVjtBQUlFUCxTQUFPLEVBQUUsaUJBQVNRLFFBQVQsRUFBbUIsQ0FBRTtBQUpoQyxDQXBJc0IsQ0FBeEIiLCJmaWxlIjoiLi9zcmMvdHV0b3JpYWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBNdWx0aS1zdGVwIHR1dG9yaWFsIHVzaW5nIG1vZGFscy5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge1R1dG9yaWFsU3RlcH0gZnJvbSAnLi90dXRvcmlhbF9zdGVwJztcbmltcG9ydCBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5pbXBvcnQgTWljcm9Nb2RhbCBmcm9tICdtaWNyb21vZGFsJztcbmltcG9ydCB7c3BlYWtlcn0gZnJvbSAnLi9zcGVha2VyJztcblxuLyoqXG4gKiBBIG11bHRpLXN0ZXAgdHV0b3JpYWwgZm9yIHRoZSBhY2Nlc3NpYmxlIG11c2ljIGdhbWUuXG4gKi9cbmV4cG9ydCBjbGFzcyBUdXRvcmlhbCB7XG4gIC8qKlxuICAgKiBDbGFzcyBmb3IgYSB0dXRvcmlhbC5cbiAgICogQHBhcmFtIHtCbG9ja2x5LldvcmtzcGFjZVN2Z30gd29ya3NwYWNlIFRoZSB3b3Jrc3BhY2UgdGhlIHVzZXJcbiAgICogICAgIHdpbGwgaW50ZXJhY3Qgd2l0aC5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3b3Jrc3BhY2UpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIG1vZGFsLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5tb2RhbElkID0gJ3R1dG9yaWFsTW9kYWwnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIG9mIHRoZSB0dXRvcmlhbCB0ZXh0LlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5zdGVwVGV4dElkID0gdGhpcy5tb2RhbElkICsgJ1RleHQnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIG9mIHRoZSBuZXh0IHN0ZXAgYnV0dG9uLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5zdGVwQnV0dG9uSWQgPSB0aGlzLm1vZGFsSWQgKyAnU3RlcEJ0bic7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIGhpZGUgbW9kYWwgYnV0dG9uLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5oaWRlQnV0dG9uSWQgPSB0aGlzLm1vZGFsSWQgKyAnSGlkZUJ0bic7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBzdGVwcyBpbiB0aGUgdHV0b3JpYWwuXG4gICAgICogQHR5cGUge0FycmF5PCFUdXRvcmlhbFN0ZXA+fVxuICAgICAqL1xuICAgIHRoaXMuc3RlcHMgPSBUdXRvcmlhbC5TVEVQX09CSkVDVFMubWFwKFxuICAgICAgICAob2JqKSA9PiBuZXcgVHV0b3JpYWxTdGVwKG9iai50ZXh0LCB0aGlzLnN0ZXBUZXh0SWQsIHRoaXMubmV4dFN0ZXApXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudGx5IGFjdGl2ZSBzdGVwLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jdXJTdGVwSW5kZXggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgc3RlcC5cbiAgICAgKiBAdHlwZSB7VHV0b3JpYWxTdGVwfVxuICAgICAqL1xuICAgIHRoaXMuY3VyU3RlcCA9IHRoaXMuc3RlcHNbdGhpcy5jdXJTdGVwSW5kZXhdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIEJsb2NrbHkgd29ya3NwYWNlIHRoZSB1c2VyIHdpbGwgaW50ZXJhY3Qgd2l0aC5cbiAgICAgKiBAdHlwZSB7QmxvY2tseS5Xb3Jrc3BhY2VTdmd9XG4gICAgICovXG4gICAgdGhpcy53b3Jrc3BhY2UgPSB3b3Jrc3BhY2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbm9kZSB0aGF0IHdhcyBzZWxlY3RlZCBvbiB0aGUgd29ya3NwYWNlIHdoZW4gdGhlIG1vZGFsXG4gICAgICogb3BlbmVkLlxuICAgICAqIEB0eXBlIHtCbG9ja2x5LkFTVE5vZGV9XG4gICAgICovXG4gICAgdGhpcy5jdXJOb2RlID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIERPTSBhbmQgc2hvdy5cbiAgICovXG4gIGluaXQoKSB7XG4gICAgdGhpcy5jcmVhdGVEb20oKTtcbiAgICB0aGlzLmFkZENhbGxiYWNrcygpO1xuICAgIE1pY3JvTW9kYWwuc2hvdyh0aGlzLm1vZGFsSWQpO1xuICAgIHRoaXMuY3VyU3RlcC5zaG93KCk7XG4gICAgdGhpcy5yZWdpc3RlclBsYXlIZWxwVGV4dCgpO1xuICAgIHRoaXMubG9hZFdvcmtzcGFjZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgdGhlIHdvcmtzcGFjZSBmb3IgdGhlIHR1dG9yaWFsLlxuICAgKi9cbiAgbG9hZFdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCB0b29sYm94SnNvbiA9IHtcbiAgICAgICdraW5kJzogJ2ZseW91dFRvb2xib3gnLFxuICAgICAgJ2NvbnRlbnRzJzogW1xuICAgICAgICB7XG4gICAgICAgICAgJ2tpbmQnOiAnYmxvY2snLFxuICAgICAgICAgICdibG9ja3htbCc6IGA8YmxvY2sgdHlwZT1cIm11c2ljX25vdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiRFVSQVRJT05cIj4wLjI1PC9maWVsZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVwiUElUQ0hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNoYWRvdyB0eXBlPVwibXVzaWNfcGl0Y2hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cIlBJVENIXCI+QzQ8L2ZpZWxkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NoYWRvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdmFsdWU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9ibG9jaz5gLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgJ2tpbmQnOiAnYmxvY2snLFxuICAgICAgICAgICd0eXBlJzogJ211c2ljX3Jlc3QnLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9O1xuICAgIHRoaXMud29ya3NwYWNlLnVwZGF0ZVRvb2xib3godG9vbGJveEpzb24pO1xuICAgIGNvbnN0IHN0YXJ0ZXJYbWwgPVxuICAgICAgICBgPHhtbD5cbiAgICAgICAgICAgIDxibG9jayB0eXBlPVwibXVzaWNfc3RhcnRcIiBkZWxldGFibGU9XCJmYWxzZVwiIHg9XCIxODBcIlxuICAgICAgICAgICAgeT1cIjUwXCI+PC9ibG9jaz5cbiAgICAgICAgICA8L3htbD5gO1xuICAgIHRoaXMud29ya3NwYWNlLmNsZWFyKCk7XG4gICAgQmxvY2tseS5YbWwuZG9tVG9Xb3Jrc3BhY2UoXG4gICAgICAgIEJsb2NrbHkuWG1sLnRleHRUb0RvbShzdGFydGVyWG1sKSwgdGhpcy53b3Jrc3BhY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBzaG9ydGN1dCB0byByZXBsYXkgdGhlIGN1cnJlbnQgdHV0b3JpYWwgc3RlcC5cbiAgICovXG4gIHJlZ2lzdGVyUGxheUhlbHBUZXh0KCkge1xuICAgIC8qKiBAdHlwZSB7IUJsb2NrbHkuU2hvcnRjdXRSZWdpc3RyeS5LZXlib2FyZFNob3J0Y3V0fSAqL1xuICAgIGNvbnN0IHBsYXlIZWxwVGV4dCA9IHtcbiAgICAgIG5hbWU6ICdwbGF5SGVscFRleHQnLFxuICAgICAgcHJlY29uZGl0aW9uRm46IGZ1bmN0aW9uKHdvcmtzcGFjZSkge1xuICAgICAgICByZXR1cm4gd29ya3NwYWNlLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGUgJiZcbiAgICAgICAgICAgICF3b3Jrc3BhY2Uub3B0aW9ucy5yZWFkT25seTtcbiAgICAgIH0sXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBzcGVha2VyLnNwZWFrKHRoaXMuY3VyU3RlcC50ZXh0LCB0cnVlKTtcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIEJsb2NrbHkuU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3RlcihwbGF5SGVscFRleHQpO1xuICAgIGNvbnN0IHNoaWZ0VyA9IEJsb2NrbHkuU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5KFxuICAgICAgICBCbG9ja2x5LnV0aWxzLktleUNvZGVzLkgpO1xuICAgIEJsb2NrbHkuU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5hZGRLZXlNYXBwaW5nKFxuICAgICAgICBzaGlmdFcsIHBsYXlIZWxwVGV4dC5uYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwbGF5IHRoZSBuZXh0IHN0ZXAsIG9yIGVuZCB0aGUgdHV0b3JpYWwgaWYgdGhlcmUgYXJlIG5vIG1vcmUgc3RlcHMuXG4gICAqL1xuICBuZXh0U3RlcCgpIHtcbiAgICB0aGlzLmN1clN0ZXBJbmRleCsrO1xuICAgIGlmICh0aGlzLmN1clN0ZXBJbmRleCA8IHRoaXMuc3RlcHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmN1clN0ZXAgPSB0aGlzLnN0ZXBzW3RoaXMuY3VyU3RlcEluZGV4XTtcbiAgICAgIE1pY3JvTW9kYWwuc2hvdyh0aGlzLm1vZGFsSWQpO1xuICAgICAgdGhpcy5jdXJTdGVwLnNob3coKTtcbiAgICAgIHRoaXMuc3Rhc2hDdXJzb3IoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kb25lKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVuZCB0aGUgdHV0b3JpYWwuXG4gICAqL1xuICBkb25lKCkge1xuICAgIE1pY3JvTW9kYWwuY2xvc2UodGhpcy5tb2RhbElkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIHRoZSBjdXJyZW50IGN1cnNvciBub2RlIGFuZCBkaXNhYmxlIGtleWJvYXJkIG5hdi5cbiAgICogQ2FsbCB0aGlzIHdoZW4gb3BlbmluZyB0aGUgbW9kYWwuXG4gICAqL1xuICBzdGFzaEN1cnNvcigpIHtcbiAgICB0aGlzLmN1ck5vZGUgPSB0aGlzLndvcmtzcGFjZS5nZXRDdXJzb3IoKS5nZXRDdXJOb2RlKCk7XG4gICAgQmxvY2tseS5uYXZpZ2F0aW9uLmRpc2FibGVLZXlib2FyZEFjY2Vzc2liaWxpdHkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWVuYWJsZSBrZXlib2FyZCBuYXYgYW5kIG1vdmUgdGhlIGN1cnNvciB0byB0aGUgcHJldmlvdXNseVxuICAgKiBzZWxlY3RlZCBjdXJzb3Igbm9kZS4gQ2FsbCB0aGlzIHdoZW4gY2xvc2luZyB0aGUgbW9kYWwuXG4gICAqL1xuICBwb3BDdXJzb3IoKSB7XG4gICAgQmxvY2tseS5uYXZpZ2F0aW9uLmVuYWJsZUtleWJvYXJkQWNjZXNzaWJpbGl0eSgpO1xuICAgIGlmICh0aGlzLmN1ck5vZGUpIHtcbiAgICAgIHRoaXMud29ya3NwYWNlLmdldEN1cnNvcigpLnNldEN1ck5vZGUodGhpcy5jdXJOb2RlKTtcbiAgICAgIHNwZWFrZXIuY2FuY2VsKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBuZWNlc3NhcnkgaGFuZGxlcnMgZm9yIGFueSBidXR0b25zIG9uIHRoZSBtb2RhbC5cbiAgICovXG4gIGFkZENhbGxiYWNrcygpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnN0ZXBCdXR0b25JZCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5uZXh0U3RlcCgpO1xuICAgICAgICB9KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmhpZGVCdXR0b25JZCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLFxuICAgICAgICAoZSkgPT4ge1xuICAgICAgICAgIE1pY3JvTW9kYWwuY2xvc2UodGhpcy5tb2RhbElkKTtcbiAgICAgICAgICB0aGlzLnBvcEN1cnNvcigpO1xuICAgICAgICAgIFR1dG9yaWFsLlNURVBfT0JKRUNUU1t0aGlzLmN1clN0ZXBJbmRleF0ub25TdGFydCh0aGlzKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBkb20gZm9yIHRoZSBtb2RhbC5cbiAgICovXG4gIGNyZWF0ZURvbSgpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm1vZGFsSWQpLmlubmVySFRNTCA9IGBcbiAgICAgPGRpdiBjbGFzcz1cIm1vZGFsX19vdmVybGF5XCIgdGFiaW5kZXg9XCItMVwiIGRhdGEtbWljcm9tb2RhbC1jbG9zZT5cbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbF9fY29udGFpbmVyXCIgcm9sZT1cImRpYWxvZ1wiIGFyaWEtbW9kYWw9XCJ0cnVlXCJcbiAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwibW9kYWwtMS10aXRsZVwiPlxuICAgICAgICA8aGVhZGVyIGNsYXNzPVwibW9kYWxfX2hlYWRlclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbF9fY2xvc2VcIiBhcmlhLWxhYmVsPVwiQ2xvc2UgbW9kYWxcIlxuICAgICAgICAgICAgaWQ9XCJ0dXRvcmlhbENsb3NlQnRuXCIgZGF0YS1taWNyb21vZGFsLWNsb3NlPjwvYnV0dG9uPlxuICAgICAgICA8L2hlYWRlcj5cbiAgICAgICAgPG1haW4gY2xhc3M9XCJtb2RhbF9fY29udGVudFwiIGlkPVwibW9kYWwtMS1jb250ZW50XCI+XG4gICAgICAgICAgPGgyIGNsYXNzPVwibW9kYWxfX3RpdGxlXCIgaWQ9XCIke3RoaXMuc3RlcFRleHRJZH1cIj48L2gyPlxuICAgICAgICA8L21haW4+XG4gICAgICAgIDxmb290ZXIgY2xhc3M9XCJtb2RhbF9fZm9vdGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZGFsX19idG4gbW9kYWxfX2J0bi1wcmltYXJ5XCIgYXJpYS1sYWJlbD1cIkhpZGUgbW9kYWxcIlxuICAgICAgICAgICAgaWQ9XCIke3RoaXMuaGlkZUJ1dHRvbklkfVwiPkhpZGUgbW9kYWw8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibW9kYWxfX2J0biBtb2RhbF9fYnRuLXByaW1hcnlcIiBhcmlhLWxhYmVsPVwiTmV4dCBzdGVwXCJcbiAgICAgICAgICAgIGlkPVwiJHt0aGlzLnN0ZXBCdXR0b25JZH1cIj5OZXh0IHN0ZXA8L2J1dHRvbj5cbiAgICAgICAgPC9mb290ZXI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBsb2NhdGlvbiwgYmFzZWQgb24gdGhlIGV2ZW50LlxuICAgKiBAcGFyYW0ge0Jsb2NrbHkuRXZlbnR9IGV2ZW50IEFuIGV2ZW50IHRvIGluc3BlY3QgZm9yIGEgY3Vyc29yIGxvY2F0aW9uLlxuICAgKiBAcmV0dXJuIHtCbG9ja2x5LkFTVE5vZGV9IFRoZSBjdXJyZW50IGN1cnNvciBsb2NhdGlvbiwgb3IgbnVsbCBpZiB0aGUgZXZlbnRcbiAgICogICAgIGRpZG4ndCBoYXZlIG9uZS5cbiAgICovXG4gIGdldEN1cnJlbnRMb2NhdGlvbihldmVudCkge1xuICAgIGNvbnN0IGN1ck5vZGUgPSBldmVudC5uZXdOb2RlO1xuICAgIGlmIChjdXJOb2RlKSB7XG4gICAgICByZXR1cm4gY3VyTm9kZS5nZXRMb2NhdGlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5UdXRvcmlhbC5TVEVQX09CSkVDVFMgPSBbXG4gIHtcbiAgICB0ZXh0OiBgSW4gdGhpcyB0dXRvcmlhbCB5b3Ugd2lsbCB3cml0ZSBjb2RlIHRoYXQgcGxheXMgbXVzaWNhbCBub3Rlcy4gSWYgYXRcbiAgICAgIGFueSBwb2ludCB5b3UgYXJlIGNvbmZ1c2VkIGFib3V0IHdoYXQgdG8gZG8sIHByZXNzIEggdG8gcmVwbGF5IHRoZSBnb2FsXG4gICAgICBmb3IgdGhlIGN1cnJlbnQgc3RlcC4gUHJlc3MgRW50ZXIgdG8gZ28gdG8gdGhlIG5leHQgc3RlcC5gLFxuICAgIGdvYWxUZXh0OiBgUHJlc3MgRW50ZXIgdG8gZ28gdG8gdGhlIG5leHQgc3RlcC5gLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKHR1dG9yaWFsKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpPT4gdHV0b3JpYWwubmV4dFN0ZXAoKSwgMTAwKTtcbiAgICB9LFxuICB9LFxuICB7XG4gICAgdGV4dDogYFlvdSBjYW4gbW92ZSBhcm91bmQgdGhlIGJsb2NrcyBvZiBjb2RlIHdpdGggdGhlIHVwIGFuZCBkb3duIGFycm93cy5cbiAgICBZb3Ugd2lsbCBoZWFyIGRlc2NyaXB0aW9ucyBhcyB5b3UgbW92ZSBhcm91bmQgdGhlIGJsb2Nrcy4gLlxuICAgIEFsbCBibG9ja3MgaGF2ZSBjb25uZWN0aW9uIHBvaW50cywgd2hpY2ggYXJlIHBsYWNlcyB3aGVyZSB5b3UgY2FuIGFkZCBtb3JlXG4gICAgY29kZS4gLiBVc2UgdGhlIGRvd24gYXJyb3cgdG8gbW92ZSB0byBhIGNvbm5lY3Rpb24gcG9pbnQuXG4gICAgSGl0IGVudGVyIHRvIGJlZ2luLiBgLFxuICAgIGdvYWxUZXh0OiBgVXNlIHRoZSBkb3duIGFycm93IHRvIG1vdmUgdG8gYSBjb25uZWN0aW9uIHBvaW50LmAsXG4gICAgb25TdGFydDogZnVuY3Rpb24odHV0b3JpYWwpIHtcbiAgICAgIGNvbnN0IHdvcmtzcGFjZSA9IHR1dG9yaWFsLndvcmtzcGFjZTtcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IEJsb2NrbHkuRXZlbnRzLk1BUktFUl9NT1ZFKSB7XG4gICAgICAgICAgY29uc3QgY3VyTm9kZSA9IGV2ZW50Lm5ld05vZGU7XG4gICAgICAgICAgY29uc3QgY29ycmVjdExvY2F0aW9uID1cbiAgICAgICAgICAgICAgd29ya3NwYWNlLmdldFRvcEJsb2NrcygpWzBdLmlucHV0TGlzdFsxXS5jb25uZWN0aW9uO1xuICAgICAgICAgIGlmIChjdXJOb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9IGN1ck5vZGUuZ2V0TG9jYXRpb24oKTtcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbiA9PT0gY29ycmVjdExvY2F0aW9uKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UucmVtb3ZlQ2hhbmdlTGlzdGVuZXIod3JhcHBlcik7XG4gICAgICAgICAgICAgICAgdHV0b3JpYWwubmV4dFN0ZXAoKTtcbiAgICAgICAgICAgICAgfSwgNDcwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBBZGQgYSBzaG9ydGN1dCBpbiBwbGFjZSBvZiB0aGUgZG93biBhcnJvdyBzaG9ydGN1dC5cbiAgICAgIGNvbnN0IHdyYXBwZXIgPSB3b3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIH0sXG4gIH0sXG4gIHtcbiAgICB0ZXh0OlxuICAgICAgYEdyZWF0ISBZb3UgbW92ZWQgdG8gYSBjb25uZWN0aW9uIHBvaW50LiAuXG4gICAgICBUbyBhZGQgbW9yZSBjb2RlLCB5b3UgZmlyc3QgbWFyayBhIGxvY2F0aW9uIGFuZCB0aGVuIHNlbGVjdCB0aGUgYmxvY2sgeW91XG4gICAgICB3YW50IHRvIGFkZC4gLlxuICAgICAgTmF2aWdhdGUgdG8gdGhlIGNvbm5lY3Rpb24gcG9pbnQsIHRoZW4gcHJlc3MgZW50ZXIgdG8gbWFyayBpdC5gLFxuICAgIGdvYWxUZXh0OiBgTmF2aWdhdGUgdG8gdGhlIGNvbm5lY3Rpb24gcG9pbnQsIHRoZW4gcHJlc3MgZW50ZXIgdG8gbWFyayBpdC5gLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKHR1dG9yaWFsKSB7XG4gICAgICBjb25zdCB3b3Jrc3BhY2UgPSB0dXRvcmlhbC53b3Jrc3BhY2U7XG4gICAgICBjb25zdCBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSBCbG9ja2x5LkV2ZW50cy5NQVJLRVJfTU9WRSkge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRMb2NhdGlvbiA9IHR1dG9yaWFsLmdldEN1cnJlbnRMb2NhdGlvbihldmVudCk7XG4gICAgICAgICAgaWYgKGN1cnJlbnRMb2NhdGlvbiAmJiAhZXZlbnQuaXNDdXJzb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvcnJlY3RMb2NhdGlvbiA9XG4gICAgICAgICAgICAgICAgd29ya3NwYWNlLmdldFRvcEJsb2NrcygpWzBdLmlucHV0TGlzdFsxXS5jb25uZWN0aW9uO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRMb2NhdGlvbiA9PT0gY29ycmVjdExvY2F0aW9uKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UucmVtb3ZlQ2hhbmdlTGlzdGVuZXIod3JhcHBlcik7XG4gICAgICAgICAgICAgICAgdHV0b3JpYWwubmV4dFN0ZXAoKTtcbiAgICAgICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBBZGQgYSBzaG9ydGN1dCBpbiBwbGFjZSBvZiB0aGUgZG93biBhcnJvdyBzaG9ydGN1dC5cbiAgICAgIGNvbnN0IHdyYXBwZXIgPSB3b3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIH0sXG4gIH0sXG4gIHtcbiAgICB0ZXh0OiBgR3JlYXQhIFlvdSBtYXJrZWQgYSBjb25uZWN0aW9uIHBvaW50LiBOb3cgeW91IGNhbiBhZGQgbW9yZSBjb2RlXG4gICAgYmxvY2tzLiAuXG4gICAgVGhlIHRvb2xib3ggaXMgYSBsaXN0IG9mIGNvZGUgYmxvY2tzIHRoYXQgeW91IGNhbiBhZGQgdG8gdGhlIHdvcmtzcGFjZS5cbiAgICBZb3UgY2FuIGFsd2F5cyBvcGVuIHRoZSB0b29sYm94IGJ5IHByZXNzaW5nIFQuIC5cbiAgICBQcmVzcyBUIHRvIG9wZW4gdGhlIHRvb2xib3gsIHRoZW4gdXNlIHRoZSB1cCBhbmQgZG93biBhcnJvd3MgdG8gZXhwbG9yZVxuICAgIGl0LiAuXG4gICAgUHJlc3MgPz8/IHdoZW4geW91IGFyZSByZWFkeSBmb3IgdGhlIG5leHQgc3RlcC5gLFxuICAgIGdvYWxUZXh0OiBgUHJlc3MgVCB0byBvcGVuIHRoZSB0b29sYm94LCB0aGVuIHVzZSB0aGUgdXAgYW5kIGRvd24gYXJyb3dzIHRvXG4gICAgICBleHBsb3JlIGl0LiAuIFByZXNzID8/PyB3aGVuIHlvdSBhcmUgcmVhZHkgZm9yIHRoZSBuZXh0IHN0ZXAuYCxcbiAgICBvblN0YXJ0OiBmdW5jdGlvbih0dXRvcmlhbCkge1xuICAgICAgLyoqIEB0eXBlIHshQmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXR9ICovXG4gICAgICBjb25zdCBmaW5pc2hTdGVwID0ge1xuICAgICAgICBuYW1lOiAnZmluaXNoU3RlcCcsXG4gICAgICAgIHByZWNvbmRpdGlvbkZuOiBmdW5jdGlvbih3b3Jrc3BhY2UpIHtcbiAgICAgICAgICByZXR1cm4gd29ya3NwYWNlLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGUgJiZcbiAgICAgICAgICAgICAgIXdvcmtzcGFjZS5vcHRpb25zLnJlYWRPbmx5O1xuICAgICAgICB9LFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHR1dG9yaWFsLm5leHRTdGVwKCk7XG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIoZmluaXNoU3RlcCk7XG4gICAgICBjb25zdCBzaGlmdFcgPSBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuY3JlYXRlU2VyaWFsaXplZEtleShcbiAgICAgICAgICBCbG9ja2x5LnV0aWxzLktleUNvZGVzLkYpO1xuICAgICAgQmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LmFkZEtleU1hcHBpbmcoXG4gICAgICAgICAgc2hpZnRXLCBmaW5pc2hTdGVwLm5hbWUpO1xuICAgIH0sXG4gIH0sXG4gIHtcbiAgICB0ZXh0OiBgR3JlYXQhIFlvdSBoYXZlIG5vdyBzdWNjZXNzZnVsbHkgbWFya2VkIGEgY29ubmVjdGlvbiBwb2ludCBhbmRcbiAgICBuYXZpZ2F0ZWQgdG8gYSBsaXN0IG9mIGJsb2NrcyB0aGF0IHlvdSBjYW4gaW5zZXJ0LiAuXG4gICAgTm93IGl04oCZcyB0aW1lIHRvIHB1dCBpdCBhbGwgdG9nZXRoZXIuIC5cbiAgICBOYXZpZ2F0ZSB0byB0aGUgY29ubmVjdGlvbiBhbmQgbWFyayBpdCwgdGhlbiBwcmVzcyBUIHRvIG9wZW4gdGhlXG4gICAgdG9vbGJveC4gRmluZCB0aGUgYmxvY2sgdGhhdCBzYXlzIOKAnHBsYXkgd2hvbGUgbm90ZSBjNOKAnSBhbmQgcHJlc3NcbiAgICBlbnRlciB0byBhZGQgaXQgYXQgdGhlIG1hcmtlZCBsb2NhdGlvbi5gLFxuICAgIGdvYWxUZXh0OiBgTmF2aWdhdGUgdG8gdGhlIGNvbm5lY3Rpb24gYW5kIG1hcmsgaXQsIHRoZW4gcHJlc3MgVCB0byBvcGVuIHRoZVxuICAgIHRvb2xib3guIEZpbmQgdGhlIGJsb2NrIHRoYXQgc2F5cyDigJxwbGF5IHdob2xlIG5vdGUgYzTigJ0gYW5kIHByZXNzXG4gICAgZW50ZXIgdG8gYWRkIGl0IGF0IHRoZSBtYXJrZWQgbG9jYXRpb24uYCxcbiAgICBvblN0YXJ0OiBmdW5jdGlvbih0dXRvcmlhbCkge1xuICAgICAgY29uc3Qgd29ya3NwYWNlID0gdHV0b3JpYWwud29ya3NwYWNlO1xuICAgICAgY29uc3QgbGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gQmxvY2tseS5FdmVudHMuTUFSS0VSX01PVkUpIHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50TG9jYXRpb24gPSB0dXRvcmlhbC5nZXRDdXJyZW50TG9jYXRpb24oZXZlbnQpO1xuICAgICAgICAgIGlmIChjdXJyZW50TG9jYXRpb24gJiYgZXZlbnQuaXNDdXJzb3IgJiZcbiAgICAgICAgICAgICAgd29ya3NwYWNlLmdldEFsbEJsb2NrcygpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvcnJlY3RMb2NhdGlvbiA9XG4gICAgICAgICAgICAgICAgd29ya3NwYWNlLmdldEFsbEJsb2NrcygpWzFdLnByZXZpb3VzQ29ubmVjdGlvbjtcbiAgICAgICAgICAgIGlmIChjdXJyZW50TG9jYXRpb24gPT09IGNvcnJlY3RMb2NhdGlvbikge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgd29ya3NwYWNlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHdyYXBwZXIpO1xuICAgICAgICAgICAgICAgIHR1dG9yaWFsLm5leHRTdGVwKCk7XG4gICAgICAgICAgICAgIH0sIDQwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQWRkIGEgc2hvcnRjdXQgaW4gcGxhY2Ugb2YgdGhlIGRvd24gYXJyb3cgc2hvcnRjdXQuXG4gICAgICBjb25zdCB3cmFwcGVyID0gd29ya3NwYWNlLmFkZENoYW5nZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICB9LFxuICB9LFxuICB7XG4gICAgdGV4dDogYEdyZWF0ISBZb3UgY2FuIG5vdyBwcmVzcyBTaGlmdCBhbmQgUCBhdCB0aGUgc2FtZSB0aW1lIHRvIHJ1biB5b3VyXG4gICAgY29kZS4gWW91IHNob3VsZCBoZWFyIGEgbm90ZSBwbGF5IWAsXG4gICAgZ29hbFRleHQ6IGBQcmVzcyBTaGlmdCBhbmQgUCBhdCB0aGUgc2FtZSB0aW1lIHRvIHJ1biB5b3VyIGNvZGUuYCxcbiAgICBvblN0YXJ0OiBmdW5jdGlvbih0dXRvcmlhbCkge30sXG4gIH0sXG5dO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/tutorial.js\n");

/***/ })

})
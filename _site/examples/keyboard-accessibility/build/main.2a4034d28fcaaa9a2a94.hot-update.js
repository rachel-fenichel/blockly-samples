webpackHotUpdate("main",{

/***/ "./src/music_game_controller.js":
/*!**************************************!*\
  !*** ./src/music_game_controller.js ***!
  \**************************************/
/*! exports provided: MusicGameController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MusicGameController\", function() { return MusicGameController; });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var micromodal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! micromodal */ \"./node_modules/micromodal/dist/micromodal.es.js\");\n/* harmony import */ var _music__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./music */ \"./src/music.js\");\n/* harmony import */ var _help_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./help_modal */ \"./src/help_modal.js\");\n/* harmony import */ var _key_press_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./key_press_modal */ \"./src/key_press_modal.js\");\n/* harmony import */ var _welcome_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./welcome_modal */ \"./src/welcome_modal.js\");\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/* harmony import */ var _tutorial__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tutorial */ \"./src/tutorial.js\");\n/* harmony import */ var _custom_cursor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./custom_cursor */ \"./src/custom_cursor.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Music game controller.\n */\n\n\n\n\n\n\n\n\n\n/**\n * Class for a controller for the music game, which handles\n * creation of the game and coordination of related modals, tutorials,\n * etc.\n */\n\nvar MusicGameController = /*#__PURE__*/function () {\n  /**\n   * The constructor for the music game controller.\n   */\n  function MusicGameController() {\n    var _this = this;\n\n    _classCallCheck(this, MusicGameController);\n\n    micromodal__WEBPACK_IMPORTED_MODULE_1__[\"default\"].init({\n      onClose: function onClose() {\n        return _speaker__WEBPACK_IMPORTED_MODULE_6__[\"speaker\"].cancel();\n      }\n    });\n    this.workspace = this.createWorkspace_();\n    /**\n     * The actual game object.\n     * @type {Music}\n     */\n\n    this.game = new _music__WEBPACK_IMPORTED_MODULE_2__[\"Music\"](this.workspace, function (text) {\n      return _this.setGoalText(text);\n    }, function () {\n      _this.setFeedbackText('Congratulations. You did it!');\n    }, function (feedback) {\n      _this.setFeedbackText(feedback);\n    });\n    var helpModal = new _help_modal__WEBPACK_IMPORTED_MODULE_3__[\"HelpModal\"]('modal-1', 'modalButton');\n    helpModal.init(); // Start by showing the key press modal.\n\n    new _key_press_modal__WEBPACK_IMPORTED_MODULE_4__[\"KeyPressModal\"](function () {\n      return _this.showWelcomeModal();\n    }).init();\n  }\n  /**\n   * Initializes the Blockly workspace.\n   * @return {!Blockly.WorkspaceSvg} The Blockly workspace.\n   * @private\n   */\n\n\n  _createClass(MusicGameController, [{\n    key: \"createWorkspace_\",\n    value: function createWorkspace_() {\n      // Initialize Blockly workspace.\n      var blocklyDiv = document.getElementById('blocklyDiv');\n      var workspace = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.inject(blocklyDiv, {\n        toolbox: {\n          'kind': 'flyoutToolbox',\n          'contents': [{\n            'kind': 'block',\n            'blockxml': \"<block type=\\\"music_note\\\">\\n                          <field name=\\\"DURATION\\\">0.25</field>\\n                          <value name=\\\"PITCH\\\">\\n                            <shadow type=\\\"music_pitch\\\">\\n                              <field name=\\\"PITCH\\\">C4</field>\\n                            </shadow>\\n                          </value>\\n                        </block>\"\n          }, {\n            'kind': 'block',\n            'type': 'music_rest'\n          }]\n        }\n      });\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.NAVIGATE_ALL_FIELDS = true;\n      workspace.getMarkerManager().setCursor(new _custom_cursor__WEBPACK_IMPORTED_MODULE_8__[\"CustomCursor\"]());\n      workspace.addChangeListener(function (event) {\n        return _speaker__WEBPACK_IMPORTED_MODULE_6__[\"speaker\"].nodeToSpeech(event);\n      });\n      workspace.getFlyout().getWorkspace().addChangeListener(function (event) {\n        return _speaker__WEBPACK_IMPORTED_MODULE_6__[\"speaker\"].nodeToSpeech(event);\n      });\n      return workspace;\n    }\n    /**\n     * Sets the feedback text.\n     * @param {string} text The text to set the feedback to.\n     */\n\n  }, {\n    key: \"setFeedbackText\",\n    value: function setFeedbackText(text) {\n      var feedbackTextEl = document.getElementById('feedbackText');\n      feedbackTextEl.innerHTML = text.replaceAll('\\n', '<br>');\n      _speaker__WEBPACK_IMPORTED_MODULE_6__[\"speaker\"].speak(text, true);\n    }\n    /**\n     * Sets the goal text.\n     * @param {string} text The text to set the goal to.\n     */\n\n  }, {\n    key: \"setGoalText\",\n    value: function setGoalText(text) {\n      var feedbackTextEl = document.getElementById('goalText');\n      feedbackTextEl.innerHTML = text;\n      _speaker__WEBPACK_IMPORTED_MODULE_6__[\"speaker\"].speak(text, true);\n    }\n    /**\n     * Get the current game object.\n     * @return {Music} The current game object.\n     */\n\n  }, {\n    key: \"getGame\",\n    value: function getGame() {\n      return this.game;\n    }\n    /**\n     * Start the tutorial.\n     */\n\n  }, {\n    key: \"runTutorial\",\n    value: function runTutorial() {\n      var _this2 = this;\n\n      new _tutorial__WEBPACK_IMPORTED_MODULE_7__[\"Tutorial\"](this.workspace, function (text) {\n        return _this2.setGoalText(text);\n      }).init();\n    }\n    /**\n     * Start the Game.\n     */\n\n  }, {\n    key: \"runGame\",\n    value: function runGame() {\n      this.game.loadLevel(1);\n    }\n    /**\n     * Show the welcome modal.\n     */\n\n  }, {\n    key: \"showWelcomeModal\",\n    value: function showWelcomeModal() {\n      var _this3 = this;\n\n      new _welcome_modal__WEBPACK_IMPORTED_MODULE_5__[\"WelcomeModal\"](function () {\n        return _this3.runTutorial();\n      }, function () {\n        return _this3.runGame();\n      }).init();\n    }\n  }]);\n\n  return MusicGameController;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbXVzaWNfZ2FtZV9jb250cm9sbGVyLmpzPzczYTYiXSwibmFtZXMiOlsiTXVzaWNHYW1lQ29udHJvbGxlciIsIk1pY3JvTW9kYWwiLCJpbml0Iiwib25DbG9zZSIsInNwZWFrZXIiLCJjYW5jZWwiLCJ3b3Jrc3BhY2UiLCJjcmVhdGVXb3Jrc3BhY2VfIiwiZ2FtZSIsIk11c2ljIiwidGV4dCIsInNldEdvYWxUZXh0Iiwic2V0RmVlZGJhY2tUZXh0IiwiZmVlZGJhY2siLCJoZWxwTW9kYWwiLCJIZWxwTW9kYWwiLCJLZXlQcmVzc01vZGFsIiwic2hvd1dlbGNvbWVNb2RhbCIsImJsb2NrbHlEaXYiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiQmxvY2tseSIsImluamVjdCIsInRvb2xib3giLCJBU1ROb2RlIiwiTkFWSUdBVEVfQUxMX0ZJRUxEUyIsImdldE1hcmtlck1hbmFnZXIiLCJzZXRDdXJzb3IiLCJDdXN0b21DdXJzb3IiLCJhZGRDaGFuZ2VMaXN0ZW5lciIsImV2ZW50Iiwibm9kZVRvU3BlZWNoIiwiZ2V0Rmx5b3V0IiwiZ2V0V29ya3NwYWNlIiwiZmVlZGJhY2tUZXh0RWwiLCJpbm5lckhUTUwiLCJyZXBsYWNlQWxsIiwic3BlYWsiLCJUdXRvcmlhbCIsImxvYWRMZXZlbCIsIldlbGNvbWVNb2RhbCIsInJ1blR1dG9yaWFsIiwicnVuR2FtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNPLElBQU1BLG1CQUFiO0FBQ0U7QUFDRjtBQUNBO0FBQ0UsaUNBQWM7QUFBQTs7QUFBQTs7QUFDWkMsc0RBQVUsQ0FBQ0MsSUFBWCxDQUFnQjtBQUNkQyxhQUFPLEVBQUU7QUFBQSxlQUFNQyxnREFBTyxD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RUFBNkIsVUFBQ0ksSUFBRDtBQUFBLGVBQVUsTUFBSSxDQUFDQyxXQUFMLENBQWlCRCxJQUFqQixDQUFWO0FBQUEsT0FBN0IsRUFBK0RSLElBQS9EO0FBQ0Q7QUFFRDtBQUNGO0FBQ0E7O0FBekdBO0FBQUE7QUFBQSw4QkEwR1k7QUFDUixXQUFLTSxJQUFMLENBQVUrQixTQUFWLENBQW9CLENBQXBCO0FBQ0Q7QUFFRDtBQUNGO0FBQ0E7O0FBaEhBO0FBQUE7QUFBQSx1Q0FpSHFCO0FBQUE7O0FBQ2pCLFVBQUlDLDJEQUFKLENBQWlCO0FBQUEsZUFBTSxNQUFJLENBQUNDLFdBQUwsRUFBTjtBQUFBLE9BQWpCLEVBQTJDO0FBQUEsZUFBTSxNQUFJLENBQUNDLE9BQUwsRUFBTjtBQUFBLE9BQTNDLEVBQWlFeEMsSUFBakU7QUFDRDtBQW5ISDs7QUFBQTtBQUFBIiwiZmlsZSI6Ii4vc3JjL211c2ljX2dhbWVfY29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE11c2ljIGdhbWUgY29udHJvbGxlci5cbiAqL1xuXG5cbmltcG9ydCBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5pbXBvcnQgTWljcm9Nb2RhbCBmcm9tICdtaWNyb21vZGFsJztcbmltcG9ydCB7TXVzaWN9IGZyb20gJy4vbXVzaWMnO1xuaW1wb3J0IHtIZWxwTW9kYWx9IGZyb20gJy4vaGVscF9tb2RhbCc7XG5pbXBvcnQge0tleVByZXNzTW9kYWx9IGZyb20gJy4va2V5X3ByZXNzX21vZGFsJztcbmltcG9ydCB7V2VsY29tZU1vZGFsfSBmcm9tICcuL3dlbGNvbWVfbW9kYWwnO1xuaW1wb3J0IHtzcGVha2VyfSBmcm9tICcuL3NwZWFrZXInO1xuaW1wb3J0IHtUdXRvcmlhbH0gZnJvbSAnLi90dXRvcmlhbCc7XG5pbXBvcnQge0N1c3RvbUN1cnNvcn0gZnJvbSAnLi9jdXN0b21fY3Vyc29yJztcblxuLyoqXG4gKiBDbGFzcyBmb3IgYSBjb250cm9sbGVyIGZvciB0aGUgbXVzaWMgZ2FtZSwgd2hpY2ggaGFuZGxlc1xuICogY3JlYXRpb24gb2YgdGhlIGdhbWUgYW5kIGNvb3JkaW5hdGlvbiBvZiByZWxhdGVkIG1vZGFscywgdHV0b3JpYWxzLFxuICogZXRjLlxuICovXG5leHBvcnQgY2xhc3MgTXVzaWNHYW1lQ29udHJvbGxlciB7XG4gIC8qKlxuICAgKiBUaGUgY29uc3RydWN0b3IgZm9yIHRoZSBtdXNpYyBnYW1lIGNvbnRyb2xsZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBNaWNyb01vZGFsLmluaXQoe1xuICAgICAgb25DbG9zZTogKCkgPT4gc3BlYWtlci5jYW5jZWwoKSxcbiAgICB9KTtcblxuICAgIHRoaXMud29ya3NwYWNlID0gdGhpcy5jcmVhdGVXb3Jrc3BhY2VfKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYWN0dWFsIGdhbWUgb2JqZWN0LlxuICAgICAqIEB0eXBlIHtNdXNpY31cbiAgICAgKi9cbiAgICB0aGlzLmdhbWUgPSBuZXcgTXVzaWModGhpcy53b3Jrc3BhY2UsICh0ZXh0KSA9PiB0aGlzLnNldEdvYWxUZXh0KHRleHQpLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRGZWVkYmFja1RleHQoJ0NvbmdyYXR1bGF0aW9ucy4gWW91IGRpZCBpdCEnKTtcbiAgICAgICAgfSwgKGZlZWRiYWNrKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRGZWVkYmFja1RleHQoZmVlZGJhY2spO1xuICAgICAgICB9KTtcblxuICAgIGNvbnN0IGhlbHBNb2RhbCA9IG5ldyBIZWxwTW9kYWwoJ21vZGFsLTEnLCAnbW9kYWxCdXR0b24nKTtcbiAgICBoZWxwTW9kYWwuaW5pdCgpO1xuXG4gICAgLy8gU3RhcnQgYnkgc2hvd2luZyB0aGUga2V5IHByZXNzIG1vZGFsLlxuICAgIG5ldyBLZXlQcmVzc01vZGFsKCgpID0+IHRoaXMuc2hvd1dlbGNvbWVNb2RhbCgpKS5pbml0KCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIEJsb2NrbHkgd29ya3NwYWNlLlxuICAgKiBAcmV0dXJuIHshQmxvY2tseS5Xb3Jrc3BhY2VTdmd9IFRoZSBCbG9ja2x5IHdvcmtzcGFjZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNyZWF0ZVdvcmtzcGFjZV8oKSB7XG4gICAgLy8gSW5pdGlhbGl6ZSBCbG9ja2x5IHdvcmtzcGFjZS5cbiAgICBjb25zdCBibG9ja2x5RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jsb2NrbHlEaXYnKTtcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSBCbG9ja2x5LmluamVjdChibG9ja2x5RGl2LCB7XG4gICAgICB0b29sYm94OiB7XG4gICAgICAgICdraW5kJzogJ2ZseW91dFRvb2xib3gnLFxuICAgICAgICAnY29udGVudHMnOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgJ2tpbmQnOiAnYmxvY2snLFxuICAgICAgICAgICAgJ2Jsb2NreG1sJzogYDxibG9jayB0eXBlPVwibXVzaWNfbm90ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cIkRVUkFUSU9OXCI+MC4yNTwvZmllbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVwiUElUQ0hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2hhZG93IHR5cGU9XCJtdXNpY19waXRjaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJQSVRDSFwiPkM0PC9maWVsZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NoYWRvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+YCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgICdraW5kJzogJ2Jsb2NrJyxcbiAgICAgICAgICAgICd0eXBlJzogJ211c2ljX3Jlc3QnLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIH0pO1xuICAgIEJsb2NrbHkuQVNUTm9kZS5OQVZJR0FURV9BTExfRklFTERTID0gdHJ1ZTtcbiAgICB3b3Jrc3BhY2UuZ2V0TWFya2VyTWFuYWdlcigpLnNldEN1cnNvcihuZXcgQ3VzdG9tQ3Vyc29yKCkpO1xuICAgIHdvcmtzcGFjZS5hZGRDaGFuZ2VMaXN0ZW5lcigoZXZlbnQpID0+IHNwZWFrZXIubm9kZVRvU3BlZWNoKGV2ZW50KSk7XG4gICAgd29ya3NwYWNlLmdldEZseW91dCgpLmdldFdvcmtzcGFjZSgpLmFkZENoYW5nZUxpc3RlbmVyKFxuICAgICAgICAoZXZlbnQpID0+IHNwZWFrZXIubm9kZVRvU3BlZWNoKGV2ZW50KSk7XG4gICAgcmV0dXJuIHdvcmtzcGFjZTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGZlZWRiYWNrIHRleHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHRvIHNldCB0aGUgZmVlZGJhY2sgdG8uXG4gICAqL1xuICBzZXRGZWVkYmFja1RleHQodGV4dCkge1xuICAgIGNvbnN0IGZlZWRiYWNrVGV4dEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlZWRiYWNrVGV4dCcpO1xuICAgIGZlZWRiYWNrVGV4dEVsLmlubmVySFRNTCA9IHRleHQucmVwbGFjZUFsbCgnXFxuJywgJzxicj4nKTtcbiAgICBzcGVha2VyLnNwZWFrKHRleHQsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdvYWwgdGV4dC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgdG8gc2V0IHRoZSBnb2FsIHRvLlxuICAgKi9cbiAgc2V0R29hbFRleHQodGV4dCkge1xuICAgIGNvbnN0IGZlZWRiYWNrVGV4dEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvYWxUZXh0Jyk7XG4gICAgZmVlZGJhY2tUZXh0RWwuaW5uZXJIVE1MID0gdGV4dDtcbiAgICBzcGVha2VyLnNwZWFrKHRleHQsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBnYW1lIG9iamVjdC5cbiAgICogQHJldHVybiB7TXVzaWN9IFRoZSBjdXJyZW50IGdhbWUgb2JqZWN0LlxuICAgKi9cbiAgZ2V0R2FtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHRoZSB0dXRvcmlhbC5cbiAgICovXG4gIHJ1blR1dG9yaWFsKCkge1xuICAgIG5ldyBUdXRvcmlhbCh0aGlzLndvcmtzcGFjZSwgKHRleHQpID0+IHRoaXMuc2V0R29hbFRleHQodGV4dCkpLmluaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCB0aGUgR2FtZS5cbiAgICovXG4gIHJ1bkdhbWUoKSB7XG4gICAgdGhpcy5nYW1lLmxvYWRMZXZlbCgxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHRoZSB3ZWxjb21lIG1vZGFsLlxuICAgKi9cbiAgc2hvd1dlbGNvbWVNb2RhbCgpIHtcbiAgICBuZXcgV2VsY29tZU1vZGFsKCgpID0+IHRoaXMucnVuVHV0b3JpYWwoKSwgKCkgPT4gdGhpcy5ydW5HYW1lKCkpLmluaXQoKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/music_game_controller.js\n");

/***/ }),

/***/ "./src/tutorial.js":
/*!*************************!*\
  !*** ./src/tutorial.js ***!
  \*************************/
/*! exports provided: Tutorial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Tutorial\", function() { return Tutorial; });\n/* harmony import */ var _tutorial_step__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tutorial_step */ \"./src/tutorial_step.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var micromodal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! micromodal */ \"./node_modules/micromodal/dist/micromodal.es.js\");\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Multi-step tutorial using modals.\n */\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n/**\n * A multi-step tutorial for the accessible music game.\n */\n\nvar Tutorial = /*#__PURE__*/function () {\n  /**\n   * Class for a tutorial.\n   * @param {Blockly.WorkspaceSvg} workspace The workspace the user\n   *     will interact with.\n   * @param {function(string)} onGoalUpdateCb The callback function for goal\n   *    change.\n   * @constructor\n   */\n  function Tutorial(workspace, onGoalUpdateCb) {\n    var _this = this;\n\n    _classCallCheck(this, Tutorial);\n\n    /**\n     * The id of the modal.\n     * @type {string}\n     */\n    this.modalId = 'tutorialModal';\n    /**\n     * The id of the tutorial text.\n     * @type {string}\n     */\n\n    this.stepTextId = this.modalId + 'Text';\n    /**\n     * The id of the next step button.\n     * @type {string}\n     */\n\n    this.stepButtonId = this.modalId + 'StepBtn';\n    /**\n     * The id of the hide modal button.\n     * @type {string}\n     */\n\n    this.hideButtonId = this.modalId + 'HideBtn';\n    /**\n     * An array of steps in the tutorial.\n     * @type {Array<!TutorialStep>}\n     */\n\n    this.steps = Tutorial.STEP_OBJECTS.map(function (obj) {\n      return new _tutorial_step__WEBPACK_IMPORTED_MODULE_0__[\"TutorialStep\"](obj.text, _this.stepTextId, _this.nextStep);\n    });\n    /**\n     * The index of the currently active step.\n     * @type {number}\n     */\n\n    this.curStepIndex = 0;\n    /**\n     * The currently active step.\n     * @type {TutorialStep}\n     */\n\n    this.curStep = this.steps[this.curStepIndex];\n    /**\n     * The Blockly workspace the user will interact with.\n     * @type {Blockly.WorkspaceSvg}\n     */\n\n    this.workspace = workspace;\n    /**\n     * The node that was selected on the workspace when the modal\n     * opened.\n     * @type {Blockly.ASTNode}\n     */\n\n    this.curNode = null;\n    /**\n     * Callback function for goal update.\n     * @param {string} text The text to set the goal to.\n     */\n\n    this.onGoalUpdateCb = onGoalUpdateCb;\n  }\n  /**\n   * Initialize DOM and show.\n   */\n\n\n  _createClass(Tutorial, [{\n    key: \"init\",\n    value: function init() {\n      this.createDom();\n      this.addCallbacks();\n      micromodal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].show(this.modalId);\n      this.curStep.show();\n      this.registerPlayHelpText();\n      this.loadWorkspace();\n    }\n    /**\n     * Load the workspace for the tutorial.\n     */\n\n  }, {\n    key: \"loadWorkspace\",\n    value: function loadWorkspace() {\n      var toolboxJson = {\n        'kind': 'flyoutToolbox',\n        'contents': [{\n          'kind': 'block',\n          'blockxml': \"<block type=\\\"music_note\\\">\\n                        <field name=\\\"DURATION\\\">0.25</field>\\n                        <value name=\\\"PITCH\\\">\\n                          <shadow type=\\\"music_pitch\\\">\\n                            <field name=\\\"PITCH\\\">C4</field>\\n                          </shadow>\\n                        </value>\\n                      </block>\"\n        }, {\n          'kind': 'block',\n          'type': 'music_rest'\n        }]\n      };\n      this.workspace.updateToolbox(toolboxJson);\n      var starterXml = \"<xml>\\n            <block type=\\\"music_start\\\" deletable=\\\"false\\\" x=\\\"180\\\"\\n            y=\\\"50\\\"></block>\\n          </xml>\";\n      this.workspace.clear();\n      blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.Xml.domToWorkspace(blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.Xml.textToDom(starterXml), this.workspace);\n    }\n    /**\n     * Registers shortcut to replay the current tutorial step.\n     */\n\n  }, {\n    key: \"registerPlayHelpText\",\n    value: function registerPlayHelpText() {\n      var _this2 = this;\n\n      /** @type {!Blockly.ShortcutRegistry.KeyboardShortcut} */\n      var playHelpText = {\n        name: 'playHelpText',\n        preconditionFn: function preconditionFn(workspace) {\n          return workspace.keyboardAccessibilityMode && !workspace.options.readOnly;\n        },\n        callback: function callback() {\n          _speaker__WEBPACK_IMPORTED_MODULE_3__[\"speaker\"].speak(_this2.curStep.text, true);\n        }\n      };\n      blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.register(playHelpText);\n      var shiftW = blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.createSerializedKey(blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.utils.KeyCodes.H);\n      blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.addKeyMapping(shiftW, playHelpText.name);\n    }\n    /**\n     * Display the next step, or end the tutorial if there are no more steps.\n     */\n\n  }, {\n    key: \"nextStep\",\n    value: function nextStep() {\n      this.curStepIndex++;\n\n      if (this.curStepIndex < this.steps.length) {\n        this.curStep = this.steps[this.curStepIndex];\n        micromodal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].show(this.modalId);\n        this.curStep.show();\n        this.onGoalUpdateCb(Tutorial.STEP_OBJECTS[this.curStepIndex].goalText);\n        this.stashCursor();\n      } else {\n        this.done();\n      }\n    }\n    /**\n     * End the tutorial.\n     */\n\n  }, {\n    key: \"done\",\n    value: function done() {\n      micromodal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].close(this.modalId);\n    }\n    /**\n     * Save the current cursor node and disable keyboard nav.\n     * Call this when opening the modal.\n     */\n\n  }, {\n    key: \"stashCursor\",\n    value: function stashCursor() {\n      this.curNode = this.workspace.getCursor().getCurNode();\n      blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.navigation.disableKeyboardAccessibility();\n    }\n    /**\n     * Reenable keyboard nav and move the cursor to the previously\n     * selected cursor node. Call this when closing the modal.\n     */\n\n  }, {\n    key: \"popCursor\",\n    value: function popCursor() {\n      blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.navigation.enableKeyboardAccessibility();\n\n      if (this.curNode) {\n        this.workspace.getCursor().setCurNode(this.curNode);\n        _speaker__WEBPACK_IMPORTED_MODULE_3__[\"speaker\"].cancel();\n      }\n    }\n    /**\n     * Add necessary handlers for any buttons on the modal.\n     */\n\n  }, {\n    key: \"addCallbacks\",\n    value: function addCallbacks() {\n      var _this3 = this;\n\n      document.getElementById(this.stepButtonId).addEventListener('click', function () {\n        _this3.nextStep();\n      });\n      document.getElementById(this.hideButtonId).addEventListener('click', function (e) {\n        micromodal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].close(_this3.modalId);\n\n        _this3.popCursor();\n\n        Tutorial.STEP_OBJECTS[_this3.curStepIndex].onStart(_this3);\n\n        e.stopPropagation();\n        e.preventDefault();\n      });\n    }\n    /**\n     * Create the dom for the modal.\n     */\n\n  }, {\n    key: \"createDom\",\n    value: function createDom() {\n      document.getElementById(this.modalId).innerHTML = \"\\n     <div class=\\\"modal__overlay\\\" tabindex=\\\"-1\\\" data-micromodal-close>\\n      <div class=\\\"modal__container\\\" role=\\\"dialog\\\" aria-modal=\\\"true\\\"\\n        aria-labelledby=\\\"modal-1-title\\\">\\n        <header class=\\\"modal__header\\\">\\n          <button class=\\\"modal__close\\\" aria-label=\\\"Close modal\\\"\\n            id=\\\"tutorialCloseBtn\\\" data-micromodal-close></button>\\n        </header>\\n        <main class=\\\"modal__content\\\" id=\\\"modal-1-content\\\">\\n          <h2 class=\\\"modal__title\\\" id=\\\"\".concat(this.stepTextId, \"\\\"></h2>\\n        </main>\\n        <footer class=\\\"modal__footer\\\">\\n          <button class=\\\"modal__btn modal__btn-primary\\\" aria-label=\\\"Start step\\\"\\n            id=\\\"\").concat(this.hideButtonId, \"\\\">Start step</button>\\n          <button class=\\\"modal__btn modal__btn-primary\\\" aria-label=\\\"Skip step\\\"\\n            id=\\\"\").concat(this.stepButtonId, \"\\\">Skip step</button>\\n        </footer>\\n      </div>\\n    </div>\");\n    }\n    /**\n     * Get the current location, based on the event.\n     * @param {Blockly.Event} event An event to inspect for a cursor location.\n     * @return {Blockly.ASTNode} The current cursor location, or null if the event\n     *     didn't have one.\n     */\n\n  }, {\n    key: \"getCurrentLocation\",\n    value: function getCurrentLocation(event) {\n      var curNode = event.newNode;\n\n      if (curNode) {\n        return curNode.getLocation();\n      }\n\n      return null;\n    }\n  }]);\n\n  return Tutorial;\n}();\nTutorial.STEP_OBJECTS = [{\n  text: \"In this tutorial you will write code that plays musical notes. If at\\n      any point you are confused about what to do, press H to replay the goal\\n      for the current step. Press Enter to go to the next step.\",\n  goalText: \"Press Enter to go to the next step.\",\n  onStart: function onStart(tutorial) {\n    setTimeout(function () {\n      return tutorial.nextStep();\n    }, 100);\n  }\n}, {\n  text: \"You can move around the blocks of code with the up and down arrows.\\n    You will hear descriptions as you move around the blocks. .\\n    All blocks have connection points, which are places where you can add more\\n    code. . Use the down arrow to move to a connection point.\\n    Hit enter to begin. \",\n  goalText: \"Use the down arrow to move to a connection point.\",\n  onStart: function onStart(tutorial) {\n    var workspace = tutorial.workspace;\n\n    var listener = function listener(event) {\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.Events.MARKER_MOVE) {\n        var curNode = event.newNode;\n        var correctLocation = workspace.getTopBlocks()[0].inputList[1].connection;\n\n        if (curNode) {\n          var location = curNode.getLocation();\n\n          if (location === correctLocation) {\n            setTimeout(function () {\n              workspace.removeChangeListener(wrapper);\n              tutorial.nextStep();\n            }, 4700);\n          }\n        }\n      }\n    }; // Add a shortcut in place of the down arrow shortcut.\n\n\n    var wrapper = workspace.addChangeListener(listener);\n  }\n}, {\n  text: \"Great! You moved to a connection point. .\\n      To add more code, you first mark a location and then select the block you\\n      want to add. .\\n      Navigate to the connection point, then press enter to mark it.\",\n  goalText: \"Navigate to the connection point, then press enter to mark it.\",\n  onStart: function onStart(tutorial) {\n    var workspace = tutorial.workspace;\n\n    var listener = function listener(event) {\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.Events.MARKER_MOVE) {\n        var currentLocation = tutorial.getCurrentLocation(event);\n\n        if (currentLocation && !event.isCursor) {\n          var correctLocation = workspace.getTopBlocks()[0].inputList[1].connection;\n\n          if (currentLocation === correctLocation) {\n            setTimeout(function () {\n              workspace.removeChangeListener(wrapper);\n              tutorial.nextStep();\n            }, 3000);\n          }\n        }\n      }\n    }; // Add a shortcut in place of the down arrow shortcut.\n\n\n    var wrapper = workspace.addChangeListener(listener);\n  }\n}, {\n  text: \"Great! You marked a connection point. Now you can add more code\\n    blocks. .\\n    The toolbox is a list of code blocks that you can add to the workspace.\\n    You can always open the toolbox by pressing T. .\\n    Press T to open the toolbox, then use the up and down arrows to explore\\n    it. .\\n    Press ??? when you are ready for the next step.\",\n  goalText: \"Press T to open the toolbox, then use the up and down arrows to\\n      explore it. . Press ??? when you are ready for the next step.\",\n  onStart: function onStart(tutorial) {\n    /** @type {!Blockly.ShortcutRegistry.KeyboardShortcut} */\n    var finishStep = {\n      name: 'finishStep',\n      preconditionFn: function preconditionFn(workspace) {\n        return workspace.keyboardAccessibilityMode && !workspace.options.readOnly;\n      },\n      callback: function callback() {\n        tutorial.nextStep();\n      }\n    };\n    blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.register(finishStep);\n    var shiftW = blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.createSerializedKey(blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.utils.KeyCodes.F);\n    blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.addKeyMapping(shiftW, finishStep.name);\n  }\n}, {\n  text: \"Great! You have now successfully marked a connection point and\\n    navigated to a list of blocks that you can insert. .\\n    Now it\\u2019s time to put it all together. .\\n    Navigate to the connection and mark it, then press T to open the\\n    toolbox. Find the block that says \\u201Cplay whole note c4\\u201D and press\\n    enter to add it at the marked location.\",\n  goalText: \"Navigate to the connection and mark it, then press T to open the\\n    toolbox. Find the block that says \\u201Cplay whole note c4\\u201D and press\\n    enter to add it at the marked location.\",\n  onStart: function onStart(tutorial) {\n    var workspace = tutorial.workspace;\n\n    var listener = function listener(event) {\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.Events.MARKER_MOVE) {\n        var currentLocation = tutorial.getCurrentLocation(event);\n\n        if (currentLocation && event.isCursor && workspace.getAllBlocks().length > 1) {\n          var correctLocation = workspace.getAllBlocks()[1].previousConnection;\n\n          if (currentLocation === correctLocation) {\n            setTimeout(function () {\n              workspace.removeChangeListener(wrapper);\n              tutorial.nextStep();\n            }, 4000);\n          }\n        }\n      }\n    }; // Add a shortcut in place of the down arrow shortcut.\n\n\n    var wrapper = workspace.addChangeListener(listener);\n  }\n}, {\n  text: \"Great! You can now press Shift and P at the same time to run your\\n    code. You should hear a note play!\",\n  goalText: \"Press Shift and P at the same time to run your code.\",\n  onStart: function onStart(tutorial) {}\n}];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHV0b3JpYWwuanM/MjQzOCJdLCJuYW1lcyI6WyJUdXRvcmlhbCIsIndvcmtzcGFjZSIsIm9uR29hbFVwZGF0ZUNiIiwibW9kYWxJZCIsInN0ZXBUZXh0SWQiLCJzdGVwQnV0dG9uSWQiLCJoaWRlQnV0dG9uSWQiLCJzdGVwcyIsIlNURVBfT0JKRUNUUyIsIm1hcCIsIm9iaiIsIlR1dG9yaWFsU3RlcCIsInRleHQiLCJuZXh0U3RlcCIsImN1clN0ZXBJbmRleCIsImN1clN0ZXAiLCJjdXJOb2RlIiwiY3JlYXRlRG9tIiwiYWRkQ2FsbGJhY2tzIiwiTWljcm9Nb2RhbCIsInNob3ciLCJyZWdpc3RlclBsYXlIZWxwVGV4dCIsImxvYWRXb3Jrc3BhY2UiLCJ0b29sYm94SnNvbiIsInVwZGF0ZVRvb2xib3giLCJzdGFydGVyWG1sIiwiY2xlYXIiLCJCbG9ja2x5IiwiWG1sIiwiZG9tVG9Xb3Jrc3BhY2UiLCJ0ZXh0VG9Eb20iLCJwbGF5SGVscFRleHQiLCJuYW1lIiwicHJlY29uZGl0aW9uRm4iLCJrZXlib2FyZEFjY2Vzc2liaWxpdHlNb2RlIiwib3B0aW9ucyIsInJlYWRPbmx5IiwiY2FsbGJhY2siLCJzcGVha2VyIiwic3BlYWsiLCJTaG9ydGN1dFJlZ2lzdHJ5IiwicmVnaXN0cnkiLCJyZWdpc3RlciIsInNoaWZ0VyIsImNyZWF0ZVNlcmlhbGl6ZWRLZXkiLCJ1dGlscyIsIktleUNvZGVzIiwiSCIsImFkZEtleU1hcHBpbmciLCJsZW5ndGgiLCJnb2FsVGV4dCIsInN0YXNoQ3Vyc29yIiwiZG9uZSIsImNsb3NlIiwiZ2V0Q3Vyc29yIiwiZ2V0Q3VyTm9kZSIsIm5hdmlnYXRpb24iLCJkaXNhYmxlS2V5Ym9hcmRBY2Nlc3NpYmlsaXR5IiwiZW5hYmxlS2V5Ym9hcmRBY2Nlc3NpYmlsaXR5Iiwic2V0Q3VyTm9kZSIsImNhbmNlbCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInBvcEN1cnNvciIsIm9uU3RhcnQiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImlubmVySFRNTCIsImV2ZW50IiwibmV3Tm9kZSIsImdldExvY2F0aW9uIiwidHV0b3JpYWwiLCJzZXRUaW1lb3V0IiwibGlzdGVuZXIiLCJ0eXBlIiwiRXZlbnRzIiwiTUFSS0VSX01PVkUiLCJjb3JyZWN0TG9jYXRpb24iLCJnZXRUb3BCbG9ja3MiLCJpbnB1dExpc3QiLCJjb25uZWN0aW9uIiwibG9jYXRpb24iLCJyZW1vdmVDaGFuZ2VMaXN0ZW5lciIsIndyYXBwZXIiLCJhZGRDaGFuZ2VMaXN0ZW5lciIsImN1cnJlbnRMb2NhdGlvbiIsImdldEN1cnJlbnRMb2NhdGlvbiIsImlzQ3Vyc29yIiwiZmluaXNoU3RlcCIsIkYiLCJnZXRBbGxCbG9ja3MiLCJwcmV2aW91c0Nvbm5lY3Rpb24iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDYTs7Ozs7Ozs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFDTyxJQUFNQSxRQUFiO0FBQ0U7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNFLG9CQUFZQyxTQUFaLEVBQXVCQyxjQUF2QixFQUF1QztBQUFBOztBQUFBOztBQUNyQztBQUNKO0FBQ0E7QUFDQTtBQUNJLFNBQUtDLE9BQUwsR0FBZSxlQUFmO0FBRUE7QUFDSjtBQUNBO0FBQ0E7O0FBQ0ksU0FBS0MsVUFBTCxHQUFrQixLQUFLRCxPQUFMLEdBQWUsTUFBakM7QUFFQTtBQUNKO0FBQ0E7QUFDQTs7QUFDSSxTQUFLRSxZQUFMLEdBQW9CLEtBQUtGLE9BQUwsR0FBZSxTQUFuQztBQUVBO0FBQ0o7QUFDQTtBQUNBOztBQUNJLFNBQUtHLFlBQUwsR0FBb0IsS0FBS0gsT0FBTCxHQUFlLFNBQW5DO0FBRUE7QUFDSjtBQUNBO0FBQ0E7O0FBQ0ksU0FB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SmhDLENBcElzQixDQUF4QiIsImZpbGUiOiIuL3NyYy90dXRvcmlhbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE11bHRpLXN0ZXAgdHV0b3JpYWwgdXNpbmcgbW9kYWxzLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7VHV0b3JpYWxTdGVwfSBmcm9tICcuL3R1dG9yaWFsX3N0ZXAnO1xuaW1wb3J0IEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCBNaWNyb01vZGFsIGZyb20gJ21pY3JvbW9kYWwnO1xuaW1wb3J0IHtzcGVha2VyfSBmcm9tICcuL3NwZWFrZXInO1xuXG4vKipcbiAqIEEgbXVsdGktc3RlcCB0dXRvcmlhbCBmb3IgdGhlIGFjY2Vzc2libGUgbXVzaWMgZ2FtZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFR1dG9yaWFsIHtcbiAgLyoqXG4gICAqIENsYXNzIGZvciBhIHR1dG9yaWFsLlxuICAgKiBAcGFyYW0ge0Jsb2NrbHkuV29ya3NwYWNlU3ZnfSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSB0aGUgdXNlclxuICAgKiAgICAgd2lsbCBpbnRlcmFjdCB3aXRoLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZyl9IG9uR29hbFVwZGF0ZUNiIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZ29hbFxuICAgKiAgICBjaGFuZ2UuXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3Iod29ya3NwYWNlLCBvbkdvYWxVcGRhdGVDYikge1xuICAgIC8qKlxuICAgICAqIFRoZSBpZCBvZiB0aGUgbW9kYWwuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLm1vZGFsSWQgPSAndHV0b3JpYWxNb2RhbCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIHR1dG9yaWFsIHRleHQuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnN0ZXBUZXh0SWQgPSB0aGlzLm1vZGFsSWQgKyAnVGV4dCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIG5leHQgc3RlcCBidXR0b24uXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnN0ZXBCdXR0b25JZCA9IHRoaXMubW9kYWxJZCArICdTdGVwQnRuJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBpZCBvZiB0aGUgaGlkZSBtb2RhbCBidXR0b24uXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmhpZGVCdXR0b25JZCA9IHRoaXMubW9kYWxJZCArICdIaWRlQnRuJztcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHN0ZXBzIGluIHRoZSB0dXRvcmlhbC5cbiAgICAgKiBAdHlwZSB7QXJyYXk8IVR1dG9yaWFsU3RlcD59XG4gICAgICovXG4gICAgdGhpcy5zdGVwcyA9IFR1dG9yaWFsLlNURVBfT0JKRUNUUy5tYXAoXG4gICAgICAgIChvYmopID0+IG5ldyBUdXRvcmlhbFN0ZXAob2JqLnRleHQsIHRoaXMuc3RlcFRleHRJZCwgdGhpcy5uZXh0U3RlcClcbiAgICApO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBjdXJyZW50bHkgYWN0aXZlIHN0ZXAuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmN1clN0ZXBJbmRleCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBzdGVwLlxuICAgICAqIEB0eXBlIHtUdXRvcmlhbFN0ZXB9XG4gICAgICovXG4gICAgdGhpcy5jdXJTdGVwID0gdGhpcy5zdGVwc1t0aGlzLmN1clN0ZXBJbmRleF07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgQmxvY2tseSB3b3Jrc3BhY2UgdGhlIHVzZXIgd2lsbCBpbnRlcmFjdCB3aXRoLlxuICAgICAqIEB0eXBlIHtCbG9ja2x5LldvcmtzcGFjZVN2Z31cbiAgICAgKi9cbiAgICB0aGlzLndvcmtzcGFjZSA9IHdvcmtzcGFjZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBub2RlIHRoYXQgd2FzIHNlbGVjdGVkIG9uIHRoZSB3b3Jrc3BhY2Ugd2hlbiB0aGUgbW9kYWxcbiAgICAgKiBvcGVuZWQuXG4gICAgICogQHR5cGUge0Jsb2NrbHkuQVNUTm9kZX1cbiAgICAgKi9cbiAgICB0aGlzLmN1ck5vZGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgZnVuY3Rpb24gZm9yIGdvYWwgdXBkYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHRvIHNldCB0aGUgZ29hbCB0by5cbiAgICAgKi9cbiAgICB0aGlzLm9uR29hbFVwZGF0ZUNiID0gb25Hb2FsVXBkYXRlQ2I7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBET00gYW5kIHNob3cuXG4gICAqL1xuICBpbml0KCkge1xuICAgIHRoaXMuY3JlYXRlRG9tKCk7XG4gICAgdGhpcy5hZGRDYWxsYmFja3MoKTtcbiAgICBNaWNyb01vZGFsLnNob3codGhpcy5tb2RhbElkKTtcbiAgICB0aGlzLmN1clN0ZXAuc2hvdygpO1xuICAgIHRoaXMucmVnaXN0ZXJQbGF5SGVscFRleHQoKTtcbiAgICB0aGlzLmxvYWRXb3Jrc3BhY2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHRoZSB3b3Jrc3BhY2UgZm9yIHRoZSB0dXRvcmlhbC5cbiAgICovXG4gIGxvYWRXb3Jrc3BhY2UoKSB7XG4gICAgY29uc3QgdG9vbGJveEpzb24gPSB7XG4gICAgICAna2luZCc6ICdmbHlvdXRUb29sYm94JyxcbiAgICAgICdjb250ZW50cyc6IFtcbiAgICAgICAge1xuICAgICAgICAgICdraW5kJzogJ2Jsb2NrJyxcbiAgICAgICAgICAnYmxvY2t4bWwnOiBgPGJsb2NrIHR5cGU9XCJtdXNpY19ub3RlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cIkRVUkFUSU9OXCI+MC4yNTwvZmllbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cIlBJVENIXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzaGFkb3cgdHlwZT1cIm11c2ljX3BpdGNoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJQSVRDSFwiPkM0PC9maWVsZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zaGFkb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+YCxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICdraW5kJzogJ2Jsb2NrJyxcbiAgICAgICAgICAndHlwZSc6ICdtdXNpY19yZXN0JyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfTtcbiAgICB0aGlzLndvcmtzcGFjZS51cGRhdGVUb29sYm94KHRvb2xib3hKc29uKTtcbiAgICBjb25zdCBzdGFydGVyWG1sID1cbiAgICAgICAgYDx4bWw+XG4gICAgICAgICAgICA8YmxvY2sgdHlwZT1cIm11c2ljX3N0YXJ0XCIgZGVsZXRhYmxlPVwiZmFsc2VcIiB4PVwiMTgwXCJcbiAgICAgICAgICAgIHk9XCI1MFwiPjwvYmxvY2s+XG4gICAgICAgICAgPC94bWw+YDtcbiAgICB0aGlzLndvcmtzcGFjZS5jbGVhcigpO1xuICAgIEJsb2NrbHkuWG1sLmRvbVRvV29ya3NwYWNlKFxuICAgICAgICBCbG9ja2x5LlhtbC50ZXh0VG9Eb20oc3RhcnRlclhtbCksIHRoaXMud29ya3NwYWNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgc2hvcnRjdXQgdG8gcmVwbGF5IHRoZSBjdXJyZW50IHR1dG9yaWFsIHN0ZXAuXG4gICAqL1xuICByZWdpc3RlclBsYXlIZWxwVGV4dCgpIHtcbiAgICAvKiogQHR5cGUgeyFCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dH0gKi9cbiAgICBjb25zdCBwbGF5SGVscFRleHQgPSB7XG4gICAgICBuYW1lOiAncGxheUhlbHBUZXh0JyxcbiAgICAgIHByZWNvbmRpdGlvbkZuOiBmdW5jdGlvbih3b3Jrc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIHdvcmtzcGFjZS5rZXlib2FyZEFjY2Vzc2liaWxpdHlNb2RlICYmXG4gICAgICAgICAgICAhd29ya3NwYWNlLm9wdGlvbnMucmVhZE9ubHk7XG4gICAgICB9LFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgc3BlYWtlci5zcGVhayh0aGlzLmN1clN0ZXAudGV4dCwgdHJ1ZSk7XG4gICAgICB9LFxuICAgIH07XG5cbiAgICBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIocGxheUhlbHBUZXh0KTtcbiAgICBjb25zdCBzaGlmdFcgPSBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuY3JlYXRlU2VyaWFsaXplZEtleShcbiAgICAgICAgQmxvY2tseS51dGlscy5LZXlDb2Rlcy5IKTtcbiAgICBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuYWRkS2V5TWFwcGluZyhcbiAgICAgICAgc2hpZnRXLCBwbGF5SGVscFRleHQubmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogRGlzcGxheSB0aGUgbmV4dCBzdGVwLCBvciBlbmQgdGhlIHR1dG9yaWFsIGlmIHRoZXJlIGFyZSBubyBtb3JlIHN0ZXBzLlxuICAgKi9cbiAgbmV4dFN0ZXAoKSB7XG4gICAgdGhpcy5jdXJTdGVwSW5kZXgrKztcbiAgICBpZiAodGhpcy5jdXJTdGVwSW5kZXggPCB0aGlzLnN0ZXBzLmxlbmd0aCkge1xuICAgICAgdGhpcy5jdXJTdGVwID0gdGhpcy5zdGVwc1t0aGlzLmN1clN0ZXBJbmRleF07XG4gICAgICBNaWNyb01vZGFsLnNob3codGhpcy5tb2RhbElkKTtcbiAgICAgIHRoaXMuY3VyU3RlcC5zaG93KCk7XG4gICAgICB0aGlzLm9uR29hbFVwZGF0ZUNiKFR1dG9yaWFsLlNURVBfT0JKRUNUU1t0aGlzLmN1clN0ZXBJbmRleF0uZ29hbFRleHQpO1xuICAgICAgdGhpcy5zdGFzaEN1cnNvcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRvbmUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRW5kIHRoZSB0dXRvcmlhbC5cbiAgICovXG4gIGRvbmUoKSB7XG4gICAgTWljcm9Nb2RhbC5jbG9zZSh0aGlzLm1vZGFsSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgdGhlIGN1cnJlbnQgY3Vyc29yIG5vZGUgYW5kIGRpc2FibGUga2V5Ym9hcmQgbmF2LlxuICAgKiBDYWxsIHRoaXMgd2hlbiBvcGVuaW5nIHRoZSBtb2RhbC5cbiAgICovXG4gIHN0YXNoQ3Vyc29yKCkge1xuICAgIHRoaXMuY3VyTm9kZSA9IHRoaXMud29ya3NwYWNlLmdldEN1cnNvcigpLmdldEN1ck5vZGUoKTtcbiAgICBCbG9ja2x5Lm5hdmlnYXRpb24uZGlzYWJsZUtleWJvYXJkQWNjZXNzaWJpbGl0eSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZW5hYmxlIGtleWJvYXJkIG5hdiBhbmQgbW92ZSB0aGUgY3Vyc29yIHRvIHRoZSBwcmV2aW91c2x5XG4gICAqIHNlbGVjdGVkIGN1cnNvciBub2RlLiBDYWxsIHRoaXMgd2hlbiBjbG9zaW5nIHRoZSBtb2RhbC5cbiAgICovXG4gIHBvcEN1cnNvcigpIHtcbiAgICBCbG9ja2x5Lm5hdmlnYXRpb24uZW5hYmxlS2V5Ym9hcmRBY2Nlc3NpYmlsaXR5KCk7XG4gICAgaWYgKHRoaXMuY3VyTm9kZSkge1xuICAgICAgdGhpcy53b3Jrc3BhY2UuZ2V0Q3Vyc29yKCkuc2V0Q3VyTm9kZSh0aGlzLmN1ck5vZGUpO1xuICAgICAgc3BlYWtlci5jYW5jZWwoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIG5lY2Vzc2FyeSBoYW5kbGVycyBmb3IgYW55IGJ1dHRvbnMgb24gdGhlIG1vZGFsLlxuICAgKi9cbiAgYWRkQ2FsbGJhY2tzKCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc3RlcEJ1dHRvbklkKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICB0aGlzLm5leHRTdGVwKCk7XG4gICAgICAgIH0pO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaGlkZUJ1dHRvbklkKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsXG4gICAgICAgIChlKSA9PiB7XG4gICAgICAgICAgTWljcm9Nb2RhbC5jbG9zZSh0aGlzLm1vZGFsSWQpO1xuICAgICAgICAgIHRoaXMucG9wQ3Vyc29yKCk7XG4gICAgICAgICAgVHV0b3JpYWwuU1RFUF9PQkpFQ1RTW3RoaXMuY3VyU3RlcEluZGV4XS5vblN0YXJ0KHRoaXMpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGRvbSBmb3IgdGhlIG1vZGFsLlxuICAgKi9cbiAgY3JlYXRlRG9tKCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMubW9kYWxJZCkuaW5uZXJIVE1MID0gYFxuICAgICA8ZGl2IGNsYXNzPVwibW9kYWxfX292ZXJsYXlcIiB0YWJpbmRleD1cIi0xXCIgZGF0YS1taWNyb21vZGFsLWNsb3NlPlxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsX19jb250YWluZXJcIiByb2xlPVwiZGlhbG9nXCIgYXJpYS1tb2RhbD1cInRydWVcIlxuICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJtb2RhbC0xLXRpdGxlXCI+XG4gICAgICAgIDxoZWFkZXIgY2xhc3M9XCJtb2RhbF9faGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZGFsX19jbG9zZVwiIGFyaWEtbGFiZWw9XCJDbG9zZSBtb2RhbFwiXG4gICAgICAgICAgICBpZD1cInR1dG9yaWFsQ2xvc2VCdG5cIiBkYXRhLW1pY3JvbW9kYWwtY2xvc2U+PC9idXR0b24+XG4gICAgICAgIDwvaGVhZGVyPlxuICAgICAgICA8bWFpbiBjbGFzcz1cIm1vZGFsX19jb250ZW50XCIgaWQ9XCJtb2RhbC0xLWNvbnRlbnRcIj5cbiAgICAgICAgICA8aDIgY2xhc3M9XCJtb2RhbF9fdGl0bGVcIiBpZD1cIiR7dGhpcy5zdGVwVGV4dElkfVwiPjwvaDI+XG4gICAgICAgIDwvbWFpbj5cbiAgICAgICAgPGZvb3RlciBjbGFzcz1cIm1vZGFsX19mb290ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibW9kYWxfX2J0biBtb2RhbF9fYnRuLXByaW1hcnlcIiBhcmlhLWxhYmVsPVwiU3RhcnQgc3RlcFwiXG4gICAgICAgICAgICBpZD1cIiR7dGhpcy5oaWRlQnV0dG9uSWR9XCI+U3RhcnQgc3RlcDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbF9fYnRuIG1vZGFsX19idG4tcHJpbWFyeVwiIGFyaWEtbGFiZWw9XCJTa2lwIHN0ZXBcIlxuICAgICAgICAgICAgaWQ9XCIke3RoaXMuc3RlcEJ1dHRvbklkfVwiPlNraXAgc3RlcDwvYnV0dG9uPlxuICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IGxvY2F0aW9uLCBiYXNlZCBvbiB0aGUgZXZlbnQuXG4gICAqIEBwYXJhbSB7QmxvY2tseS5FdmVudH0gZXZlbnQgQW4gZXZlbnQgdG8gaW5zcGVjdCBmb3IgYSBjdXJzb3IgbG9jYXRpb24uXG4gICAqIEByZXR1cm4ge0Jsb2NrbHkuQVNUTm9kZX0gVGhlIGN1cnJlbnQgY3Vyc29yIGxvY2F0aW9uLCBvciBudWxsIGlmIHRoZSBldmVudFxuICAgKiAgICAgZGlkbid0IGhhdmUgb25lLlxuICAgKi9cbiAgZ2V0Q3VycmVudExvY2F0aW9uKGV2ZW50KSB7XG4gICAgY29uc3QgY3VyTm9kZSA9IGV2ZW50Lm5ld05vZGU7XG4gICAgaWYgKGN1ck5vZGUpIHtcbiAgICAgIHJldHVybiBjdXJOb2RlLmdldExvY2F0aW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cblR1dG9yaWFsLlNURVBfT0JKRUNUUyA9IFtcbiAge1xuICAgIHRleHQ6IGBJbiB0aGlzIHR1dG9yaWFsIHlvdSB3aWxsIHdyaXRlIGNvZGUgdGhhdCBwbGF5cyBtdXNpY2FsIG5vdGVzLiBJZiBhdFxuICAgICAgYW55IHBvaW50IHlvdSBhcmUgY29uZnVzZWQgYWJvdXQgd2hhdCB0byBkbywgcHJlc3MgSCB0byByZXBsYXkgdGhlIGdvYWxcbiAgICAgIGZvciB0aGUgY3VycmVudCBzdGVwLiBQcmVzcyBFbnRlciB0byBnbyB0byB0aGUgbmV4dCBzdGVwLmAsXG4gICAgZ29hbFRleHQ6IGBQcmVzcyBFbnRlciB0byBnbyB0byB0aGUgbmV4dCBzdGVwLmAsXG4gICAgb25TdGFydDogZnVuY3Rpb24odHV0b3JpYWwpIHtcbiAgICAgIHNldFRpbWVvdXQoKCk9PiB0dXRvcmlhbC5uZXh0U3RlcCgpLCAxMDApO1xuICAgIH0sXG4gIH0sXG4gIHtcbiAgICB0ZXh0OiBgWW91IGNhbiBtb3ZlIGFyb3VuZCB0aGUgYmxvY2tzIG9mIGNvZGUgd2l0aCB0aGUgdXAgYW5kIGRvd24gYXJyb3dzLlxuICAgIFlvdSB3aWxsIGhlYXIgZGVzY3JpcHRpb25zIGFzIHlvdSBtb3ZlIGFyb3VuZCB0aGUgYmxvY2tzLiAuXG4gICAgQWxsIGJsb2NrcyBoYXZlIGNvbm5lY3Rpb24gcG9pbnRzLCB3aGljaCBhcmUgcGxhY2VzIHdoZXJlIHlvdSBjYW4gYWRkIG1vcmVcbiAgICBjb2RlLiAuIFVzZSB0aGUgZG93biBhcnJvdyB0byBtb3ZlIHRvIGEgY29ubmVjdGlvbiBwb2ludC5cbiAgICBIaXQgZW50ZXIgdG8gYmVnaW4uIGAsXG4gICAgZ29hbFRleHQ6IGBVc2UgdGhlIGRvd24gYXJyb3cgdG8gbW92ZSB0byBhIGNvbm5lY3Rpb24gcG9pbnQuYCxcbiAgICBvblN0YXJ0OiBmdW5jdGlvbih0dXRvcmlhbCkge1xuICAgICAgY29uc3Qgd29ya3NwYWNlID0gdHV0b3JpYWwud29ya3NwYWNlO1xuICAgICAgY29uc3QgbGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gQmxvY2tseS5FdmVudHMuTUFSS0VSX01PVkUpIHtcbiAgICAgICAgICBjb25zdCBjdXJOb2RlID0gZXZlbnQubmV3Tm9kZTtcbiAgICAgICAgICBjb25zdCBjb3JyZWN0TG9jYXRpb24gPVxuICAgICAgICAgICAgICB3b3Jrc3BhY2UuZ2V0VG9wQmxvY2tzKClbMF0uaW5wdXRMaXN0WzFdLmNvbm5lY3Rpb247XG4gICAgICAgICAgaWYgKGN1ck5vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gY3VyTm9kZS5nZXRMb2NhdGlvbigpO1xuICAgICAgICAgICAgaWYgKGxvY2F0aW9uID09PSBjb3JyZWN0TG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih3cmFwcGVyKTtcbiAgICAgICAgICAgICAgICB0dXRvcmlhbC5uZXh0U3RlcCgpO1xuICAgICAgICAgICAgICB9LCA0NzAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIEFkZCBhIHNob3J0Y3V0IGluIHBsYWNlIG9mIHRoZSBkb3duIGFycm93IHNob3J0Y3V0LlxuICAgICAgY29uc3Qgd3JhcHBlciA9IHdvcmtzcGFjZS5hZGRDaGFuZ2VMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgfSxcbiAgfSxcbiAge1xuICAgIHRleHQ6XG4gICAgICBgR3JlYXQhIFlvdSBtb3ZlZCB0byBhIGNvbm5lY3Rpb24gcG9pbnQuIC5cbiAgICAgIFRvIGFkZCBtb3JlIGNvZGUsIHlvdSBmaXJzdCBtYXJrIGEgbG9jYXRpb24gYW5kIHRoZW4gc2VsZWN0IHRoZSBibG9jayB5b3VcbiAgICAgIHdhbnQgdG8gYWRkLiAuXG4gICAgICBOYXZpZ2F0ZSB0byB0aGUgY29ubmVjdGlvbiBwb2ludCwgdGhlbiBwcmVzcyBlbnRlciB0byBtYXJrIGl0LmAsXG4gICAgZ29hbFRleHQ6IGBOYXZpZ2F0ZSB0byB0aGUgY29ubmVjdGlvbiBwb2ludCwgdGhlbiBwcmVzcyBlbnRlciB0byBtYXJrIGl0LmAsXG4gICAgb25TdGFydDogZnVuY3Rpb24odHV0b3JpYWwpIHtcbiAgICAgIGNvbnN0IHdvcmtzcGFjZSA9IHR1dG9yaWFsLndvcmtzcGFjZTtcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IEJsb2NrbHkuRXZlbnRzLk1BUktFUl9NT1ZFKSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudExvY2F0aW9uID0gdHV0b3JpYWwuZ2V0Q3VycmVudExvY2F0aW9uKGV2ZW50KTtcbiAgICAgICAgICBpZiAoY3VycmVudExvY2F0aW9uICYmICFldmVudC5pc0N1cnNvcikge1xuICAgICAgICAgICAgY29uc3QgY29ycmVjdExvY2F0aW9uID1cbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuZ2V0VG9wQmxvY2tzKClbMF0uaW5wdXRMaXN0WzFdLmNvbm5lY3Rpb247XG4gICAgICAgICAgICBpZiAoY3VycmVudExvY2F0aW9uID09PSBjb3JyZWN0TG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih3cmFwcGVyKTtcbiAgICAgICAgICAgICAgICB0dXRvcmlhbC5uZXh0U3RlcCgpO1xuICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIEFkZCBhIHNob3J0Y3V0IGluIHBsYWNlIG9mIHRoZSBkb3duIGFycm93IHNob3J0Y3V0LlxuICAgICAgY29uc3Qgd3JhcHBlciA9IHdvcmtzcGFjZS5hZGRDaGFuZ2VMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgfSxcbiAgfSxcbiAge1xuICAgIHRleHQ6IGBHcmVhdCEgWW91IG1hcmtlZCBhIGNvbm5lY3Rpb24gcG9pbnQuIE5vdyB5b3UgY2FuIGFkZCBtb3JlIGNvZGVcbiAgICBibG9ja3MuIC5cbiAgICBUaGUgdG9vbGJveCBpcyBhIGxpc3Qgb2YgY29kZSBibG9ja3MgdGhhdCB5b3UgY2FuIGFkZCB0byB0aGUgd29ya3NwYWNlLlxuICAgIFlvdSBjYW4gYWx3YXlzIG9wZW4gdGhlIHRvb2xib3ggYnkgcHJlc3NpbmcgVC4gLlxuICAgIFByZXNzIFQgdG8gb3BlbiB0aGUgdG9vbGJveCwgdGhlbiB1c2UgdGhlIHVwIGFuZCBkb3duIGFycm93cyB0byBleHBsb3JlXG4gICAgaXQuIC5cbiAgICBQcmVzcyA/Pz8gd2hlbiB5b3UgYXJlIHJlYWR5IGZvciB0aGUgbmV4dCBzdGVwLmAsXG4gICAgZ29hbFRleHQ6IGBQcmVzcyBUIHRvIG9wZW4gdGhlIHRvb2xib3gsIHRoZW4gdXNlIHRoZSB1cCBhbmQgZG93biBhcnJvd3MgdG9cbiAgICAgIGV4cGxvcmUgaXQuIC4gUHJlc3MgPz8/IHdoZW4geW91IGFyZSByZWFkeSBmb3IgdGhlIG5leHQgc3RlcC5gLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKHR1dG9yaWFsKSB7XG4gICAgICAvKiogQHR5cGUgeyFCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dH0gKi9cbiAgICAgIGNvbnN0IGZpbmlzaFN0ZXAgPSB7XG4gICAgICAgIG5hbWU6ICdmaW5pc2hTdGVwJyxcbiAgICAgICAgcHJlY29uZGl0aW9uRm46IGZ1bmN0aW9uKHdvcmtzcGFjZSkge1xuICAgICAgICAgIHJldHVybiB3b3Jrc3BhY2Uua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZSAmJlxuICAgICAgICAgICAgICAhd29ya3NwYWNlLm9wdGlvbnMucmVhZE9ubHk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdHV0b3JpYWwubmV4dFN0ZXAoKTtcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIEJsb2NrbHkuU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3RlcihmaW5pc2hTdGVwKTtcbiAgICAgIGNvbnN0IHNoaWZ0VyA9IEJsb2NrbHkuU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5KFxuICAgICAgICAgIEJsb2NrbHkudXRpbHMuS2V5Q29kZXMuRik7XG4gICAgICBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuYWRkS2V5TWFwcGluZyhcbiAgICAgICAgICBzaGlmdFcsIGZpbmlzaFN0ZXAubmFtZSk7XG4gICAgfSxcbiAgfSxcbiAge1xuICAgIHRleHQ6IGBHcmVhdCEgWW91IGhhdmUgbm93IHN1Y2Nlc3NmdWxseSBtYXJrZWQgYSBjb25uZWN0aW9uIHBvaW50IGFuZFxuICAgIG5hdmlnYXRlZCB0byBhIGxpc3Qgb2YgYmxvY2tzIHRoYXQgeW91IGNhbiBpbnNlcnQuIC5cbiAgICBOb3cgaXTigJlzIHRpbWUgdG8gcHV0IGl0IGFsbCB0b2dldGhlci4gLlxuICAgIE5hdmlnYXRlIHRvIHRoZSBjb25uZWN0aW9uIGFuZCBtYXJrIGl0LCB0aGVuIHByZXNzIFQgdG8gb3BlbiB0aGVcbiAgICB0b29sYm94LiBGaW5kIHRoZSBibG9jayB0aGF0IHNheXMg4oCccGxheSB3aG9sZSBub3RlIGM04oCdIGFuZCBwcmVzc1xuICAgIGVudGVyIHRvIGFkZCBpdCBhdCB0aGUgbWFya2VkIGxvY2F0aW9uLmAsXG4gICAgZ29hbFRleHQ6IGBOYXZpZ2F0ZSB0byB0aGUgY29ubmVjdGlvbiBhbmQgbWFyayBpdCwgdGhlbiBwcmVzcyBUIHRvIG9wZW4gdGhlXG4gICAgdG9vbGJveC4gRmluZCB0aGUgYmxvY2sgdGhhdCBzYXlzIOKAnHBsYXkgd2hvbGUgbm90ZSBjNOKAnSBhbmQgcHJlc3NcbiAgICBlbnRlciB0byBhZGQgaXQgYXQgdGhlIG1hcmtlZCBsb2NhdGlvbi5gLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKHR1dG9yaWFsKSB7XG4gICAgICBjb25zdCB3b3Jrc3BhY2UgPSB0dXRvcmlhbC53b3Jrc3BhY2U7XG4gICAgICBjb25zdCBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSBCbG9ja2x5LkV2ZW50cy5NQVJLRVJfTU9WRSkge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRMb2NhdGlvbiA9IHR1dG9yaWFsLmdldEN1cnJlbnRMb2NhdGlvbihldmVudCk7XG4gICAgICAgICAgaWYgKGN1cnJlbnRMb2NhdGlvbiAmJiBldmVudC5pc0N1cnNvciAmJlxuICAgICAgICAgICAgICB3b3Jrc3BhY2UuZ2V0QWxsQmxvY2tzKCkubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgY29uc3QgY29ycmVjdExvY2F0aW9uID1cbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuZ2V0QWxsQmxvY2tzKClbMV0ucHJldmlvdXNDb25uZWN0aW9uO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRMb2NhdGlvbiA9PT0gY29ycmVjdExvY2F0aW9uKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UucmVtb3ZlQ2hhbmdlTGlzdGVuZXIod3JhcHBlcik7XG4gICAgICAgICAgICAgICAgdHV0b3JpYWwubmV4dFN0ZXAoKTtcbiAgICAgICAgICAgICAgfSwgNDAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBBZGQgYSBzaG9ydGN1dCBpbiBwbGFjZSBvZiB0aGUgZG93biBhcnJvdyBzaG9ydGN1dC5cbiAgICAgIGNvbnN0IHdyYXBwZXIgPSB3b3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIH0sXG4gIH0sXG4gIHtcbiAgICB0ZXh0OiBgR3JlYXQhIFlvdSBjYW4gbm93IHByZXNzIFNoaWZ0IGFuZCBQIGF0IHRoZSBzYW1lIHRpbWUgdG8gcnVuIHlvdXJcbiAgICBjb2RlLiBZb3Ugc2hvdWxkIGhlYXIgYSBub3RlIHBsYXkhYCxcbiAgICBnb2FsVGV4dDogYFByZXNzIFNoaWZ0IGFuZCBQIGF0IHRoZSBzYW1lIHRpbWUgdG8gcnVuIHlvdXIgY29kZS5gLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKHR1dG9yaWFsKSB7fSxcbiAgfSxcbl07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/tutorial.js\n");

/***/ })

})
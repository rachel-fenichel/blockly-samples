webpackHotUpdate("main",{

/***/ "./src/music.js":
/*!**********************!*\
  !*** ./src/music.js ***!
  \**********************/
/*! exports provided: Music */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Music\", function() { return Music; });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/* harmony import */ var _music_blocks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./music_blocks */ \"./src/music_blocks.js\");\n/* harmony import */ var _line_cursor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./line_cursor */ \"./src/line_cursor.js\");\n/* harmony import */ var _music_block_generators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./music_block_generators */ \"./src/music_block_generators.js\");\n/* harmony import */ var js_interpreter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! js-interpreter */ \"./node_modules/js-interpreter/lib/js-interpreter.js\");\n/* harmony import */ var js_interpreter__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(js_interpreter__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _note_player__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./note_player */ \"./src/note_player.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Game logic for music game.\n */\n\n\n\n\n\n\n\n/**\n * Constant denoting a rest.\n */\n\nvar REST = 'REST';\n\nvar Stave = /*#__PURE__*/function () {\n  function Stave(id, stateStack) {\n    _classCallCheck(this, Stave);\n\n    /**\n     * The id.\n     * @type {number}\n     */\n    this.id = id;\n    /**\n     * The state stack.\n     * @type {Array<Interpreter.State>}\n     */\n\n    this.stateStack = stateStack;\n    /**\n     * Whether all the notes have ben played.\n     * @type {boolean}\n     */\n\n    this.done = false;\n    /**\n     * The time to pause till.\n     * @type {number}\n     * @private\n     */\n\n    this.pauseUntil64ths_ = 0;\n    /**\n     * The transcript of notes played.\n     * @type {Array<string|number>}\n     * @private\n     */\n\n    this.transcript_ = [];\n    /**\n     * Currently playing note.\n     * @type {string}\n     * @private\n     */\n\n    this.note_ = '';\n  }\n  /**\n   * Whether this stave is currently paused.\n   * @param {number} clock64ths Number of 1/64ths notes since the start.\n   * @return {boolean} Whether this stave is paused.\n   */\n\n\n  _createClass(Stave, [{\n    key: \"isPaused\",\n    value: function isPaused(clock64ths) {\n      return this.pauseUntil64ths_ > clock64ths;\n    }\n    /**\n     * Play one note.\n     * @param {number} duration Fraction of a whole note length to play.\n     * @param {string} pitch Note to play.\n     * @param {number} clock64ths Number of 1/64ths notes since the start.\n     */\n\n  }, {\n    key: \"play\",\n    value: function play(duration, pitch, clock64ths) {\n      this.stopSound();\n      this.note_ = pitch;\n      _note_player__WEBPACK_IMPORTED_MODULE_6__[\"notePlayer\"].triggerAttack(pitch);\n      this.pauseUntil64ths_ = duration * 64 + clock64ths; // Make a record of this note.\n\n      this.transcript_.push(pitch, duration);\n    }\n    /**\n     * Wait one rest.\n     * @param {number} duration Fraction of a whole note length to rest.\n     * @param {number} clock64ths Number of 1/64ths notes since the start.\n     */\n\n  }, {\n    key: \"rest\",\n    value: function rest(duration, clock64ths) {\n      this.stopSound();\n      this.pauseUntil64ths_ = duration * 64 + clock64ths; // Make a record of this rest.\n\n      var transcriptLen = this.transcript_.length;\n\n      if (transcriptLen > 1 && this.transcript_[transcriptLen - 2] === REST) {\n        // Concatenate this rest with previous one.\n        this.transcript_[transcriptLen - 1] += duration;\n      } else {\n        this.transcript_.push(REST, duration);\n      }\n    }\n    /**\n     * Stops currently playing note.\n     */\n\n  }, {\n    key: \"stopSound\",\n    value: function stopSound() {\n      if (this.note_) {\n        _note_player__WEBPACK_IMPORTED_MODULE_6__[\"notePlayer\"].triggerRelease();\n        this.note_ = '';\n      }\n    }\n    /**\n     * Returns whether the transcript matched expected.\n     * @param {Array<string|number>} expectedTranscript The expected transcript.\n     * @return {boolean} Whether the transcript matches.\n     */\n\n  }, {\n    key: \"checkTranscript\",\n    value: function checkTranscript(expectedTranscript) {\n      return JSON.stringify(expectedTranscript) === JSON.stringify(this.transcript_);\n    }\n  }]);\n\n  return Stave;\n}();\n/**\n * Game logic for music game.\n */\n\n\nvar Music = /*#__PURE__*/function () {\n  /**\n   * Class for a music game.\n   * @constructor\n   */\n  function Music() {\n    _classCallCheck(this, Music);\n\n    /**\n     * The Blockly workspace associated with this game.\n     * @type {!Blockly.WorkspaceSvg}\n     */\n    this.workspace = this.createWorkspace_();\n    /**\n     * The currently loaded level. 0 if no level loaded.\n     */\n\n    this.level = 0;\n    /**\n     * The HTML element containing the goal text for the game.\n     * @type {HTMLElement}\n     * @private\n     */\n\n    this.goalTextElement_ = document.getElementById('goalText');\n    /**\n     * The expected answer.\n     * @type {Array<Array<string|number>>}\n     * @private\n     */\n\n    this.expectedAnswer_ = [[]];\n    /**\n     * The interpreter.\n     * @type {?Interpreter}\n     * @private\n     */\n\n    this.interpreter_ = null;\n    /**\n     * @type {Array<Stave>}\n     * @private\n     */\n\n    this.staves_ = [];\n    /**\n     * The current active stave.\n     * @type {?Stave}\n     * @private\n     */\n\n    this.activeStave_ = null;\n    /**\n     * Time of start of execution.\n     * @type {number}\n     * @private\n     */\n\n    this.startTime_ = 0;\n    /**\n     * Number of 1/64ths notes since the start.\n     * @type {number}\n     * @private\n     */\n\n    this.clock64ths_ = 0;\n    /**\n     * The speed at which to play notes. Between 0 and 1, with 0 being slow,\n     * 0.5 being normal speed, and 1 being fast.\n     * @type {number}\n     * @private\n     */\n\n    this.speed_ = 0.5;\n  }\n  /**\n   * Initializes the Blockly workspace.\n   * @return {!Blockly.WorkspaceSvg} The Blockly workspace.\n   * @private\n   */\n\n\n  _createClass(Music, [{\n    key: \"createWorkspace_\",\n    value: function createWorkspace_() {\n      // Initialize Blockly workspace.\n      var blocklyDiv = document.getElementById('blocklyDiv');\n      var workspace = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.inject(blocklyDiv, {\n        toolbox: _music_blocks__WEBPACK_IMPORTED_MODULE_2__[\"toolboxPitch\"]\n      });\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.NAVIGATE_ALL_FIELDS = true;\n      workspace.getMarkerManager().setCursor(new _line_cursor__WEBPACK_IMPORTED_MODULE_3__[\"LineCursor\"]());\n      workspace.addChangeListener(function (event) {\n        return _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].nodeToSpeech(event);\n      });\n      workspace.getFlyout().getWorkspace().addChangeListener(function (event) {\n        return _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].nodeToSpeech(event);\n      });\n      return workspace;\n    }\n    /**\n     *\n     * @return {Blockly.WorkspaceSvg} The workspace belonging to this game.\n     */\n\n  }, {\n    key: \"getWorkspace\",\n    value: function getWorkspace() {\n      return this.workspace;\n    }\n    /**\n     * Sets the goal text.\n     * @param {string} text The text to set the goal to.\n     */\n\n  }, {\n    key: \"setGoalText\",\n    value: function setGoalText(text) {\n      this.goalTextElement_.innerHTML = text;\n    }\n    /**\n     * Update the goal based on the current level.\n     * @private\n     */\n\n  }, {\n    key: \"updateGoal_\",\n    value: function updateGoal_() {\n      var goalText = '';\n\n      switch (this.level) {\n        case 1:\n          goalText = 'Play c4 d4 e4 c4';\n          this.expectedAnswer_ = [['C4', 0.25, 'D4', 0.25, 'E4', 0.25, 'C4', 0.25]];\n          break;\n      }\n\n      this.setGoalText(goalText);\n    }\n    /**\n     * Update the toolbox based on the current level.\n     * @private\n     */\n\n  }, {\n    key: \"updateToolbox_\",\n    value: function updateToolbox_() {\n      var toolboxJson = _music_blocks__WEBPACK_IMPORTED_MODULE_2__[\"toolboxPitch\"]; // Use toolboxPitch as default.\n\n      if (this.level < 6) {\n        toolboxJson = {\n          'kind': 'flyoutToolbox',\n          'contents': [{\n            'kind': 'block',\n            'type': 'pitch_test'\n          }, {\n            'kind': 'block',\n            'type': 'music_pitch'\n          }, {\n            'kind': 'block',\n            'type': 'music_note'\n          }, {\n            'kind': 'block',\n            'type': 'music_rest_whole'\n          }, {\n            'kind': 'block',\n            'type': 'music_rest'\n          }, {\n            'kind': 'block',\n            'type': 'music_instrument'\n          }]\n        };\n      }\n\n      this.workspace.updateToolbox(toolboxJson);\n    }\n    /**\n     * Update the workspace blocks based on the current level.\n     * @private\n     */\n\n  }, {\n    key: \"loadLevelBlocks_\",\n    value: function loadLevelBlocks_() {\n      this.workspace.clear();\n      var levelXml = '';\n\n      if (this.level === 2) {\n        levelXml = \"<xml>\\n            <block type=\\\"music_start\\\" deletable=\\\"false\\\" x=\\\"180\\\"\\n            y=\\\"50\\\">\\n              <statement name=\\\"STACK\\\">\\n                <block type=\\\"music_note\\\">\\n                  <field name=\\\"DURATION\\\">0.25</field>\\n                  <value name=\\\"PITCH\\\">\\n                    <shadow type=\\\"music_pitch\\\">\\n                      <field name=\\\"PITCH\\\">C4</field>\\n                    </shadow>\\n                  </value>\\n                  <next>\\n                    <block type=\\\"music_note\\\">\\n                      <field name=\\\"DURATION\\\">0.25</field>\\n                      <value name=\\\"PITCH\\\">\\n                        <shadow type=\\\"music_pitch\\\">\\n                          <field name=\\\"PITCH\\\">D4</field>\\n                        </shadow>\\n                      </value>\\n                      <next>\\n                        <block type=\\\"music_note\\\">\\n                          <field name=\\\"DURATION\\\">0.25</field>\\n                          <value name=\\\"PITCH\\\">\\n                            <shadow type=\\\"music_pitch\\\">\\n                              <field name=\\\"PITCH\\\">E4</field>\\n                            </shadow>\\n                          </value>\\n                          <next>\\n                            <block type=\\\"music_note\\\">\\n                              <field name=\\\"DURATION\\\">0.25</field>\\n                              <value name=\\\"PITCH\\\">\\n                                <shadow type=\\\"music_pitch\\\">\\n                                  <field name=\\\"PITCH\\\">C4</field>\\n                                </shadow>\\n                              </value>\\n                            </block>\\n                          </next>\\n                        </block>\\n                      </next>\\n                    </block>\\n                  </next>\\n                </block>\\n              </statement>\\n            </block>\\n          </xml>\";\n      } else if (this.level < 6) {\n        levelXml = \"<xml>\\n            <block type=\\\"music_start\\\" deletable=\\\"\".concat(this.level > 6, \"\\\" x=\\\"180\\\"\\n            y=\\\"50\\\"></block>\\n          </xml>\");\n      }\n\n      if (levelXml) {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Xml.domToWorkspace(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Xml.textToDom(levelXml), this.workspace);\n      }\n    }\n    /**\n     * Load the specified level.\n     * @param {number|string} level The level to load.\n     */\n\n  }, {\n    key: \"loadLevel\",\n    value: function loadLevel(level) {\n      this.level = Number(level);\n      this.updateGoal_();\n      this.updateToolbox_();\n      this.loadLevelBlocks_();\n    }\n    /**\n     * Generates code and logs it to the console.\n     */\n\n  }, {\n    key: \"logGeneratedCode\",\n    value: function logGeneratedCode() {\n      var codeJs = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.JavaScript.workspaceToCode(this.workspace);\n      console.log(codeJs);\n    }\n    /**\n     * Evaluates whether the answer for the currently loaded level is correct.\n     * @return {boolean} Whether the answer is correct.\n     */\n\n  }, {\n    key: \"checkAnswer_\",\n    value: function checkAnswer_() {\n      var correct = true;\n\n      for (var i = 0; i < this.expectedAnswer_.length; i++) {\n        if (!this.staves_[i].checkTranscript(this.expectedAnswer_[i])) {\n          correct = false;\n          break;\n        }\n      }\n\n      return correct;\n    }\n    /**\n     * Play one note.\n     * @param {number} duration Fraction of a whole note length to play.\n     * @param {string} pitch Note play.\n     */\n\n  }, {\n    key: \"play_\",\n    value: function play_(duration, pitch) {\n      this.activeStave_.play(duration, pitch, this.clock64ths_);\n    }\n    /**\n     * Wait one rest.\n     * @param {number} duration Fraction of a whole note length to rest.\n     */\n\n  }, {\n    key: \"rest_\",\n    value: function rest_(duration) {\n      this.activeStave_.rest(duration, this.clock64ths_);\n    }\n    /**\n     * Inject the Music API into a JavaScript interpreter.\n     * @param {!Interpreter} interpreter The JS-Interpreter.\n     * @param {!Interpreter.Object} globalObject Global object.\n     */\n\n  }, {\n    key: \"interpreterInit_\",\n    value: function interpreterInit_(interpreter, globalObject) {\n      var _this = this;\n\n      // API\n      var wrapper;\n\n      wrapper = function wrapper(duration, pitch, _id) {\n        _this.play_(duration, pitch);\n      };\n\n      interpreter.setProperty(globalObject, 'play', interpreter.createNativeFunction(wrapper));\n\n      wrapper = function wrapper(duration, _id) {\n        _this.rest_(duration);\n      };\n\n      interpreter.setProperty(globalObject, 'rest', interpreter.createNativeFunction(wrapper)); // TODO implement changing instrument.\n      // wrapper = function(instrument, id) {\n      //   Music.setInstrument(instrument, id);\n      // };\n      // interpreter.setProperty(globalObject, 'setInstrument',\n      //     interpreter.createNativeFunction(wrapper));\n    }\n    /**\n     * Execute a bite-sized chunk of the user's code.\n     * @param {Stave} stave The stave to execute.\n     */\n\n  }, {\n    key: \"executeChunk_\",\n    value: function executeChunk_(stave) {\n      this.activeStave_ = stave; // Switch the interpreter to run the provided staff.\n\n      this.interpreter_.stateStack = stave.stateStack;\n      var ticks = 10000;\n      var go;\n\n      do {\n        try {\n          go = this.interpreter_.step();\n        } catch (e) {\n          // User error, terminate in shame.\n          alert(e);\n          go = false;\n        }\n\n        if (ticks-- == 0) {\n          console.warn('Staff ' + stave.id + ' is running slowly.');\n          return;\n        }\n\n        if (stave.isPaused(this.clock64ths_)) {\n          // Previously executed command (play or rest) requested a pause.\n          return;\n        }\n      } while (go); // Thread complete.  Wrap up.\n\n\n      stave.stopSound(stave);\n      stave.done = true;\n    }\n    /**\n     * Set the speed (Number between 0 and 1).\n     * @param {number} speed The speed to set to.\n     */\n\n  }, {\n    key: \"setSpeed\",\n    value: function setSpeed(speed) {\n      if (speed <= 0 || speed > 1) {\n        console.error('Invalid speed');\n        return;\n      }\n\n      this.speed_ = speed;\n      this.startTime_ = 0;\n    }\n    /**\n     * Execute a 1/64th tick of the program.\n     * @private\n     */\n\n  }, {\n    key: \"tick_\",\n    value: function tick_() {\n      var _this2 = this;\n\n      // Delay between start of each beat (1/64ths of a whole note).\n      // Reminder: The startTime_ should be reset after the slider is adjusted.\n      var scaleDuration = 1000 * (2.5 - 2 * this.speed_) / 64;\n\n      if (!this.startTime_) {\n        // Either the first tick, or first tick after slider was adjusted.\n        this.startTime_ = Date.now() - this.clock64ths_ * scaleDuration;\n      }\n\n      var done = true;\n      this.staves_.forEach(function (stave) {\n        if (!stave.done) {\n          done = false;\n\n          if (!stave.isPaused(_this2.clock64ths_)) {\n            _this2.executeChunk_(stave);\n          }\n        }\n      });\n\n      if (done) {\n        // Program complete.\n        if (this.checkAnswer_()) {\n          console.log('CORRECT');\n        } else {\n          console.log('INCORRECT');\n        }\n      } else {\n        this.clock64ths_++;\n        var ms = this.startTime_ + this.clock64ths_ * scaleDuration - Date.now();\n        this.pid = setTimeout(function () {\n          return _this2.tick_();\n        }, ms);\n      }\n    }\n    /**\n     * Reset the music to the start position, clear the display, and kill any\n     * pending tasks.\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      // Kill any task.\n      clearTimeout(this.pid);\n      this.staves_.forEach(function (stave) {\n        stave.stopSound();\n      });\n      this.interpreter_ = null;\n      this.activeStave_ = null;\n      this.staves_.length = 0;\n      this.clock64ths_ = 0;\n      this.startTime_ = 0;\n    }\n    /**\n     * Plays music based on the blocks on the workspace.\n     */\n\n  }, {\n    key: \"execute\",\n    value: function execute() {\n      var _this3 = this;\n\n      this.reset(); // Get generated code from workspace\n\n      var code = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.JavaScript.workspaceToCode(this.workspace); // Run user code.\n\n      this.interpreter_ = new js_interpreter__WEBPACK_IMPORTED_MODULE_5___default.a(code, this.interpreterInit_.bind(this)); // TODO support multiple threads\n      // Assume only one thread.\n\n      var interpreter = new js_interpreter__WEBPACK_IMPORTED_MODULE_5___default.a(''); // Replace this thread's global scope with the cross-thread global.\n\n      interpreter.stateStack[0].scope = this.interpreter_.globalScope; // Add start call.\n\n      interpreter.appendCode('start();\\n');\n      this.staves_.push(new Stave(0, interpreter.stateStack));\n      setTimeout(function () {\n        return _this3.tick_();\n      }, 100);\n    }\n  }]);\n\n  return Music;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbXVzaWMuanM/MmE0ZiJdLCJuYW1lcyI6WyJSRVNUIiwiU3RhdmUiLCJpZCIsInN0YXRlU3RhY2siLCJkb25lIiwicGF1c2VVbnRpbDY0dGhzXyIsInRyYW5zY3JpcHRfIiwibm90ZV8iLCJjbG9jazY0dGhzIiwiZHVyYXRpb24iLCJwaXRjaCIsInN0b3BTb3VuZCIsIm5vdGVQbGF5ZXIiLCJ0cmlnZ2VyQXR0YWNrIiwicHVzaCIsInRyYW5zY3JpcHRMZW4iLCJsZW5ndGgiLCJ0cmlnZ2VyUmVsZWFzZSIsImV4cGVjdGVkVHJhbnNjcmlwdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJNdXNpYyIsIndvcmtzcGFjZSIsImNyZWF0ZVdvcmtzcGFjZV8iLCJsZXZlbCIsImdvYWxUZXh0RWxlbWVudF8iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZXhwZWN0ZWRBbnN3ZXJfIiwiaW50ZXJwcmV0ZXJfIiwic3RhdmVzXyIsImFjdGl2ZVN0YXZlXyIsInN0YXJ0VGltZV8iLCJjbG9jazY0dGhzXyIsInNwZWVkXyIsImJsb2NrbHlEaXYiLCJCbG9ja2x5IiwiaW5qZWN0IiwidG9vbGJveCIsInRvb2xib3hQaXRjaCIsIkFTVE5vZGUiLCJOQVZJR0FURV9BTExfRklFTERTIiwiZ2V0TWFya2VyTWFuYWdlciIsInNldEN1cnNvciIsIkxpbmVDdXJzb3IiLCJhZGRDaGFuZ2VMaXN0ZW5lciIsImV2ZW50Iiwic3BlYWtlciIsIm5vZGVUb1NwZWVjaCIsImdldEZseW91dCIsImdldFdvcmtzcGFjZSIsInRleHQiLCJpbm5lckhUTUwiLCJnb2FsVGV4dCIsInNldEdvYWxUZXh0IiwidG9vbGJveEpzb24iLCJ1cGRhdGVUb29sYm94IiwiY2xlYXIiLCJsZXZlbFhtbCIsIlhtbCIsImRvbVRvV29ya3NwYWNlIiwidGV4dFRvRG9tIiwiTnVtYmVyIiwidXBkYXRlR29hbF8iLCJ1cGRhdGVUb29sYm94XyIsImxvYWRMZXZlbEJsb2Nrc18iLCJjb2RlSnMiLCJKYXZhU2NyaXB0Iiwid29ya3NwYWNlVG9Db2RlIiwiY29uc29sZSIsImxvZyIsImNvcnJlY3QiLCJpIiwiY2hlY2tUcmFuc2NyaXB0IiwicGxheSIsInJlc3QiLCJpbnRlcnByZXRlciIsImdsb2JhbE9iamVjdCIsIndyYXBwZXIiLCJfaWQiLCJwbGF5XyIsInNldFByb3BlcnR5IiwiY3JlYXRlTmF0aXZlRnVuY3Rpb24iLCJyZXN0XyIsInN0YXZlIiwidGlja3MiLCJnbyIsInN0ZXAiLCJlIiwiYWxlcnQiLCJ3YXJuIiwiaXNQYXVzZWQiLCJzcGVlZCIsImVycm9yIiwic2NhbGVEdXJhdGlvbiIsIkRhdGUiLCJub3ciLCJmb3JFYWNoIiwiZXhlY3V0ZUNodW5rXyIsImNoZWNrQW5zd2VyXyIsIm1zIiwicGlkIiwic2V0VGltZW91dCIsInRpY2tfIiwiY2xlYXJUaW1lb3V0IiwicmVzZXQiLCJjb2RlIiwiSW50ZXJwcmV0ZXIiLCJpbnRlcnByZXRlckluaXRfIiwiYmluZCIsInNjb3BlIiwiZ2xvYmFsU2NvcGUiLCJhcHBlbmRDb2RlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7O0FBQ0EsSUFBTUEsSUFBSSxHQUFHLE1BQWI7O0lBRU1DLEs7QUFDSixpQkFBWUMsRUFBWixFQUFnQkMsVUFBaEIsRUFBNEI7QUFBQTs7QUFDMUI7QUFDSjtBQUNBO0FBQ0E7QUFDSSxTQUFLRCxFQUFMLEdBQVVBLEVBQVY7QUFDQTtBQUNKO0FBQ0E7QUFDQTs7QUFDSSxTQUFLQyxVQUFMLEdBQWtCQSxVQUFsQjtBQUVBO0FBQ0o7QUFDQTtBQUNBOztBQUNJLFNBQUtDLElBQUwsR0FBWSxLQUFaO0FBRUE7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFDSSxTQUFLQyxnQkFBTCxHQUF3QixDQUF4QjtBQUVBO0FBQ0o7QUFDQTtBQUNBO0FB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QXRCO0FBQ0EsV0FBS2lCLFdBQUwsR0FBbUIsQ0FBbkI7QUFDQSxXQUFLRCxVQUFMLEdBQWtCLENBQWxCO0FBQ0Q7QUFFRDtBQUNGO0FBQ0E7O0FBNVpBO0FBQUE7QUFBQSw4QkE2Wlk7QUFBQTs7QUFDUixXQUFLeUUsS0FBTCxHQURRLENBRVI7O0FBQ0EsVUFBTUMsSUFBSSxHQUFHdEUsbURBQU8sQ0FBQytCLFVBQVIsQ0FBbUJDLGVBQW5CLENBQW1DLEtBQUs5QyxTQUF4QyxDQUFiLENBSFEsQ0FLUjs7QUFDQSxXQUFLTyxZQUFMLEdBQW9CLElBQUk4RSxxREFBSixDQUFnQkQsSUFBaEIsRUFBc0IsS0FBS0UsZ0JBQUwsQ0FBc0JDLElBQXRCLENBQTJCLElBQTNCLENBQXRCLENBQXBCLENBTlEsQ0FPUjtBQUNBOztBQUNBLFVBQU1qQyxXQUFXLEdBQUcsSUFBSStCLHFEQUFKLENBQWdCLEVBQWhCLENBQXBCLENBVFEsQ0FVUjs7QUFDQS9CLGlCQUFXLENBQUN6RSxVQUFaLENBQXVCLENBQXZCLEVBQTBCMkcsS0FBMUIsR0FBa0MsS0FBS2pGLFlBQUwsQ0FBa0JrRixXQUFwRCxDQVhRLENBWVI7O0FBQ0FuQyxpQkFBVyxDQUFDb0MsVUFBWixDQUF1QixZQUF2QjtBQUNBLFdBQUtsRixPQUFMLENBQWFoQixJQUFiLENBQWtCLElBQUliLEtBQUosQ0FBVSxDQUFWLEVBQWEyRSxXQUFXLENBQUN6RSxVQUF6QixDQUFsQjtBQUVBbUcsZ0JBQVUsQ0FBQztBQUFBLGVBQU0sTUFBSSxDQUFDQyxLQUFMLEVBQU47QUFBQSxPQUFELEVBQXFCLEdBQXJCLENBQVY7QUFDRDtBQTlhSDs7QUFBQTtBQUFBIiwiZmlsZSI6Ii4vc3JjL211c2ljLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgR2FtZSBsb2dpYyBmb3IgbXVzaWMgZ2FtZS5cbiAqL1xuXG5pbXBvcnQgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuaW1wb3J0IHtzcGVha2VyfSBmcm9tICcuL3NwZWFrZXInO1xuaW1wb3J0IHt0b29sYm94UGl0Y2h9IGZyb20gJy4vbXVzaWNfYmxvY2tzJztcbmltcG9ydCB7TGluZUN1cnNvcn0gZnJvbSAnLi9saW5lX2N1cnNvcic7XG5pbXBvcnQgJy4vbXVzaWNfYmxvY2tfZ2VuZXJhdG9ycyc7XG5pbXBvcnQgSW50ZXJwcmV0ZXIgZnJvbSAnanMtaW50ZXJwcmV0ZXInO1xuaW1wb3J0IHtub3RlUGxheWVyfSBmcm9tICcuL25vdGVfcGxheWVyJztcblxuXG4vKipcbiAqIENvbnN0YW50IGRlbm90aW5nIGEgcmVzdC5cbiAqL1xuY29uc3QgUkVTVCA9ICdSRVNUJztcblxuY2xhc3MgU3RhdmUge1xuICBjb25zdHJ1Y3RvcihpZCwgc3RhdGVTdGFjaykge1xuICAgIC8qKlxuICAgICAqIFRoZSBpZC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdGUgc3RhY2suXG4gICAgICogQHR5cGUge0FycmF5PEludGVycHJldGVyLlN0YXRlPn1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlU3RhY2sgPSBzdGF0ZVN0YWNrO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBhbGwgdGhlIG5vdGVzIGhhdmUgYmVuIHBsYXllZC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmRvbmUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW1lIHRvIHBhdXNlIHRpbGwuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucGF1c2VVbnRpbDY0dGhzXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNjcmlwdCBvZiBub3RlcyBwbGF5ZWQuXG4gICAgICogQHR5cGUge0FycmF5PHN0cmluZ3xudW1iZXI+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy50cmFuc2NyaXB0XyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudGx5IHBsYXlpbmcgbm90ZS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5ub3RlXyA9ICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhpcyBzdGF2ZSBpcyBjdXJyZW50bHkgcGF1c2VkLlxuICAgKiBAcGFyYW0ge251bWJlcn0gY2xvY2s2NHRocyBOdW1iZXIgb2YgMS82NHRocyBub3RlcyBzaW5jZSB0aGUgc3RhcnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBzdGF2ZSBpcyBwYXVzZWQuXG4gICAqL1xuICBpc1BhdXNlZChjbG9jazY0dGhzKSB7XG4gICAgcmV0dXJuIHRoaXMucGF1c2VVbnRpbDY0dGhzXyA+IGNsb2NrNjR0aHM7XG4gIH1cblxuICAvKipcbiAgICogUGxheSBvbmUgbm90ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIEZyYWN0aW9uIG9mIGEgd2hvbGUgbm90ZSBsZW5ndGggdG8gcGxheS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBpdGNoIE5vdGUgdG8gcGxheS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNsb2NrNjR0aHMgTnVtYmVyIG9mIDEvNjR0aHMgbm90ZXMgc2luY2UgdGhlIHN0YXJ0LlxuICAgKi9cbiAgcGxheShkdXJhdGlvbiwgcGl0Y2gsIGNsb2NrNjR0aHMpIHtcbiAgICB0aGlzLnN0b3BTb3VuZCgpO1xuICAgIHRoaXMubm90ZV8gPSBwaXRjaDtcbiAgICBub3RlUGxheWVyLnRyaWdnZXJBdHRhY2socGl0Y2gpO1xuICAgIHRoaXMucGF1c2VVbnRpbDY0dGhzXyA9IGR1cmF0aW9uICogNjQgKyBjbG9jazY0dGhzO1xuICAgIC8vIE1ha2UgYSByZWNvcmQgb2YgdGhpcyBub3RlLlxuICAgIHRoaXMudHJhbnNjcmlwdF8ucHVzaChwaXRjaCwgZHVyYXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhaXQgb25lIHJlc3QuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBGcmFjdGlvbiBvZiBhIHdob2xlIG5vdGUgbGVuZ3RoIHRvIHJlc3QuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjbG9jazY0dGhzIE51bWJlciBvZiAxLzY0dGhzIG5vdGVzIHNpbmNlIHRoZSBzdGFydC5cbiAgICovXG4gIHJlc3QoZHVyYXRpb24sIGNsb2NrNjR0aHMpIHtcbiAgICB0aGlzLnN0b3BTb3VuZCgpO1xuICAgIHRoaXMucGF1c2VVbnRpbDY0dGhzXyA9IGR1cmF0aW9uICogNjQgKyBjbG9jazY0dGhzO1xuICAgIC8vIE1ha2UgYSByZWNvcmQgb2YgdGhpcyByZXN0LlxuICAgIGNvbnN0IHRyYW5zY3JpcHRMZW4gPSB0aGlzLnRyYW5zY3JpcHRfLmxlbmd0aDtcbiAgICBpZiAodHJhbnNjcmlwdExlbiA+IDEgJiYgdGhpcy50cmFuc2NyaXB0X1t0cmFuc2NyaXB0TGVuIC0gMl0gPT09IFJFU1QpIHtcbiAgICAgIC8vIENvbmNhdGVuYXRlIHRoaXMgcmVzdCB3aXRoIHByZXZpb3VzIG9uZS5cbiAgICAgIHRoaXMudHJhbnNjcmlwdF9bdHJhbnNjcmlwdExlbiAtIDFdICs9IGR1cmF0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRyYW5zY3JpcHRfLnB1c2goUkVTVCwgZHVyYXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyBjdXJyZW50bHkgcGxheWluZyBub3RlLlxuICAgKi9cbiAgc3RvcFNvdW5kKCkge1xuICAgIGlmICh0aGlzLm5vdGVfKSB7XG4gICAgICBub3RlUGxheWVyLnRyaWdnZXJSZWxlYXNlKCk7XG4gICAgICB0aGlzLm5vdGVfID0gJyc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgdHJhbnNjcmlwdCBtYXRjaGVkIGV4cGVjdGVkLlxuICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZ3xudW1iZXI+fSBleHBlY3RlZFRyYW5zY3JpcHQgVGhlIGV4cGVjdGVkIHRyYW5zY3JpcHQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHRyYW5zY3JpcHQgbWF0Y2hlcy5cbiAgICovXG4gIGNoZWNrVHJhbnNjcmlwdChleHBlY3RlZFRyYW5zY3JpcHQpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIGV4cGVjdGVkVHJhbnNjcmlwdCkgPT09IEpTT04uc3RyaW5naWZ5KHRoaXMudHJhbnNjcmlwdF8pO1xuICB9XG59XG5cbi8qKlxuICogR2FtZSBsb2dpYyBmb3IgbXVzaWMgZ2FtZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE11c2ljIHtcbiAgLyoqXG4gICAqIENsYXNzIGZvciBhIG11c2ljIGdhbWUuXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqXG4gICAgICogVGhlIEJsb2NrbHkgd29ya3NwYWNlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGdhbWUuXG4gICAgICogQHR5cGUgeyFCbG9ja2x5LldvcmtzcGFjZVN2Z31cbiAgICAgKi9cbiAgICB0aGlzLndvcmtzcGFjZSA9IHRoaXMuY3JlYXRlV29ya3NwYWNlXygpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnRseSBsb2FkZWQgbGV2ZWwuIDAgaWYgbm8gbGV2ZWwgbG9hZGVkLlxuICAgICAqL1xuICAgIHRoaXMubGV2ZWwgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIEhUTUwgZWxlbWVudCBjb250YWluaW5nIHRoZSBnb2FsIHRleHQgZm9yIHRoZSBnYW1lLlxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZ29hbFRleHRFbGVtZW50XyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnb2FsVGV4dCcpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGV4cGVjdGVkIGFuc3dlci5cbiAgICAgKiBAdHlwZSB7QXJyYXk8QXJyYXk8c3RyaW5nfG51bWJlcj4+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5leHBlY3RlZEFuc3dlcl8gPSBbW11dO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGludGVycHJldGVyLlxuICAgICAqIEB0eXBlIHs/SW50ZXJwcmV0ZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmludGVycHJldGVyXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8U3RhdmU+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zdGF2ZXNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBhY3RpdmUgc3RhdmUuXG4gICAgICogQHR5cGUgez9TdGF2ZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuYWN0aXZlU3RhdmVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRpbWUgb2Ygc3RhcnQgb2YgZXhlY3V0aW9uLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnN0YXJ0VGltZV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIDEvNjR0aHMgbm90ZXMgc2luY2UgdGhlIHN0YXJ0LlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmNsb2NrNjR0aHNfID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzcGVlZCBhdCB3aGljaCB0byBwbGF5IG5vdGVzLiBCZXR3ZWVuIDAgYW5kIDEsIHdpdGggMCBiZWluZyBzbG93LFxuICAgICAqIDAuNSBiZWluZyBub3JtYWwgc3BlZWQsIGFuZCAxIGJlaW5nIGZhc3QuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc3BlZWRfID0gMC41O1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBCbG9ja2x5IHdvcmtzcGFjZS5cbiAgICogQHJldHVybiB7IUJsb2NrbHkuV29ya3NwYWNlU3ZnfSBUaGUgQmxvY2tseSB3b3Jrc3BhY2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjcmVhdGVXb3Jrc3BhY2VfKCkge1xuICAgIC8vIEluaXRpYWxpemUgQmxvY2tseSB3b3Jrc3BhY2UuXG4gICAgY29uc3QgYmxvY2tseURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdibG9ja2x5RGl2Jyk7XG4gICAgY29uc3Qgd29ya3NwYWNlID0gQmxvY2tseS5pbmplY3QoYmxvY2tseURpdiwge1xuICAgICAgdG9vbGJveDogdG9vbGJveFBpdGNoLFxuICAgIH0pO1xuICAgIEJsb2NrbHkuQVNUTm9kZS5OQVZJR0FURV9BTExfRklFTERTID0gdHJ1ZTtcbiAgICB3b3Jrc3BhY2UuZ2V0TWFya2VyTWFuYWdlcigpLnNldEN1cnNvcihuZXcgTGluZUN1cnNvcigpKTtcbiAgICB3b3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIoKGV2ZW50KSA9PiBzcGVha2VyLm5vZGVUb1NwZWVjaChldmVudCkpO1xuICAgIHdvcmtzcGFjZS5nZXRGbHlvdXQoKS5nZXRXb3Jrc3BhY2UoKS5hZGRDaGFuZ2VMaXN0ZW5lcihcbiAgICAgICAgKGV2ZW50KSA9PiBzcGVha2VyLm5vZGVUb1NwZWVjaChldmVudCkpO1xuICAgIHJldHVybiB3b3Jrc3BhY2U7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHJldHVybiB7QmxvY2tseS5Xb3Jrc3BhY2VTdmd9IFRoZSB3b3Jrc3BhY2UgYmVsb25naW5nIHRvIHRoaXMgZ2FtZS5cbiAgICovXG4gIGdldFdvcmtzcGFjZSgpIHtcbiAgICByZXR1cm4gdGhpcy53b3Jrc3BhY2U7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZ29hbCB0ZXh0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBzZXQgdGhlIGdvYWwgdG8uXG4gICAqL1xuICBzZXRHb2FsVGV4dCh0ZXh0KSB7XG4gICAgdGhpcy5nb2FsVGV4dEVsZW1lbnRfLmlubmVySFRNTCA9IHRleHQ7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBnb2FsIGJhc2VkIG9uIHRoZSBjdXJyZW50IGxldmVsLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdXBkYXRlR29hbF8oKSB7XG4gICAgbGV0IGdvYWxUZXh0ID0gJyc7XG4gICAgc3dpdGNoICh0aGlzLmxldmVsKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIGdvYWxUZXh0ID0gJ1BsYXkgYzQgZDQgZTQgYzQnO1xuICAgICAgICB0aGlzLmV4cGVjdGVkQW5zd2VyXyA9XG4gICAgICAgICAgICBbWydDNCcsIDAuMjUsICdENCcsIDAuMjUsICdFNCcsIDAuMjUsICdDNCcsIDAuMjVdXTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuc2V0R29hbFRleHQoZ29hbFRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgdG9vbGJveCBiYXNlZCBvbiB0aGUgY3VycmVudCBsZXZlbC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHVwZGF0ZVRvb2xib3hfKCkge1xuICAgIGxldCB0b29sYm94SnNvbiA9IHRvb2xib3hQaXRjaDsgLy8gVXNlIHRvb2xib3hQaXRjaCBhcyBkZWZhdWx0LlxuICAgIGlmICh0aGlzLmxldmVsIDwgNikge1xuICAgICAgdG9vbGJveEpzb24gPSB7XG4gICAgICAgICdraW5kJzogJ2ZseW91dFRvb2xib3gnLFxuICAgICAgICAnY29udGVudHMnOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgJ2tpbmQnOiAnYmxvY2snLFxuICAgICAgICAgICAgJ3R5cGUnOiAncGl0Y2hfdGVzdCcsXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHtcbiAgICAgICAgICAgICdraW5kJzogJ2Jsb2NrJyxcbiAgICAgICAgICAgICd0eXBlJzogJ211c2ljX3BpdGNoJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgICdraW5kJzogJ2Jsb2NrJyxcbiAgICAgICAgICAgICd0eXBlJzogJ211c2ljX25vdGUnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgJ2tpbmQnOiAnYmxvY2snLFxuICAgICAgICAgICAgJ3R5cGUnOiAnbXVzaWNfcmVzdF93aG9sZScsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICAna2luZCc6ICdibG9jaycsXG4gICAgICAgICAgICAndHlwZSc6ICdtdXNpY19yZXN0JyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgICdraW5kJzogJ2Jsb2NrJyxcbiAgICAgICAgICAgICd0eXBlJzogJ211c2ljX2luc3RydW1lbnQnLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLndvcmtzcGFjZS51cGRhdGVUb29sYm94KHRvb2xib3hKc29uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHdvcmtzcGFjZSBibG9ja3MgYmFzZWQgb24gdGhlIGN1cnJlbnQgbGV2ZWwuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBsb2FkTGV2ZWxCbG9ja3NfKCkge1xuICAgIHRoaXMud29ya3NwYWNlLmNsZWFyKCk7XG4gICAgbGV0IGxldmVsWG1sID0gJyc7XG4gICAgaWYgKHRoaXMubGV2ZWwgPT09IDIpIHtcbiAgICAgIGxldmVsWG1sID1cbiAgICAgICAgICBgPHhtbD5cbiAgICAgICAgICAgIDxibG9jayB0eXBlPVwibXVzaWNfc3RhcnRcIiBkZWxldGFibGU9XCJmYWxzZVwiIHg9XCIxODBcIlxuICAgICAgICAgICAgeT1cIjUwXCI+XG4gICAgICAgICAgICAgIDxzdGF0ZW1lbnQgbmFtZT1cIlNUQUNLXCI+XG4gICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XCJtdXNpY19ub3RlXCI+XG4gICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cIkRVUkFUSU9OXCI+MC4yNTwvZmllbGQ+XG4gICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cIlBJVENIXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzaGFkb3cgdHlwZT1cIm11c2ljX3BpdGNoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJQSVRDSFwiPkM0PC9maWVsZD5cbiAgICAgICAgICAgICAgICAgICAgPC9zaGFkb3c+XG4gICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxuICAgICAgICAgICAgICAgICAgPG5leHQ+XG4gICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVwibXVzaWNfbm90ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiRFVSQVRJT05cIj4wLjI1PC9maWVsZD5cbiAgICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cIlBJVENIXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c2hhZG93IHR5cGU9XCJtdXNpY19waXRjaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cIlBJVENIXCI+RDQ8L2ZpZWxkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zaGFkb3c+XG4gICAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgICAgICAgICAgICAgICA8bmV4dD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxibG9jayB0eXBlPVwibXVzaWNfbm90ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cIkRVUkFUSU9OXCI+MC4yNTwvZmllbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx2YWx1ZSBuYW1lPVwiUElUQ0hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2hhZG93IHR5cGU9XCJtdXNpY19waXRjaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJQSVRDSFwiPkU0PC9maWVsZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NoYWRvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG5leHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJsb2NrIHR5cGU9XCJtdXNpY19ub3RlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cIkRVUkFUSU9OXCI+MC4yNTwvZmllbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cIlBJVENIXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzaGFkb3cgdHlwZT1cIm11c2ljX3BpdGNoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJQSVRDSFwiPkM0PC9maWVsZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zaGFkb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmV4dD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgICAgICAgICAgICAgICAgPC9uZXh0PlxuICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxuICAgICAgICAgICAgICAgICAgPC9uZXh0PlxuICAgICAgICAgICAgICAgIDwvYmxvY2s+XG4gICAgICAgICAgICAgIDwvc3RhdGVtZW50PlxuICAgICAgICAgICAgPC9ibG9jaz5cbiAgICAgICAgICA8L3htbD5gO1xuICAgIH0gZWxzZSBpZiAodGhpcy5sZXZlbCA8IDYpIHtcbiAgICAgIGxldmVsWG1sID1cbiAgICAgICAgICBgPHhtbD5cbiAgICAgICAgICAgIDxibG9jayB0eXBlPVwibXVzaWNfc3RhcnRcIiBkZWxldGFibGU9XCIke3RoaXMubGV2ZWwgPiA2fVwiIHg9XCIxODBcIlxuICAgICAgICAgICAgeT1cIjUwXCI+PC9ibG9jaz5cbiAgICAgICAgICA8L3htbD5gO1xuICAgIH1cbiAgICBpZiAobGV2ZWxYbWwpIHtcbiAgICAgIEJsb2NrbHkuWG1sLmRvbVRvV29ya3NwYWNlKFxuICAgICAgICAgIEJsb2NrbHkuWG1sLnRleHRUb0RvbShsZXZlbFhtbCksIHRoaXMud29ya3NwYWNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9hZCB0aGUgc3BlY2lmaWVkIGxldmVsLlxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IGxldmVsIFRoZSBsZXZlbCB0byBsb2FkLlxuICAgKi9cbiAgbG9hZExldmVsKGxldmVsKSB7XG4gICAgdGhpcy5sZXZlbCA9IE51bWJlcihsZXZlbCk7XG4gICAgdGhpcy51cGRhdGVHb2FsXygpO1xuICAgIHRoaXMudXBkYXRlVG9vbGJveF8oKTtcbiAgICB0aGlzLmxvYWRMZXZlbEJsb2Nrc18oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgY29kZSBhbmQgbG9ncyBpdCB0byB0aGUgY29uc29sZS5cbiAgICovXG4gIGxvZ0dlbmVyYXRlZENvZGUoKSB7XG4gICAgY29uc3QgY29kZUpzID0gQmxvY2tseS5KYXZhU2NyaXB0LndvcmtzcGFjZVRvQ29kZSh0aGlzLndvcmtzcGFjZSk7XG4gICAgY29uc29sZS5sb2coY29kZUpzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmFsdWF0ZXMgd2hldGhlciB0aGUgYW5zd2VyIGZvciB0aGUgY3VycmVudGx5IGxvYWRlZCBsZXZlbCBpcyBjb3JyZWN0LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBhbnN3ZXIgaXMgY29ycmVjdC5cbiAgICovXG4gIGNoZWNrQW5zd2VyXygpIHtcbiAgICBsZXQgY29ycmVjdCA9IHRydWU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV4cGVjdGVkQW5zd2VyXy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLnN0YXZlc19baV0uY2hlY2tUcmFuc2NyaXB0KHRoaXMuZXhwZWN0ZWRBbnN3ZXJfW2ldKSkge1xuICAgICAgICBjb3JyZWN0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29ycmVjdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQbGF5IG9uZSBub3RlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gRnJhY3Rpb24gb2YgYSB3aG9sZSBub3RlIGxlbmd0aCB0byBwbGF5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGl0Y2ggTm90ZSBwbGF5LlxuICAgKi9cbiAgcGxheV8oZHVyYXRpb24sIHBpdGNoKSB7XG4gICAgdGhpcy5hY3RpdmVTdGF2ZV8ucGxheShkdXJhdGlvbiwgcGl0Y2gsIHRoaXMuY2xvY2s2NHRoc18pO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhaXQgb25lIHJlc3QuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBGcmFjdGlvbiBvZiBhIHdob2xlIG5vdGUgbGVuZ3RoIHRvIHJlc3QuXG4gICAqL1xuICByZXN0XyhkdXJhdGlvbikge1xuICAgIHRoaXMuYWN0aXZlU3RhdmVfLnJlc3QoZHVyYXRpb24sIHRoaXMuY2xvY2s2NHRoc18pO1xuICB9XG5cbiAgLyoqXG4gICAqIEluamVjdCB0aGUgTXVzaWMgQVBJIGludG8gYSBKYXZhU2NyaXB0IGludGVycHJldGVyLlxuICAgKiBAcGFyYW0geyFJbnRlcnByZXRlcn0gaW50ZXJwcmV0ZXIgVGhlIEpTLUludGVycHJldGVyLlxuICAgKiBAcGFyYW0geyFJbnRlcnByZXRlci5PYmplY3R9IGdsb2JhbE9iamVjdCBHbG9iYWwgb2JqZWN0LlxuICAgKi9cbiAgaW50ZXJwcmV0ZXJJbml0XyhpbnRlcnByZXRlciwgZ2xvYmFsT2JqZWN0KSB7XG4gICAgLy8gQVBJXG4gICAgbGV0IHdyYXBwZXI7XG4gICAgd3JhcHBlciA9IChkdXJhdGlvbiwgcGl0Y2gsIF9pZCkgPT4ge1xuICAgICAgdGhpcy5wbGF5XyhkdXJhdGlvbiwgcGl0Y2gpO1xuICAgIH07XG4gICAgaW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAncGxheScsXG4gICAgICAgIGludGVycHJldGVyLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIpKTtcbiAgICB3cmFwcGVyID0gKGR1cmF0aW9uLCBfaWQpID0+IHtcbiAgICAgIHRoaXMucmVzdF8oZHVyYXRpb24pO1xuICAgIH07XG4gICAgaW50ZXJwcmV0ZXIuc2V0UHJvcGVydHkoZ2xvYmFsT2JqZWN0LCAncmVzdCcsXG4gICAgICAgIGludGVycHJldGVyLmNyZWF0ZU5hdGl2ZUZ1bmN0aW9uKHdyYXBwZXIpKTtcblxuICAgIC8vIFRPRE8gaW1wbGVtZW50IGNoYW5naW5nIGluc3RydW1lbnQuXG4gICAgLy8gd3JhcHBlciA9IGZ1bmN0aW9uKGluc3RydW1lbnQsIGlkKSB7XG4gICAgLy8gICBNdXNpYy5zZXRJbnN0cnVtZW50KGluc3RydW1lbnQsIGlkKTtcbiAgICAvLyB9O1xuICAgIC8vIGludGVycHJldGVyLnNldFByb3BlcnR5KGdsb2JhbE9iamVjdCwgJ3NldEluc3RydW1lbnQnLFxuICAgIC8vICAgICBpbnRlcnByZXRlci5jcmVhdGVOYXRpdmVGdW5jdGlvbih3cmFwcGVyKSk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBhIGJpdGUtc2l6ZWQgY2h1bmsgb2YgdGhlIHVzZXIncyBjb2RlLlxuICAgKiBAcGFyYW0ge1N0YXZlfSBzdGF2ZSBUaGUgc3RhdmUgdG8gZXhlY3V0ZS5cbiAgICovXG4gIGV4ZWN1dGVDaHVua18oc3RhdmUpIHtcbiAgICB0aGlzLmFjdGl2ZVN0YXZlXyA9IHN0YXZlO1xuICAgIC8vIFN3aXRjaCB0aGUgaW50ZXJwcmV0ZXIgdG8gcnVuIHRoZSBwcm92aWRlZCBzdGFmZi5cbiAgICB0aGlzLmludGVycHJldGVyXy5zdGF0ZVN0YWNrID0gc3RhdmUuc3RhdGVTdGFjaztcbiAgICBsZXQgdGlja3MgPSAxMDAwMDtcbiAgICBsZXQgZ287XG4gICAgZG8ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZ28gPSB0aGlzLmludGVycHJldGVyXy5zdGVwKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIFVzZXIgZXJyb3IsIHRlcm1pbmF0ZSBpbiBzaGFtZS5cbiAgICAgICAgYWxlcnQoZSk7XG4gICAgICAgIGdvID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAodGlja3MtLSA9PSAwKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignU3RhZmYgJyArIHN0YXZlLmlkICsgJyBpcyBydW5uaW5nIHNsb3dseS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXZlLmlzUGF1c2VkKHRoaXMuY2xvY2s2NHRoc18pKSB7XG4gICAgICAgIC8vIFByZXZpb3VzbHkgZXhlY3V0ZWQgY29tbWFuZCAocGxheSBvciByZXN0KSByZXF1ZXN0ZWQgYSBwYXVzZS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKGdvKTtcbiAgICAvLyBUaHJlYWQgY29tcGxldGUuICBXcmFwIHVwLlxuICAgIHN0YXZlLnN0b3BTb3VuZChzdGF2ZSk7XG4gICAgc3RhdmUuZG9uZSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzcGVlZCAoTnVtYmVyIGJldHdlZW4gMCBhbmQgMSkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZCBUaGUgc3BlZWQgdG8gc2V0IHRvLlxuICAgKi9cbiAgc2V0U3BlZWQoc3BlZWQpIHtcbiAgICBpZiAoc3BlZWQgPD0gMCB8fCBzcGVlZCA+IDEpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgc3BlZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zcGVlZF8gPSBzcGVlZDtcbiAgICB0aGlzLnN0YXJ0VGltZV8gPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSAxLzY0dGggdGljayBvZiB0aGUgcHJvZ3JhbS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRpY2tfKCkge1xuICAgIC8vIERlbGF5IGJldHdlZW4gc3RhcnQgb2YgZWFjaCBiZWF0ICgxLzY0dGhzIG9mIGEgd2hvbGUgbm90ZSkuXG4gICAgLy8gUmVtaW5kZXI6IFRoZSBzdGFydFRpbWVfIHNob3VsZCBiZSByZXNldCBhZnRlciB0aGUgc2xpZGVyIGlzIGFkanVzdGVkLlxuICAgIGNvbnN0IHNjYWxlRHVyYXRpb24gPSAxMDAwICogKDIuNSAtIDIgKiB0aGlzLnNwZWVkXykgLyA2NDtcbiAgICBpZiAoIXRoaXMuc3RhcnRUaW1lXykge1xuICAgICAgLy8gRWl0aGVyIHRoZSBmaXJzdCB0aWNrLCBvciBmaXJzdCB0aWNrIGFmdGVyIHNsaWRlciB3YXMgYWRqdXN0ZWQuXG4gICAgICB0aGlzLnN0YXJ0VGltZV8gPSBEYXRlLm5vdygpIC0gdGhpcy5jbG9jazY0dGhzXyAqIHNjYWxlRHVyYXRpb247XG4gICAgfVxuICAgIGxldCBkb25lID0gdHJ1ZTtcbiAgICB0aGlzLnN0YXZlc18uZm9yRWFjaCgoc3RhdmUpID0+IHtcbiAgICAgIGlmICghc3RhdmUuZG9uZSkge1xuICAgICAgICBkb25lID0gZmFsc2U7XG4gICAgICAgIGlmICghc3RhdmUuaXNQYXVzZWQodGhpcy5jbG9jazY0dGhzXykpIHtcbiAgICAgICAgICB0aGlzLmV4ZWN1dGVDaHVua18oc3RhdmUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoZG9uZSkge1xuICAgICAgLy8gUHJvZ3JhbSBjb21wbGV0ZS5cbiAgICAgIGlmICh0aGlzLmNoZWNrQW5zd2VyXygpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDT1JSRUNUJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnSU5DT1JSRUNUJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xvY2s2NHRoc18rKztcbiAgICAgIGNvbnN0IG1zID1cbiAgICAgICAgICAodGhpcy5zdGFydFRpbWVfICsgdGhpcy5jbG9jazY0dGhzXyAqIHNjYWxlRHVyYXRpb24pIC0gRGF0ZS5ub3coKTtcbiAgICAgIHRoaXMucGlkID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLnRpY2tfKCksIG1zKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgdGhlIG11c2ljIHRvIHRoZSBzdGFydCBwb3NpdGlvbiwgY2xlYXIgdGhlIGRpc3BsYXksIGFuZCBraWxsIGFueVxuICAgKiBwZW5kaW5nIHRhc2tzLlxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgLy8gS2lsbCBhbnkgdGFzay5cbiAgICBjbGVhclRpbWVvdXQodGhpcy5waWQpO1xuICAgIHRoaXMuc3RhdmVzXy5mb3JFYWNoKChzdGF2ZSkgPT4ge1xuICAgICAgc3RhdmUuc3RvcFNvdW5kKCk7XG4gICAgfSk7XG4gICAgdGhpcy5pbnRlcnByZXRlcl8gPSBudWxsO1xuICAgIHRoaXMuYWN0aXZlU3RhdmVfID0gbnVsbDtcbiAgICB0aGlzLnN0YXZlc18ubGVuZ3RoID0gMDtcbiAgICB0aGlzLmNsb2NrNjR0aHNfID0gMDtcbiAgICB0aGlzLnN0YXJ0VGltZV8gPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFBsYXlzIG11c2ljIGJhc2VkIG9uIHRoZSBibG9ja3Mgb24gdGhlIHdvcmtzcGFjZS5cbiAgICovXG4gIGV4ZWN1dGUoKSB7XG4gICAgdGhpcy5yZXNldCgpO1xuICAgIC8vIEdldCBnZW5lcmF0ZWQgY29kZSBmcm9tIHdvcmtzcGFjZVxuICAgIGNvbnN0IGNvZGUgPSBCbG9ja2x5LkphdmFTY3JpcHQud29ya3NwYWNlVG9Db2RlKHRoaXMud29ya3NwYWNlKTtcblxuICAgIC8vIFJ1biB1c2VyIGNvZGUuXG4gICAgdGhpcy5pbnRlcnByZXRlcl8gPSBuZXcgSW50ZXJwcmV0ZXIoY29kZSwgdGhpcy5pbnRlcnByZXRlckluaXRfLmJpbmQodGhpcykpO1xuICAgIC8vIFRPRE8gc3VwcG9ydCBtdWx0aXBsZSB0aHJlYWRzXG4gICAgLy8gQXNzdW1lIG9ubHkgb25lIHRocmVhZC5cbiAgICBjb25zdCBpbnRlcnByZXRlciA9IG5ldyBJbnRlcnByZXRlcignJyk7XG4gICAgLy8gUmVwbGFjZSB0aGlzIHRocmVhZCdzIGdsb2JhbCBzY29wZSB3aXRoIHRoZSBjcm9zcy10aHJlYWQgZ2xvYmFsLlxuICAgIGludGVycHJldGVyLnN0YXRlU3RhY2tbMF0uc2NvcGUgPSB0aGlzLmludGVycHJldGVyXy5nbG9iYWxTY29wZTtcbiAgICAvLyBBZGQgc3RhcnQgY2FsbC5cbiAgICBpbnRlcnByZXRlci5hcHBlbmRDb2RlKCdzdGFydCgpO1xcbicpO1xuICAgIHRoaXMuc3RhdmVzXy5wdXNoKG5ldyBTdGF2ZSgwLCBpbnRlcnByZXRlci5zdGF0ZVN0YWNrKSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMudGlja18oKSwgMTAwKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/music.js\n");

/***/ })

})
webpackHotUpdate("main",{

/***/ "./src/custom_cursor.js":
/*!******************************!*\
  !*** ./src/custom_cursor.js ***!
  \******************************/
/*! exports provided: CustomCursor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomCursor\", function() { return CustomCursor; });\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly */ \"./node_modules/blockly/dist/index.js\");\n/* harmony import */ var blockly__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/* harmony import */ var _note_player__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./note_player */ \"./src/note_player.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview The class representing a line cursor.\n * A line cursor traverses the blocks as if they were\n * lines of code in a text editor.\n * Previous and next go up and down lines. In and out go\n * through the elements in a line.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n/**\n * Class for a line cursor.\n * This will allow the user to get to all nodes in the AST by hitting next or\n * previous.\n * @constructor\n * @extends {Blockly.BasicCursor}\n */\n\nvar CustomCursor = /*#__PURE__*/function (_Blockly$BasicCursor) {\n  _inherits(CustomCursor, _Blockly$BasicCursor);\n\n  var _super = _createSuper(CustomCursor);\n\n  /**\n   * Constructor for a line cursor.\n   */\n  function CustomCursor() {\n    var _this;\n\n    _classCallCheck(this, CustomCursor);\n\n    _this = _super.call(this);\n    blockly__WEBPACK_IMPORTED_MODULE_0__[\"ASTNode\"].NAVIGATE_ALL_FIELDS = true;\n    return _this;\n  }\n  /**\n   * Find the next node in the pre order traversal.\n   * @return {Blockly.ASTNode} The next node, or null if the current node is\n   *     not set or there is no next value.\n   * @override\n   */\n\n\n  _createClass(CustomCursor, [{\n    key: \"next\",\n    value: function next() {\n      var curNode = this.getCurNode();\n\n      if (!curNode) {\n        return null;\n      }\n\n      var newNode = this.getNextNode_(curNode, this.validLineNode_);\n\n      if (newNode) {\n        this.setCurNode(newNode);\n      } else {\n        _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak(_speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].nodeToText_(this.getCurNode(), this.getCurNode(), false), true);\n        _note_player__WEBPACK_IMPORTED_MODULE_2__[\"notePlayer\"].playNote('c4', '16n');\n      }\n\n      return newNode;\n    }\n    /**\n     * Find the previous node in the pre order traversal.\n     * @return {Blockly.ASTNode} The previous node, or null if the current node\n     *     is not set or there is no previous value.\n     * @override\n     */\n\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      var curNode = this.getCurNode();\n\n      if (!curNode) {\n        return null;\n      }\n\n      var newNode = this.getPreviousNode_(curNode, this.validLineNode_);\n\n      if (newNode) {\n        this.setCurNode(newNode);\n      } else {\n        _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak(_speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].nodeToText_(this.getCurNode(), this.getCurNode(), false), true);\n        _note_player__WEBPACK_IMPORTED_MODULE_2__[\"notePlayer\"].playNote('c4', '16n');\n      }\n\n      return newNode;\n    }\n    /**\n     * For a basic cursor we only have the ability to go next and previous, so\n     * in will also allow the user to get to the next node in the pre order\n     * traversal.\n     * @override\n     */\n\n  }, {\n    key: \"in\",\n    value: function _in() {}\n    /**\n     * For a basic cursor we only have the ability to go next and previous, so\n     * out will allow the user to get to the previous node in the pre order\n     * traversal.\n     * @override\n     */\n\n  }, {\n    key: \"out\",\n    value: function out() {}\n    /**\n     * Meant to traverse by lines of code. This is blocks, statement inputs and\n     * next connections.\n     * @param {Blockly.ASTNode} node The AST node to check whether it is valid.\n     * @return {boolean} True if the node should be visited, false otherwise.\n     * @private\n     */\n\n  }, {\n    key: \"validLineNode_\",\n    value: function validLineNode_(node) {\n      if (!node) {\n        return false;\n      }\n\n      var isValid = false;\n      var location = node.getLocation();\n      var type = node && node.getType();\n\n      if (type === blockly__WEBPACK_IMPORTED_MODULE_0__[\"ASTNode\"].types.BLOCK) {\n        if (!location.outputConnection && !location.previousConnection) {\n          isValid = true;\n        }\n      } else if (type === blockly__WEBPACK_IMPORTED_MODULE_0__[\"ASTNode\"].types.INPUT) {\n        var _location = node.getLocation();\n\n        if (_location.targetConnection) {\n          isValid = false;\n        } else {\n          isValid = true;\n        }\n      } else if (type === blockly__WEBPACK_IMPORTED_MODULE_0__[\"ASTNode\"].types.NEXT) {\n        isValid = true;\n      } else if (type === blockly__WEBPACK_IMPORTED_MODULE_0__[\"ASTNode\"].types.OUTPUT) {\n        isValid = true;\n      } else if (type === blockly__WEBPACK_IMPORTED_MODULE_0__[\"ASTNode\"].types.PREVIOUS) {\n        isValid = true;\n      } else if (type === blockly__WEBPACK_IMPORTED_MODULE_0__[\"ASTNode\"].types.STACK) {\n        isValid = true;\n      } else if (type === blockly__WEBPACK_IMPORTED_MODULE_0__[\"ASTNode\"].types.FIELD) {\n        isValid = true;\n      }\n\n      return isValid;\n    }\n    /**\n     * Meant to traverse within a block. These are fields and input values.\n     * @param {Blockly.ASTNode} node The AST node to check whether it is valid.\n     * @return {boolean} True if the node should be visited, false otherwise.\n     * @private\n     */\n\n  }, {\n    key: \"validInLineNode_\",\n    value: function validInLineNode_(node) {\n      return false;\n    }\n  }]);\n\n  return CustomCursor;\n}(blockly__WEBPACK_IMPORTED_MODULE_0__[\"BasicCursor\"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY3VzdG9tX2N1cnNvci5qcz9kNTcwIl0sIm5hbWVzIjpbIkN1c3RvbUN1cnNvciIsIkJsb2NrbHkiLCJOQVZJR0FURV9BTExfRklFTERTIiwiY3VyTm9kZSIsImdldEN1ck5vZGUiLCJuZXdOb2RlIiwiZ2V0TmV4dE5vZGVfIiwidmFsaWRMaW5lTm9kZV8iLCJzZXRDdXJOb2RlIiwic3BlYWtlciIsInNwZWFrIiwibm9kZVRvVGV4dF8iLCJub3RlUGxheWVyIiwicGxheU5vdGUiLCJnZXRQcmV2aW91c05vZGVfIiwibm9kZSIsImlzVmFsaWQiLCJsb2NhdGlvbiIsImdldExvY2F0aW9uIiwidHlwZSIsImdldFR5cGUiLCJ0eXBlcyIsIkJMT0NLIiwib3V0cHV0Q29ubmVjdGlvbiIsInByZXZpb3VzQ29ubmVjdGlvbiIsIklOUFVUIiwidGFyZ2V0Q29ubmVjdGlvbiIsIk5FWFQiLCJPVVRQVVQiLCJQUkVWSU9VUyIsIlNUQUNLIiwiRklFTEQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNhOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFYjtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxJQUFNQSxZQUFiO0FBQUE7O0FBQUE7O0FBQ0U7QUFDRjtBQUNBO0FBQ0UsMEJBQWM7QUFBQTs7QUFBQTs7QUFDWjtBQUNBQyxtREFBQSxDQUFnQkMsbUJBQWhCLEdBQXNDLElBQXRDO0FBRlk7QUFHYjtBQUNEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBYkE7QUFBQTtBQUFBLDJCQWNTO0FBQ0wsVUFBTUMsT0FBTyxHQUFHLEtBQUtDLFVBQUwsRUFBaEI7O0FBQ0EsVUFBSSxDQUFDRCxPQUFMLEVBQWM7QUFDWixlQUFPLElBQVA7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QUFuQyxFQUE2QztBQUNsRGIsZUFBTyxHQUFHLElBQVY7QUFDRCxPQUZNLE1BRUEsSUFBSUcsSUFBSSxLQUFLbEIsK0NBQUEsQ0FBZ0JvQixLQUFoQixDQUFzQlMsS0FBbkMsRUFBMEM7QUFDL0NkLGVBQU8sR0FBRyxJQUFWO0FBQ0QsT0FGTSxNQUVBLElBQUlHLElBQUksS0FBS2xCLCtDQUFBLENBQWdCb0IsS0FBaEIsQ0FBc0JVLEtBQW5DLEVBQTBDO0FBQy9DZixlQUFPLEdBQUcsSUFBVjtBQUNEOztBQUNELGFBQU9BLE9BQVA7QUFDRDtBQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFqSEE7QUFBQTtBQUFBLHFDQWtIbUJELElBbEhuQixFQWtIeUI7QUFDckIsYUFBTyxLQUFQO0FBQ0Q7QUFwSEg7O0FBQUE7QUFBQSxFQUFrQ2QsbURBQWxDIiwiZmlsZSI6Ii4vc3JjL2N1c3RvbV9jdXJzb3IuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBUaGUgY2xhc3MgcmVwcmVzZW50aW5nIGEgbGluZSBjdXJzb3IuXG4gKiBBIGxpbmUgY3Vyc29yIHRyYXZlcnNlcyB0aGUgYmxvY2tzIGFzIGlmIHRoZXkgd2VyZVxuICogbGluZXMgb2YgY29kZSBpbiBhIHRleHQgZWRpdG9yLlxuICogUHJldmlvdXMgYW5kIG5leHQgZ28gdXAgYW5kIGRvd24gbGluZXMuIEluIGFuZCBvdXQgZ29cbiAqIHRocm91Z2ggdGhlIGVsZW1lbnRzIGluIGEgbGluZS5cbiAqIEBhdXRob3IgYXNjaG1pZWR0QGdvb2dsZS5jb20gKEFiYnkgU2NobWllZHQpXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0ICogYXMgQmxvY2tseSBmcm9tICdibG9ja2x5JztcbmltcG9ydCB7c3BlYWtlcn0gZnJvbSAnLi9zcGVha2VyJztcbmltcG9ydCB7bm90ZVBsYXllcn0gZnJvbSAnLi9ub3RlX3BsYXllcic7XG5cbi8qKlxuICogQ2xhc3MgZm9yIGEgbGluZSBjdXJzb3IuXG4gKiBUaGlzIHdpbGwgYWxsb3cgdGhlIHVzZXIgdG8gZ2V0IHRvIGFsbCBub2RlcyBpbiB0aGUgQVNUIGJ5IGhpdHRpbmcgbmV4dCBvclxuICogcHJldmlvdXMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtCbG9ja2x5LkJhc2ljQ3Vyc29yfVxuICovXG5leHBvcnQgY2xhc3MgQ3VzdG9tQ3Vyc29yIGV4dGVuZHMgQmxvY2tseS5CYXNpY0N1cnNvciB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgYSBsaW5lIGN1cnNvci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgQmxvY2tseS5BU1ROb2RlLk5BVklHQVRFX0FMTF9GSUVMRFMgPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kIHRoZSBuZXh0IG5vZGUgaW4gdGhlIHByZSBvcmRlciB0cmF2ZXJzYWwuXG4gICAqIEByZXR1cm4ge0Jsb2NrbHkuQVNUTm9kZX0gVGhlIG5leHQgbm9kZSwgb3IgbnVsbCBpZiB0aGUgY3VycmVudCBub2RlIGlzXG4gICAqICAgICBub3Qgc2V0IG9yIHRoZXJlIGlzIG5vIG5leHQgdmFsdWUuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbmV4dCgpIHtcbiAgICBjb25zdCBjdXJOb2RlID0gdGhpcy5nZXRDdXJOb2RlKCk7XG4gICAgaWYgKCFjdXJOb2RlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbmV3Tm9kZSA9IHRoaXMuZ2V0TmV4dE5vZGVfKGN1ck5vZGUsIHRoaXMudmFsaWRMaW5lTm9kZV8pO1xuXG4gICAgaWYgKG5ld05vZGUpIHtcbiAgICAgIHRoaXMuc2V0Q3VyTm9kZShuZXdOb2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3BlYWtlci5zcGVhayhzcGVha2VyLm5vZGVUb1RleHRfKHRoaXMuZ2V0Q3VyTm9kZSgpLCB0aGlzLmdldEN1ck5vZGUoKSwgZmFsc2UpLCB0cnVlKTtcbiAgICAgIG5vdGVQbGF5ZXIucGxheU5vdGUoJ2M0JywgJzE2bicpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Tm9kZTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEZpbmQgdGhlIHByZXZpb3VzIG5vZGUgaW4gdGhlIHByZSBvcmRlciB0cmF2ZXJzYWwuXG4gICAqIEByZXR1cm4ge0Jsb2NrbHkuQVNUTm9kZX0gVGhlIHByZXZpb3VzIG5vZGUsIG9yIG51bGwgaWYgdGhlIGN1cnJlbnQgbm9kZVxuICAgKiAgICAgaXMgbm90IHNldCBvciB0aGVyZSBpcyBubyBwcmV2aW91cyB2YWx1ZS5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcmV2KCkge1xuICAgIGNvbnN0IGN1ck5vZGUgPSB0aGlzLmdldEN1ck5vZGUoKTtcbiAgICBpZiAoIWN1ck5vZGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBuZXdOb2RlID0gdGhpcy5nZXRQcmV2aW91c05vZGVfKGN1ck5vZGUsIHRoaXMudmFsaWRMaW5lTm9kZV8pO1xuXG4gICAgaWYgKG5ld05vZGUpIHtcbiAgICAgIHRoaXMuc2V0Q3VyTm9kZShuZXdOb2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3BlYWtlci5zcGVhayhzcGVha2VyLm5vZGVUb1RleHRfKHRoaXMuZ2V0Q3VyTm9kZSgpLCB0aGlzLmdldEN1ck5vZGUoKSwgZmFsc2UpLCB0cnVlKTtcbiAgICAgIG5vdGVQbGF5ZXIucGxheU5vdGUoJ2M0JywgJzE2bicpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Tm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3IgYSBiYXNpYyBjdXJzb3Igd2Ugb25seSBoYXZlIHRoZSBhYmlsaXR5IHRvIGdvIG5leHQgYW5kIHByZXZpb3VzLCBzb1xuICAgKiBpbiB3aWxsIGFsc28gYWxsb3cgdGhlIHVzZXIgdG8gZ2V0IHRvIHRoZSBuZXh0IG5vZGUgaW4gdGhlIHByZSBvcmRlclxuICAgKiB0cmF2ZXJzYWwuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW4oKSB7fVxuXG4gIC8qKlxuICAgKiBGb3IgYSBiYXNpYyBjdXJzb3Igd2Ugb25seSBoYXZlIHRoZSBhYmlsaXR5IHRvIGdvIG5leHQgYW5kIHByZXZpb3VzLCBzb1xuICAgKiBvdXQgd2lsbCBhbGxvdyB0aGUgdXNlciB0byBnZXQgdG8gdGhlIHByZXZpb3VzIG5vZGUgaW4gdGhlIHByZSBvcmRlclxuICAgKiB0cmF2ZXJzYWwuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgb3V0KCkge31cblxuICAvKipcbiAgICogTWVhbnQgdG8gdHJhdmVyc2UgYnkgbGluZXMgb2YgY29kZS4gVGhpcyBpcyBibG9ja3MsIHN0YXRlbWVudCBpbnB1dHMgYW5kXG4gICAqIG5leHQgY29ubmVjdGlvbnMuXG4gICAqIEBwYXJhbSB7QmxvY2tseS5BU1ROb2RlfSBub2RlIFRoZSBBU1Qgbm9kZSB0byBjaGVjayB3aGV0aGVyIGl0IGlzIHZhbGlkLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBub2RlIHNob3VsZCBiZSB2aXNpdGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB2YWxpZExpbmVOb2RlXyhub2RlKSB7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XG4gICAgY29uc3QgbG9jYXRpb24gPSBub2RlLmdldExvY2F0aW9uKCk7XG4gICAgY29uc3QgdHlwZSA9IG5vZGUgJiYgbm9kZS5nZXRUeXBlKCk7XG4gICAgaWYgKHR5cGUgPT09IEJsb2NrbHkuQVNUTm9kZS50eXBlcy5CTE9DSykge1xuICAgICAgaWYgKCFsb2NhdGlvbi5vdXRwdXRDb25uZWN0aW9uICYmICFsb2NhdGlvbi5wcmV2aW91c0Nvbm5lY3Rpb24pIHtcbiAgICAgICAgaXNWYWxpZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuSU5QVVQpIHtcbiAgICAgIGNvbnN0IGxvY2F0aW9uID0gbm9kZS5nZXRMb2NhdGlvbigpO1xuICAgICAgaWYgKGxvY2F0aW9uLnRhcmdldENvbm5lY3Rpb24pIHtcbiAgICAgICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXNWYWxpZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuTkVYVCkge1xuICAgICAgaXNWYWxpZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuT1VUUFVUKSB7XG4gICAgICBpc1ZhbGlkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IEJsb2NrbHkuQVNUTm9kZS50eXBlcy5QUkVWSU9VUykge1xuICAgICAgaXNWYWxpZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuU1RBQ0spIHtcbiAgICAgIGlzVmFsaWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gQmxvY2tseS5BU1ROb2RlLnR5cGVzLkZJRUxEKSB7XG4gICAgICBpc1ZhbGlkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGlzVmFsaWQ7XG4gIH1cblxuICAvKipcbiAgICogTWVhbnQgdG8gdHJhdmVyc2Ugd2l0aGluIGEgYmxvY2suIFRoZXNlIGFyZSBmaWVsZHMgYW5kIGlucHV0IHZhbHVlcy5cbiAgICogQHBhcmFtIHtCbG9ja2x5LkFTVE5vZGV9IG5vZGUgVGhlIEFTVCBub2RlIHRvIGNoZWNrIHdoZXRoZXIgaXQgaXMgdmFsaWQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIG5vZGUgc2hvdWxkIGJlIHZpc2l0ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHZhbGlkSW5MaW5lTm9kZV8obm9kZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/custom_cursor.js\n");

/***/ }),

/***/ "./src/line_cursor.js":
false,

/***/ "./src/music.js":
/*!**********************!*\
  !*** ./src/music.js ***!
  \**********************/
/*! exports provided: Music */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Music\", function() { return Music; });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/* harmony import */ var _music_blocks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./music_blocks */ \"./src/music_blocks.js\");\n/* harmony import */ var _custom_cursor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./custom_cursor */ \"./src/custom_cursor.js\");\n/* harmony import */ var _music_block_generators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./music_block_generators */ \"./src/music_block_generators.js\");\n/* harmony import */ var js_interpreter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! js-interpreter */ \"./node_modules/js-interpreter/lib/js-interpreter.js\");\n/* harmony import */ var js_interpreter__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(js_interpreter__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _note_player__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./note_player */ \"./src/note_player.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Game logic for music game.\n */\n\n\n\n\n\n\n\n/**\n * Constant denoting a rest.\n */\n\nvar REST = 'REST';\n/**\n * Class representing transcript of notes played.\n */\n\nvar Transcript = /*#__PURE__*/function () {\n  /**\n   * Class for holding transcript of notes that were played. Expects\n   * notesAndRests and durations to have a matching length.\n   * @param {Array<string>} notesAndRests The notes and rests.\n   * @param {Array<number>} durations The durations of the notes and rests.\n   */\n  function Transcript() {\n    var notesAndRests = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var durations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    _classCallCheck(this, Transcript);\n\n    if (notesAndRests.length !== durations.length) {\n      console.error('Transcript length mismatch.');\n    }\n\n    this.notesAndRests = [];\n    this.durations = [];\n    this.size = 0;\n    this.readableText = '';\n\n    for (var i = 0; i < notesAndRests.length; i++) {\n      this.appendNote(notesAndRests[i], durations[i]);\n    }\n  }\n  /**\n   * Converts duration number into approriate string.\n   * @param {number} duration The duration.\n   * @return {string} The string version of duration.\n   * @private\n   */\n\n\n  _createClass(Transcript, [{\n    key: \"appendReadableText_\",\n\n    /**\n     * Internal method for appending text to transcript text.\n     * @param {string} text The text to append.\n     * @private\n     */\n    value: function appendReadableText_(text) {\n      if (this.readableText) {\n        this.readableText += ', ';\n      }\n\n      this.readableText += text;\n    }\n    /**\n     * Appends note to transcript.\n     * @param {string} note The pitch of note to append.\n     * @param {number} duration The duration of the note.\n     */\n\n  }, {\n    key: \"appendNote\",\n    value: function appendNote(note, duration) {\n      this.notesAndRests.push(note);\n      this.durations.push(duration);\n      this.appendReadableText_(\"play \".concat(Transcript.getDurationText_(duration), \" note \").concat(note));\n      this.size++;\n    }\n    /**\n     * Appends rest to transcript.\n     * @param {number} duration The duration of the rest.\n     */\n\n  }, {\n    key: \"appendRest\",\n    value: function appendRest(duration) {\n      this.notesAndRests.push(REST);\n      this.durations.push(duration);\n      this.appendReadableText_(\"\".concat(Transcript.getDurationText_(duration), \" rest\"));\n      this.size++;\n    }\n  }], [{\n    key: \"getDurationText_\",\n    value: function getDurationText_(duration) {\n      var durationText = 'unknown';\n\n      switch (duration) {\n        case 1:\n          durationText = 'whole';\n          break;\n\n        case 0.5:\n          durationText = 'half';\n          break;\n\n        case 0.25:\n          durationText = 'quarter';\n          break;\n\n        case 0.125:\n          durationText = 'eight';\n          break;\n      }\n\n      return durationText;\n    }\n  }]);\n\n  return Transcript;\n}();\n/**\n * Class representing musical stave.\n */\n\n\nvar Stave = /*#__PURE__*/function () {\n  function Stave(id, stateStack) {\n    _classCallCheck(this, Stave);\n\n    /**\n     * The id.\n     * @type {number}\n     */\n    this.id = id;\n    /**\n     * The state stack.\n     * @type {Array<Interpreter.State>}\n     */\n\n    this.stateStack = stateStack;\n    /**\n     * Whether all the notes have ben played.\n     * @type {boolean}\n     */\n\n    this.done = false;\n    /**\n     * The time to pause till.\n     * @type {number}\n     * @private\n     */\n\n    this.pauseUntil64ths_ = 0;\n    /**\n     * The transcript of notes played.\n     * @type {Transcript}\n     * @private\n     */\n\n    this.transcript_ = new Transcript();\n    /**\n     * Currently playing note.\n     * @type {string}\n     * @private\n     */\n\n    this.note_ = '';\n  }\n  /**\n   * Whether this stave is currently paused.\n   * @param {number} clock64ths Number of 1/64ths notes since the start.\n   * @return {boolean} Whether this stave is paused.\n   */\n\n\n  _createClass(Stave, [{\n    key: \"isPaused\",\n    value: function isPaused(clock64ths) {\n      return this.pauseUntil64ths_ > clock64ths;\n    }\n    /**\n     * Play one note.\n     * @param {number} duration Fraction of a whole note length to play.\n     * @param {string} pitch Note to play.\n     * @param {number} clock64ths Number of 1/64ths notes since the start.\n     */\n\n  }, {\n    key: \"play\",\n    value: function play(duration, pitch, clock64ths) {\n      this.stopSound();\n      this.note_ = pitch;\n      _note_player__WEBPACK_IMPORTED_MODULE_6__[\"notePlayer\"].triggerAttack(pitch);\n      this.pauseUntil64ths_ = duration * 64 + clock64ths; // Make a record of this note.\n\n      this.transcript_.appendNote(pitch, duration);\n    }\n    /**\n     * Wait one rest.\n     * @param {number} duration Fraction of a whole note length to rest.\n     * @param {number} clock64ths Number of 1/64ths notes since the start.\n     */\n\n  }, {\n    key: \"rest\",\n    value: function rest(duration, clock64ths) {\n      this.stopSound();\n      this.pauseUntil64ths_ = duration * 64 + clock64ths; // Make a record of this rest.\n\n      this.transcript_.appendRest(duration);\n    }\n    /**\n     * Stops currently playing note.\n     */\n\n  }, {\n    key: \"stopSound\",\n    value: function stopSound() {\n      if (this.note_) {\n        _note_player__WEBPACK_IMPORTED_MODULE_6__[\"notePlayer\"].triggerRelease();\n        this.note_ = '';\n      }\n    }\n    /**\n     * Returns feedback on what is different between the loaded transcript and the\n     * expected one, or empty string if they are equal.\n     * @param {Transcript} expectedTranscript The expected transcript.\n     * @return {string} The feedback.\n     */\n\n  }, {\n    key: \"getFeedback\",\n    value: function getFeedback(expectedTranscript) {\n      var feedback = ''; // There could be extra or missing notes.\n\n      var actualSize = this.transcript_.size;\n      var expectedSize = expectedTranscript.size;\n      var sizeMismatch = actualSize !== expectedSize;\n\n      if (actualSize < expectedSize) {\n        feedback += 'Your solution is missing notes.\\n';\n      } else if (actualSize > expectedSize) {\n        feedback += 'Your solution has extra notes.\\n';\n      } // The notes played could be wrong (duration or note).\n\n\n      var hasIncorrectNotes = false;\n      var hasIncorrectDuration = false;\n\n      for (var i = 0; i < actualSize && i < expectedSize; i++) {\n        if (this.transcript_.notesAndRests[i] !== expectedTranscript.notesAndRests[i]) {\n          hasIncorrectNotes = true;\n        }\n\n        if (this.transcript_.durations[i] !== expectedTranscript.durations[i]) {\n          hasIncorrectDuration = true;\n        }\n      }\n\n      if (hasIncorrectNotes) {\n        feedback += \"Some of the notes \".concat(sizeMismatch ? 'may be' : 'are', \" incorrect.\\n\");\n      }\n\n      if (hasIncorrectDuration) {\n        feedback += \"Some of the note durations \" + \"\".concat(sizeMismatch ? 'may be' : 'are', \" incorrect.\\n\");\n      } // Append the actual and expected notes played.\n\n\n      if (sizeMismatch || hasIncorrectNotes || hasIncorrectDuration) {\n        feedback += \"\\nYour solution: \".concat(this.transcript_.readableText, \"\\n\");\n        feedback += \"Expected solution: \".concat(expectedTranscript.readableText);\n      }\n\n      return feedback;\n    }\n  }]);\n\n  return Stave;\n}();\n/**\n * Game logic for music game.\n */\n\n\nvar Music = /*#__PURE__*/function () {\n  /**\n   * Class for a music game.\n   * @constructor\n   */\n  function Music() {\n    _classCallCheck(this, Music);\n\n    /**\n     * The Blockly workspace associated with this game.\n     * @type {!Blockly.WorkspaceSvg}\n     */\n    this.workspace = this.createWorkspace_();\n    /**\n     * The currently loaded level. 0 if no level loaded.\n     */\n\n    this.level = 0;\n    /**\n     * The HTML element containing the goal text for the game.\n     * @type {HTMLElement}\n     * @private\n     */\n\n    this.goalTextElement_ = document.getElementById('goalText');\n    /**\n     * The HTML element containing the feedback text for the game.\n     * @type {HTMLElement}\n     * @private\n     */\n\n    this.feedbackTextElement_ = document.getElementById('feedbackText');\n    /**\n     * The expected answer.\n     * @type {Array<Transcript>}\n     * @private\n     */\n\n    this.expectedAnswer_ = [];\n    /**\n     * The interpreter.\n     * @type {?Interpreter}\n     * @private\n     */\n\n    this.interpreter_ = null;\n    /**\n     * @type {Array<Stave>}\n     * @private\n     */\n\n    this.staves_ = [];\n    /**\n     * The current active stave.\n     * @type {?Stave}\n     * @private\n     */\n\n    this.activeStave_ = null;\n    /**\n     * Time of start of execution.\n     * @type {number}\n     * @private\n     */\n\n    this.startTime_ = 0;\n    /**\n     * Number of 1/64ths notes since the start.\n     * @type {number}\n     * @private\n     */\n\n    this.clock64ths_ = 0;\n    /**\n     * The speed at which to play notes. Between 0 and 1, with 0 being slow,\n     * 0.5 being normal speed, and 1 being fast.\n     * @type {number}\n     * @private\n     */\n\n    this.speed_ = 0.5;\n    /**\n     * The id of the last setTimeout call. Used for game reset.\n     * @type {number}\n     * @private\n     */\n\n    this.pid_ = 0;\n    /**\n     * The callback function on level success.\n     * @type {function()}\n     * @private\n     */\n\n    this.onSuccessCallback_ = function () {\n      console.log('SUCCESS');\n    };\n    /**\n     * The callback function on level failure.\n     * @type {function(string)}\n     * @param {string} feedback The level feedback.\n     * @private\n     */\n\n\n    this.onFailureCallback_ = function (feedback) {\n      console.log('FAILURE');\n      console.log(feedback);\n    };\n\n    this.registerPlayShortcut();\n  }\n  /**\n   * Registers a shortcut to play the notes on the workspace.\n   */\n\n\n  _createClass(Music, [{\n    key: \"registerPlayShortcut\",\n    value: function registerPlayShortcut() {\n      var newFunction = function () {\n        this.execute();\n      }.bind(this);\n      /** @type {!Blockly.ShortcutRegistry.KeyboardShortcut} */\n\n\n      var playShortcut = {\n        name: 'playShortcut',\n        preconditionFn: function preconditionFn(workspace) {\n          return workspace.keyboardAccessibilityMode && !workspace.options.readOnly;\n        },\n        callback: newFunction\n      };\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry.register(playShortcut);\n      var shiftW = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry.createSerializedKey(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.utils.KeyCodes.P, [blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.utils.KeyCodes.SHIFT]);\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry.addKeyMapping(shiftW, playShortcut.name);\n    }\n    /**\n     * Initializes the Blockly workspace.\n     * @return {!Blockly.WorkspaceSvg} The Blockly workspace.\n     * @private\n     */\n\n  }, {\n    key: \"createWorkspace_\",\n    value: function createWorkspace_() {\n      // Initialize Blockly workspace.\n      var blocklyDiv = document.getElementById('blocklyDiv');\n      var workspace = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.inject(blocklyDiv, {\n        toolbox: _music_blocks__WEBPACK_IMPORTED_MODULE_2__[\"toolboxPitch\"]\n      });\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.NAVIGATE_ALL_FIELDS = true;\n      workspace.getMarkerManager().setCursor(new _custom_cursor__WEBPACK_IMPORTED_MODULE_3__[\"CustomCursor\"]());\n      workspace.addChangeListener(function (event) {\n        return _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].nodeToSpeech(event);\n      });\n      workspace.getFlyout().getWorkspace().addChangeListener(function (event) {\n        return _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].nodeToSpeech(event);\n      });\n      return workspace;\n    }\n    /**\n     * Returns the workspace belonging to this game.\n     * @return {Blockly.WorkspaceSvg} The workspace belonging to this game.\n     */\n\n  }, {\n    key: \"getWorkspace\",\n    value: function getWorkspace() {\n      return this.workspace;\n    }\n    /**\n     * Sets the goal text.\n     * @param {string} text The text to set the goal to.\n     */\n\n  }, {\n    key: \"setGoalText\",\n    value: function setGoalText(text) {\n      this.goalTextElement_.innerHTML = text;\n    }\n    /**\n     * Sets the feedback text.\n     * @param {string} text The text to set the feedback to.\n     */\n\n  }, {\n    key: \"setFeedbackText\",\n    value: function setFeedbackText(text) {\n      this.feedbackTextElement_.innerHTML = text;\n    }\n    /**\n     * Sets the behaviour on success.\n     * @param {function()} onSuccessCallback The on success callback. The level\n     *    code is passed in as parameter.\n     */\n\n  }, {\n    key: \"setOnSuccessCallback\",\n    value: function setOnSuccessCallback(onSuccessCallback) {\n      this.onSuccessCallback_ = onSuccessCallback;\n    }\n    /**\n     * Sets the behaviour on failure.\n     * @param {function(string)} onFailureCallback The on failure callback. Level\n     *    feedback is passed in as parameter.\n     */\n\n  }, {\n    key: \"setOnFailureCallback\",\n    value: function setOnFailureCallback(onFailureCallback) {\n      this.onFailureCallback_ = onFailureCallback;\n    }\n    /**\n     * Clears the workspace and loads the specified blocks.\n     * @param {string} blockXml The xml text string of blocks.\n     */\n\n  }, {\n    key: \"loadWorkspaceBlocks\",\n    value: function loadWorkspaceBlocks(blockXml) {\n      this.workspace.clear();\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Xml.domToWorkspace(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Xml.textToDom(blockXml), this.workspace);\n    }\n    /**\n     * Updates the currently loaded toolbox.\n     * @param {?Blockly.utils.toolbox.ToolboxDefinition} toolboxDef\n     *    DOM tree of toolbox contents, string of toolbox contents, or JSON\n     *    representing toolbox definition.\n     */\n\n  }, {\n    key: \"updateToolbox\",\n    value: function updateToolbox(toolboxDef) {\n      this.workspace.updateToolbox(toolboxDef);\n    }\n    /**\n     * Updates the goal based on the current level.\n     * @private\n     */\n\n  }, {\n    key: \"updateLevelGoal_\",\n    value: function updateLevelGoal_() {\n      var goalText = '';\n\n      switch (this.level) {\n        case 1:\n          goalText = 'Play c4 d4 e4 c4';\n          this.expectedAnswer_ = [new Transcript(['C4', 'D4', 'E4', 'C4'], Array(4).fill(0.25))];\n          break;\n      }\n\n      this.setGoalText(goalText);\n    }\n    /**\n     * Updates the toolbox based on the current level.\n     * @private\n     */\n\n  }, {\n    key: \"updateLevelToolbox_\",\n    value: function updateLevelToolbox_() {\n      var toolboxJson = {\n        'kind': 'flyoutToolbox',\n        'contents': [{\n          'kind': 'block',\n          'blockxml': \"<block type=\\\"music_note\\\">\\n                        <field name=\\\"DURATION\\\">0.25</field>\\n                        <value name=\\\"PITCH\\\">\\n                          <shadow type=\\\"music_pitch\\\">\\n                            <field name=\\\"PITCH\\\">C4</field>\\n                          </shadow>\\n                        </value>\\n                      </block>\"\n        }, {\n          'kind': 'block',\n          'type': 'music_rest'\n        }]\n      };\n      this.updateToolbox(toolboxJson);\n    }\n    /**\n     * Update the workspace blocks based on the current level.\n     * @private\n     */\n\n  }, {\n    key: \"loadLevelBlocks_\",\n    value: function loadLevelBlocks_() {\n      var levelXml = \"<xml>\\n            <block type=\\\"music_start\\\" deletable=\\\"false\\\" x=\\\"180\\\"\\n            y=\\\"50\\\"></block>\\n          </xml>\";\n      this.loadWorkspaceBlocks(levelXml);\n    }\n    /**\n     * Load the specified level.\n     * @param {number|string} level The level to load.\n     */\n\n  }, {\n    key: \"loadLevel\",\n    value: function loadLevel(level) {\n      this.level = Number(level);\n      this.updateLevelGoal_();\n      this.updateLevelToolbox_();\n      this.loadLevelBlocks_();\n    }\n    /**\n     * Set the speed (Number between 0 and 1).\n     * @param {number} speed The speed to set to.\n     */\n\n  }, {\n    key: \"setSpeed\",\n    value: function setSpeed(speed) {\n      if (speed <= 0 || speed > 1) {\n        console.error('Invalid speed');\n        return;\n      }\n\n      this.speed_ = speed;\n      this.startTime_ = 0;\n    }\n    /**\n     * Generates code and logs it to the console.\n     */\n\n  }, {\n    key: \"logGeneratedCode\",\n    value: function logGeneratedCode() {\n      var codeJs = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.JavaScript.workspaceToCode(this.workspace);\n      console.log(codeJs);\n    }\n    /**\n     * Reset the music to the start position, clear the display, and kill any\n     * pending tasks.\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      // Kill any task.\n      clearTimeout(this.pid_);\n      this.staves_.forEach(function (stave) {\n        stave.stopSound();\n      });\n      this.interpreter_ = null;\n      this.activeStave_ = null;\n      this.staves_.length = 0;\n      this.clock64ths_ = 0;\n      this.startTime_ = 0;\n      this.setFeedbackText('');\n    }\n    /**\n     * Plays music based on the blocks on the workspace.\n     */\n\n  }, {\n    key: \"execute\",\n    value: function execute() {\n      var _this = this;\n\n      this.reset(); // Get generated code from workspace\n\n      var code = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.JavaScript.workspaceToCode(this.workspace); // Run user code.\n\n      this.interpreter_ = new js_interpreter__WEBPACK_IMPORTED_MODULE_5___default.a(code, this.interpreterInit_.bind(this)); // TODO add support for multiple threads.\n\n      var interpreter = new js_interpreter__WEBPACK_IMPORTED_MODULE_5___default.a(''); // Replace this thread's global scope with the cross-thread global.\n\n      interpreter.stateStack[0].scope = this.interpreter_.globalScope; // Add start call.\n\n      interpreter.appendCode('start();\\n');\n      this.staves_.push(new Stave(0, interpreter.stateStack));\n      this.pid_ = setTimeout(function () {\n        return _this.tick_();\n      }, 100);\n    }\n    /**\n     * Inject the Music API into a JavaScript interpreter.\n     * @param {!Interpreter} interpreter The JS-Interpreter.\n     * @param {!Interpreter.Object} globalObject Global object.\n     * @private\n     */\n\n  }, {\n    key: \"interpreterInit_\",\n    value: function interpreterInit_(interpreter, globalObject) {\n      var _this2 = this;\n\n      // API\n      var wrapper;\n\n      wrapper = function wrapper(duration, pitch, _id) {\n        _this2.play_(duration, pitch);\n      };\n\n      interpreter.setProperty(globalObject, 'play', interpreter.createNativeFunction(wrapper));\n\n      wrapper = function wrapper(duration, _id) {\n        _this2.rest_(duration);\n      };\n\n      interpreter.setProperty(globalObject, 'rest', interpreter.createNativeFunction(wrapper)); // TODO implement setInstrument API.\n    }\n    /**\n     * Play one note.\n     * @param {number} duration Fraction of a whole note length to play.\n     * @param {string} pitch Note play.\n     * @private\n     */\n\n  }, {\n    key: \"play_\",\n    value: function play_(duration, pitch) {\n      this.activeStave_.play(duration, pitch, this.clock64ths_);\n    }\n    /**\n     * Wait one rest.\n     * @param {number} duration Fraction of a whole note length to rest.\n     * @private\n     */\n\n  }, {\n    key: \"rest_\",\n    value: function rest_(duration) {\n      this.activeStave_.rest(duration, this.clock64ths_);\n    }\n    /**\n     * Execute a 1/64th tick of the program.\n     * @private\n     */\n\n  }, {\n    key: \"tick_\",\n    value: function tick_() {\n      var _this3 = this;\n\n      // Delay between start of each beat (1/64ths of a whole note).\n      // Reminder: The startTime_ should be reset after the slider is adjusted.\n      var scaleDuration = 1000 * (2.5 - 2 * this.speed_) / 64;\n\n      if (!this.startTime_) {\n        // Either the first tick, or first tick after slider was adjusted.\n        this.startTime_ = Date.now() - this.clock64ths_ * scaleDuration;\n      }\n\n      var done = true;\n      this.staves_.forEach(function (stave) {\n        if (!stave.done) {\n          done = false;\n\n          if (!stave.isPaused(_this3.clock64ths_)) {\n            _this3.executeChunk_(stave);\n          }\n        }\n      });\n\n      if (done) {\n        // Program complete.\n        var feedback = this.checkAnswer_();\n\n        if (feedback) {\n          this.onFailureCallback_(feedback);\n        } else {\n          this.onSuccessCallback_();\n        }\n      } else {\n        this.clock64ths_++;\n        var ms = this.startTime_ + this.clock64ths_ * scaleDuration - Date.now();\n        this.pid_ = setTimeout(function () {\n          return _this3.tick_();\n        }, ms);\n      }\n    }\n    /**\n     * Execute a bite-sized chunk of the user's code.\n     * @param {Stave} stave The stave to execute.\n     * @private\n     */\n\n  }, {\n    key: \"executeChunk_\",\n    value: function executeChunk_(stave) {\n      this.activeStave_ = stave; // Switch the interpreter to run the provided staff.\n\n      this.interpreter_.stateStack = stave.stateStack;\n      var ticks = 10000;\n      var go;\n\n      do {\n        try {\n          go = this.interpreter_.step();\n        } catch (e) {\n          // User error, terminate in shame.\n          alert(e);\n          go = false;\n        }\n\n        if (ticks-- == 0) {\n          console.warn('Staff ' + stave.id + ' is running slowly.');\n          return;\n        }\n\n        if (stave.isPaused(this.clock64ths_)) {\n          // Previously executed command (play or rest) requested a pause.\n          return;\n        }\n      } while (go); // Thread complete.  Wrap up.\n\n\n      stave.stopSound(stave);\n      stave.done = true;\n    }\n    /**\n     * Evaluates whether the answer for the currently loaded level is correct.\n     * Returns level feedback if correct or empty string if correct.\n     * @return {string} Level feedback or empty string.\n     * @private\n     */\n\n  }, {\n    key: \"checkAnswer_\",\n    value: function checkAnswer_() {\n      var feedback = '';\n\n      for (var i = 0; i < this.expectedAnswer_.length; i++) {\n        var staveFeedback = this.staves_[i].getFeedback(this.expectedAnswer_[i]);\n\n        if (staveFeedback) {\n          feedback += staveFeedback;\n        }\n      }\n\n      return feedback;\n    }\n  }]);\n\n  return Music;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbXVzaWMuanM/MmE0ZiJdLCJuYW1lcyI6WyJSRVNUIiwiVHJhbnNjcmlwdCIsIm5vdGVzQW5kUmVzdHMiLCJkdXJhdGlvbnMiLCJsZW5ndGgiLCJjb25zb2xlIiwiZXJyb3IiLCJzaXplIiwicmVhZGFibGVUZXh0IiwiaSIsImFwcGVuZE5vdGUiLCJ0ZXh0Iiwibm90ZSIsImR1cmF0aW9uIiwicHVzaCIsImFwcGVuZFJlYWRhYmxlVGV4dF8iLCJnZXREdXJhdGlvblRleHRfIiwiZHVyYXRpb25UZXh0IiwiU3RhdmUiLCJpZCIsInN0YXRlU3RhY2siLCJkb25lIiwicGF1c2VVbnRpbDY0dGhzXyIsInRyYW5zY3JpcHRfIiwibm90ZV8iLCJjbG9jazY0dGhzIiwicGl0Y2giLCJzdG9wU291bmQiLCJub3RlUGxheWVyIiwidHJpZ2dlckF0dGFjayIsImFwcGVuZFJlc3QiLCJ0cmlnZ2VyUmVsZWFzZSIsImV4cGVjdGVkVHJhbnNjcmlwdCIsImZlZWRiYWNrIiwiYWN0dWFsU2l6ZSIsImV4cGVjdGVkU2l6ZSIsInNpemVNaXNtYXRjaCIsImhhc0luY29ycmVjdE5vdGVzIiwiaGFzSW5jb3JyZWN0RHVyYXRpb24iLCJNdXNpYyIsIndvcmtzcGFjZSIsImNyZWF0ZVdvcmtzcGFjZV8iLCJsZXZlbCIsImdvYWxUZXh0RWxlbWVudF8iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZmVlZGJhY2tUZXh0RWxlbWVudF8iLCJleHBlY3RlZEFuc3dlcl8iLCJpbnRlcnByZXRlcl8iLCJzdGF2ZXNfIiwiYWN0aXZlU3RhdmVfIiwic3RhcnRUaW1lXyIsImNsb2NrNjR0aHNfIiwic3BlZWRfIiwicGlkXyIsIm9uU3VjY2Vzc0NhbGxiYWNrXyIsImxvZyIsIm9uRmFpbHVyZUNhbGxiYWNrXyIsInJlZ2lzdGVyUGxheVNob3J0Y3V0IiwibmV3RnVuY3Rpb24iLCJleGVjdXRlIiwiYmluZCIsInBsYXlTaG9ydGN1dCIsIm5hbWUiLCJwcmVjb25kaXRpb25GbiIsImtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGUiLCJvcHRpb25zIiwicmVhZE9ubHkiLCJjYWxsYmFjayIsIkJsb2NrbHkiLCJTaG9ydGN1dFJlZ2lzdHJ5IiwicmVnaXN0cnkiLCJyZWdpc3RlciIsInNoaWZ0VyIsImNyZWF0ZVNlcmlhbGl6ZWRLZXkiLCJ1dGlscyIsIktleUNvZGVzIiwiUCIsIlNISUZUIiwiYWRkS2V5TWFwcGluZyIsImJsb2NrbHlEaXYiLCJpbmplY3QiLCJ0b29sYm94IiwidG9vbGJveFBpdGNoIiwiQVNUTm9kZSIsIk5BVklHQVRFX0FMTF9GSUVMRFMiLCJnZXRNYXJrZXJNYW5hZ2VyIiwic2V0Q3Vyc29yIiwiQ3VzdG9tQ3Vyc29yIiwiYWRkQ2hhbmdlTGlzdGVuZXIiLCJldmVudCIsInNwZWFrZXIiLCJub2RlVG9TcGVlY2giLCJnZXRGbHlvdXQiLCJnZXRXb3Jrc3BhY2UiLCJpbm5lckhUTUwiLCJvblN1Y2Nlc3NDYWxsYmFjayIsIm9uRmFpbHVyZUNhbGxiYWNrIiwiYmxvY2tYbWwiLCJjbGVhciIsIlhtbCIsImRvbVRvV29ya3NwYWNlIiwidGV4dFRvRG9tIiwidG9vbGJveERlZiIsInVwZGF0ZVRvb2xib3giLCJnb2FsVGV4dCIsIkFycmF5IiwiZmlsbCIsInNldEdvYWxUZXh0IiwidG9vbGJveEpzb24iLCJsZXZlbFhtbCIsImxvYWRXb3Jrc3BhY2VCbG9ja3MiLCJOdW1iZXIiLCJ1cGRhdGVMZXZlbEdvYWxfIiwidXBkYXRlTGV2ZWxUb29sYm94XyIsImxvYWRMZXZlbEJsb2Nrc18iLCJzcGVlZCIsImNvZGVKcyIsIkphdmFTY3JpcHQiLCJ3b3Jrc3BhY2VUb0NvZGUiLCJjbGVhclRpbWVvdXQiLCJmb3JFYWNoIiwic3RhdmUiLCJzZXRGZWVkYmFja1RleHQiLCJyZXNldCIsImNvZGUiLCJJbnRlcnByZXRlciIsImludGVycHJldGVySW5pdF8iLCJpbnRlcnByZXRlciIsInNjb3BlIiwiZ2xvYmFsU2NvcGUiLCJhcHBlbmRDb2RlIiwic2V0VGltZW91dCIsInRpY2tfIiwiZ2xvYmFsT2JqZWN0Iiwid3JhcHBlciIsIl9pZCIsInBsYXlfIiwic2V0UHJvcGVydHkiLCJjcmVhdGVOYXRpdmVGdW5jdGlvbiIsInJlc3RfIiwicGxheSIsInJlc3QiLCJzY2FsZUR1cmF0aW9uIiwiRGF0ZSIsIm5vdyIsImlzUGF1c2VkIiwiZXhlY3V0ZUNodW5rXyIsImNoZWNrQW5zd2VyXyIsIm1zIiwidGlja3MiLCJnbyIsInN0ZXAiLCJlIiwiYWxlcnQiLCJ3YXJuIiwic3RhdmVGZWVkYmFjayIsImdldEZlZWRiYWNrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7O0FBQ0EsSUFBTUEsSUFBSSxHQUFHLE1BQWI7QUFFQTtBQUNBO0FBQ0E7O0lBQ01DLFU7QUFDSjtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRSx3QkFBZ0Q7QUFBQSxRQUFwQ0MsYUFBb0MsdUVBQXBCLEVBQW9CO0FBQUEsUUFBaEJDLFNBQWdCLHVFQUFKLEVBQUk7O0FBQUE7O0FBQzlDLFFBQUlELGFBQWEsQ0FBQ0UsTUFBZCxLQUF5QkQsU0FBUyxDQUFDQyxNQUF2QyxFQUErQztBQUM3Q0MsYUFBTyxDQUFDQyxLQUFSLENBQWMsNkJBQWQ7QUFDRDs7QUFDRCxTQUFLSixhQUFMLEdBQXFCLEVBQXJCO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixFQUFqQjtBQUNBLFNBQUtJLElBQUwsR0FBWSxDQUFaO0FBQ0EsU0FBS0MsWUFBTCxHQUFvQixFQUFwQjs7QUFDQSxTQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdQLGFBQWEsQ0FBQ0UsTUFBbEMsRUFBMENLLENBQUMsRUFBM0MsRUFBK0M7QUFDN0MsV0FBS0MsVUFBTCxDQUFnQlIsYUFBYSxDQUFDTyxDQUFELENBQTdCLEVBQWtDTixTQUFTLENBQUNN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QTNjQTtBQUFBO0FBQUEsbUNBNGNpQjtBQUNiLFVBQUlZLFFBQVEsR0FBRyxFQUFmOztBQUNBLFdBQUssSUFBSXhCLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBS3NDLGVBQUwsQ0FBcUIzQyxNQUF6QyxFQUFpREssQ0FBQyxFQUFsRCxFQUFzRDtBQUNwRCxZQUFNbUosYUFBYSxHQUNmLEtBQUszRyxPQUFMLENBQWF4QyxDQUFiLEVBQWdCb0osV0FBaEIsQ0FBNEIsS0FBSzlHLGVBQUwsQ0FBcUJ0QyxDQUFyQixDQUE1QixDQURKOztBQUVBLFlBQUltSixhQUFKLEVBQW1CO0FBQ2pCM0gsa0JBQVEsSUFBSTJILGFBQVo7QUFDRDtBQUNGOztBQUNELGFBQU8zSCxRQUFQO0FBQ0Q7QUF0ZEg7O0FBQUE7QUFBQSIsImZpbGUiOiIuL3NyYy9tdXNpYy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEdhbWUgbG9naWMgZm9yIG11c2ljIGdhbWUuXG4gKi9cblxuaW1wb3J0IEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCB7c3BlYWtlcn0gZnJvbSAnLi9zcGVha2VyJztcbmltcG9ydCB7dG9vbGJveFBpdGNofSBmcm9tICcuL211c2ljX2Jsb2Nrcyc7XG5pbXBvcnQge0N1c3RvbUN1cnNvcn0gZnJvbSAnLi9jdXN0b21fY3Vyc29yJztcbmltcG9ydCAnLi9tdXNpY19ibG9ja19nZW5lcmF0b3JzJztcbmltcG9ydCBJbnRlcnByZXRlciBmcm9tICdqcy1pbnRlcnByZXRlcic7XG5pbXBvcnQge25vdGVQbGF5ZXJ9IGZyb20gJy4vbm90ZV9wbGF5ZXInO1xuXG5cbi8qKlxuICogQ29uc3RhbnQgZGVub3RpbmcgYSByZXN0LlxuICovXG5jb25zdCBSRVNUID0gJ1JFU1QnO1xuXG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyB0cmFuc2NyaXB0IG9mIG5vdGVzIHBsYXllZC5cbiAqL1xuY2xhc3MgVHJhbnNjcmlwdCB7XG4gIC8qKlxuICAgKiBDbGFzcyBmb3IgaG9sZGluZyB0cmFuc2NyaXB0IG9mIG5vdGVzIHRoYXQgd2VyZSBwbGF5ZWQuIEV4cGVjdHNcbiAgICogbm90ZXNBbmRSZXN0cyBhbmQgZHVyYXRpb25zIHRvIGhhdmUgYSBtYXRjaGluZyBsZW5ndGguXG4gICAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gbm90ZXNBbmRSZXN0cyBUaGUgbm90ZXMgYW5kIHJlc3RzLlxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGR1cmF0aW9ucyBUaGUgZHVyYXRpb25zIG9mIHRoZSBub3RlcyBhbmQgcmVzdHMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihub3Rlc0FuZFJlc3RzID0gW10sIGR1cmF0aW9ucyA9IFtdKSB7XG4gICAgaWYgKG5vdGVzQW5kUmVzdHMubGVuZ3RoICE9PSBkdXJhdGlvbnMubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdUcmFuc2NyaXB0IGxlbmd0aCBtaXNtYXRjaC4nKTtcbiAgICB9XG4gICAgdGhpcy5ub3Rlc0FuZFJlc3RzID0gW107XG4gICAgdGhpcy5kdXJhdGlvbnMgPSBbXTtcbiAgICB0aGlzLnNpemUgPSAwO1xuICAgIHRoaXMucmVhZGFibGVUZXh0ID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub3Rlc0FuZFJlc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmFwcGVuZE5vdGUobm90ZXNBbmRSZXN0c1tpXSwgZHVyYXRpb25zW2ldKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgZHVyYXRpb24gbnVtYmVyIGludG8gYXBwcm9yaWF0ZSBzdHJpbmcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBUaGUgZHVyYXRpb24uXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHN0cmluZyB2ZXJzaW9uIG9mIGR1cmF0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIGdldER1cmF0aW9uVGV4dF8oZHVyYXRpb24pIHtcbiAgICBsZXQgZHVyYXRpb25UZXh0ID0gJ3Vua25vd24nO1xuICAgIHN3aXRjaCAoZHVyYXRpb24pIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgZHVyYXRpb25UZXh0ID0gJ3dob2xlJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDAuNTpcbiAgICAgICAgZHVyYXRpb25UZXh0ID0gJ2hhbGYnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMC4yNTpcbiAgICAgICAgZHVyYXRpb25UZXh0ID0gJ3F1YXJ0ZXInO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMC4xMjU6XG4gICAgICAgIGR1cmF0aW9uVGV4dCA9ICdlaWdodCc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gZHVyYXRpb25UZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVybmFsIG1ldGhvZCBmb3IgYXBwZW5kaW5nIHRleHQgdG8gdHJhbnNjcmlwdCB0ZXh0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBhcHBlbmQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhcHBlbmRSZWFkYWJsZVRleHRfKHRleHQpIHtcbiAgICBpZiAodGhpcy5yZWFkYWJsZVRleHQpIHtcbiAgICAgIHRoaXMucmVhZGFibGVUZXh0ICs9ICcsICc7XG4gICAgfVxuICAgIHRoaXMucmVhZGFibGVUZXh0ICs9IHRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyBub3RlIHRvIHRyYW5zY3JpcHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBub3RlIFRoZSBwaXRjaCBvZiBub3RlIHRvIGFwcGVuZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIFRoZSBkdXJhdGlvbiBvZiB0aGUgbm90ZS5cbiAgICovXG4gIGFwcGVuZE5vdGUobm90ZSwgZHVyYXRpb24pIHtcbiAgICB0aGlzLm5vdGVzQW5kUmVzdHMucHVzaChub3RlKTtcbiAgICB0aGlzLmR1cmF0aW9ucy5wdXNoKGR1cmF0aW9uKTtcbiAgICB0aGlzLmFwcGVuZFJlYWRhYmxlVGV4dF8oXG4gICAgICAgIGBwbGF5ICR7VHJhbnNjcmlwdC5nZXREdXJhdGlvblRleHRfKGR1cmF0aW9uKX0gbm90ZSAke25vdGV9YCk7XG4gICAgdGhpcy5zaXplKys7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGVuZHMgcmVzdCB0byB0cmFuc2NyaXB0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIG9mIHRoZSByZXN0LlxuICAgKi9cbiAgYXBwZW5kUmVzdChkdXJhdGlvbikge1xuICAgIHRoaXMubm90ZXNBbmRSZXN0cy5wdXNoKFJFU1QpO1xuICAgIHRoaXMuZHVyYXRpb25zLnB1c2goZHVyYXRpb24pO1xuICAgIHRoaXMuYXBwZW5kUmVhZGFibGVUZXh0XyhcbiAgICAgICAgYCR7VHJhbnNjcmlwdC5nZXREdXJhdGlvblRleHRfKGR1cmF0aW9uKX0gcmVzdGApO1xuICAgIHRoaXMuc2l6ZSsrO1xuICB9XG59XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIG11c2ljYWwgc3RhdmUuXG4gKi9cbmNsYXNzIFN0YXZlIHtcbiAgY29uc3RydWN0b3IoaWQsIHN0YXRlU3RhY2spIHtcbiAgICAvKipcbiAgICAgKiBUaGUgaWQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgLyoqXG4gICAgICogVGhlIHN0YXRlIHN0YWNrLlxuICAgICAqIEB0eXBlIHtBcnJheTxJbnRlcnByZXRlci5TdGF0ZT59XG4gICAgICovXG4gICAgdGhpcy5zdGF0ZVN0YWNrID0gc3RhdGVTdGFjaztcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgYWxsIHRoZSBub3RlcyBoYXZlIGJlbiBwbGF5ZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5kb25lID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGltZSB0byBwYXVzZSB0aWxsLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnBhdXNlVW50aWw2NHRoc18gPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zY3JpcHQgb2Ygbm90ZXMgcGxheWVkLlxuICAgICAqIEB0eXBlIHtUcmFuc2NyaXB0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy50cmFuc2NyaXB0XyA9IG5ldyBUcmFuc2NyaXB0KCk7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50bHkgcGxheWluZyBub3RlLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm5vdGVfID0gJyc7XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciB0aGlzIHN0YXZlIGlzIGN1cnJlbnRseSBwYXVzZWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjbG9jazY0dGhzIE51bWJlciBvZiAxLzY0dGhzIG5vdGVzIHNpbmNlIHRoZSBzdGFydC5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIHN0YXZlIGlzIHBhdXNlZC5cbiAgICovXG4gIGlzUGF1c2VkKGNsb2NrNjR0aHMpIHtcbiAgICByZXR1cm4gdGhpcy5wYXVzZVVudGlsNjR0aHNfID4gY2xvY2s2NHRocztcbiAgfVxuXG4gIC8qKlxuICAgKiBQbGF5IG9uZSBub3RlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gRnJhY3Rpb24gb2YgYSB3aG9sZSBub3RlIGxlbmd0aCB0byBwbGF5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGl0Y2ggTm90ZSB0byBwbGF5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gY2xvY2s2NHRocyBOdW1iZXIgb2YgMS82NHRocyBub3RlcyBzaW5jZSB0aGUgc3RhcnQuXG4gICAqL1xuICBwbGF5KGR1cmF0aW9uLCBwaXRjaCwgY2xvY2s2NHRocykge1xuICAgIHRoaXMuc3RvcFNvdW5kKCk7XG4gICAgdGhpcy5ub3RlXyA9IHBpdGNoO1xuICAgIG5vdGVQbGF5ZXIudHJpZ2dlckF0dGFjayhwaXRjaCk7XG4gICAgdGhpcy5wYXVzZVVudGlsNjR0aHNfID0gZHVyYXRpb24gKiA2NCArIGNsb2NrNjR0aHM7XG4gICAgLy8gTWFrZSBhIHJlY29yZCBvZiB0aGlzIG5vdGUuXG4gICAgdGhpcy50cmFuc2NyaXB0Xy5hcHBlbmROb3RlKHBpdGNoLCBkdXJhdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogV2FpdCBvbmUgcmVzdC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIEZyYWN0aW9uIG9mIGEgd2hvbGUgbm90ZSBsZW5ndGggdG8gcmVzdC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNsb2NrNjR0aHMgTnVtYmVyIG9mIDEvNjR0aHMgbm90ZXMgc2luY2UgdGhlIHN0YXJ0LlxuICAgKi9cbiAgcmVzdChkdXJhdGlvbiwgY2xvY2s2NHRocykge1xuICAgIHRoaXMuc3RvcFNvdW5kKCk7XG4gICAgdGhpcy5wYXVzZVVudGlsNjR0aHNfID0gZHVyYXRpb24gKiA2NCArIGNsb2NrNjR0aHM7XG4gICAgLy8gTWFrZSBhIHJlY29yZCBvZiB0aGlzIHJlc3QuXG4gICAgdGhpcy50cmFuc2NyaXB0Xy5hcHBlbmRSZXN0KGR1cmF0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyBjdXJyZW50bHkgcGxheWluZyBub3RlLlxuICAgKi9cbiAgc3RvcFNvdW5kKCkge1xuICAgIGlmICh0aGlzLm5vdGVfKSB7XG4gICAgICBub3RlUGxheWVyLnRyaWdnZXJSZWxlYXNlKCk7XG4gICAgICB0aGlzLm5vdGVfID0gJyc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmVlZGJhY2sgb24gd2hhdCBpcyBkaWZmZXJlbnQgYmV0d2VlbiB0aGUgbG9hZGVkIHRyYW5zY3JpcHQgYW5kIHRoZVxuICAgKiBleHBlY3RlZCBvbmUsIG9yIGVtcHR5IHN0cmluZyBpZiB0aGV5IGFyZSBlcXVhbC5cbiAgICogQHBhcmFtIHtUcmFuc2NyaXB0fSBleHBlY3RlZFRyYW5zY3JpcHQgVGhlIGV4cGVjdGVkIHRyYW5zY3JpcHQuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGZlZWRiYWNrLlxuICAgKi9cbiAgZ2V0RmVlZGJhY2soZXhwZWN0ZWRUcmFuc2NyaXB0KSB7XG4gICAgbGV0IGZlZWRiYWNrID0gJyc7XG5cbiAgICAvLyBUaGVyZSBjb3VsZCBiZSBleHRyYSBvciBtaXNzaW5nIG5vdGVzLlxuICAgIGNvbnN0IGFjdHVhbFNpemUgPSB0aGlzLnRyYW5zY3JpcHRfLnNpemU7XG4gICAgY29uc3QgZXhwZWN0ZWRTaXplID0gZXhwZWN0ZWRUcmFuc2NyaXB0LnNpemU7XG4gICAgY29uc3Qgc2l6ZU1pc21hdGNoID0gYWN0dWFsU2l6ZSAhPT0gZXhwZWN0ZWRTaXplO1xuICAgIGlmIChhY3R1YWxTaXplIDwgZXhwZWN0ZWRTaXplKSB7XG4gICAgICBmZWVkYmFjayArPSAnWW91ciBzb2x1dGlvbiBpcyBtaXNzaW5nIG5vdGVzLlxcbic7XG4gICAgfSBlbHNlIGlmIChhY3R1YWxTaXplID4gZXhwZWN0ZWRTaXplKSB7XG4gICAgICBmZWVkYmFjayArPSAnWW91ciBzb2x1dGlvbiBoYXMgZXh0cmEgbm90ZXMuXFxuJztcbiAgICB9XG5cbiAgICAvLyBUaGUgbm90ZXMgcGxheWVkIGNvdWxkIGJlIHdyb25nIChkdXJhdGlvbiBvciBub3RlKS5cbiAgICBsZXQgaGFzSW5jb3JyZWN0Tm90ZXMgPSBmYWxzZTtcbiAgICBsZXQgaGFzSW5jb3JyZWN0RHVyYXRpb24gPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdHVhbFNpemUgJiYgaSA8IGV4cGVjdGVkU2l6ZTsgaSsrKSB7XG4gICAgICBpZiAodGhpcy50cmFuc2NyaXB0Xy5ub3Rlc0FuZFJlc3RzW2ldICE9PVxuICAgICAgICAgIGV4cGVjdGVkVHJhbnNjcmlwdC5ub3Rlc0FuZFJlc3RzW2ldKSB7XG4gICAgICAgIGhhc0luY29ycmVjdE5vdGVzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnRyYW5zY3JpcHRfLmR1cmF0aW9uc1tpXSAhPT0gZXhwZWN0ZWRUcmFuc2NyaXB0LmR1cmF0aW9uc1tpXSkge1xuICAgICAgICBoYXNJbmNvcnJlY3REdXJhdGlvbiA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChoYXNJbmNvcnJlY3ROb3Rlcykge1xuICAgICAgZmVlZGJhY2sgKz1cbiAgICAgICAgICBgU29tZSBvZiB0aGUgbm90ZXMgJHtzaXplTWlzbWF0Y2ggPyAnbWF5IGJlJyA6ICdhcmUnfSBpbmNvcnJlY3QuXFxuYDtcbiAgICB9XG4gICAgaWYgKGhhc0luY29ycmVjdER1cmF0aW9uKSB7XG4gICAgICBmZWVkYmFjayArPSBgU29tZSBvZiB0aGUgbm90ZSBkdXJhdGlvbnMgYCArXG4gICAgICAgICAgYCR7c2l6ZU1pc21hdGNoID8gJ21heSBiZScgOiAnYXJlJ30gaW5jb3JyZWN0LlxcbmA7XG4gICAgfVxuXG4gICAgLy8gQXBwZW5kIHRoZSBhY3R1YWwgYW5kIGV4cGVjdGVkIG5vdGVzIHBsYXllZC5cbiAgICBpZiAoc2l6ZU1pc21hdGNoIHx8IGhhc0luY29ycmVjdE5vdGVzIHx8IGhhc0luY29ycmVjdER1cmF0aW9uKSB7XG4gICAgICBmZWVkYmFjayArPSBgXFxuWW91ciBzb2x1dGlvbjogJHt0aGlzLnRyYW5zY3JpcHRfLnJlYWRhYmxlVGV4dH1cXG5gO1xuICAgICAgZmVlZGJhY2sgKz0gYEV4cGVjdGVkIHNvbHV0aW9uOiAke2V4cGVjdGVkVHJhbnNjcmlwdC5yZWFkYWJsZVRleHR9YDtcbiAgICB9XG4gICAgcmV0dXJuIGZlZWRiYWNrO1xuICB9XG59XG5cbi8qKlxuICogR2FtZSBsb2dpYyBmb3IgbXVzaWMgZ2FtZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE11c2ljIHtcbiAgLyoqXG4gICAqIENsYXNzIGZvciBhIG11c2ljIGdhbWUuXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqXG4gICAgICogVGhlIEJsb2NrbHkgd29ya3NwYWNlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGdhbWUuXG4gICAgICogQHR5cGUgeyFCbG9ja2x5LldvcmtzcGFjZVN2Z31cbiAgICAgKi9cbiAgICB0aGlzLndvcmtzcGFjZSA9IHRoaXMuY3JlYXRlV29ya3NwYWNlXygpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnRseSBsb2FkZWQgbGV2ZWwuIDAgaWYgbm8gbGV2ZWwgbG9hZGVkLlxuICAgICAqL1xuICAgIHRoaXMubGV2ZWwgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIEhUTUwgZWxlbWVudCBjb250YWluaW5nIHRoZSBnb2FsIHRleHQgZm9yIHRoZSBnYW1lLlxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZ29hbFRleHRFbGVtZW50XyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnb2FsVGV4dCcpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIEhUTUwgZWxlbWVudCBjb250YWluaW5nIHRoZSBmZWVkYmFjayB0ZXh0IGZvciB0aGUgZ2FtZS5cbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmZlZWRiYWNrVGV4dEVsZW1lbnRfID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlZWRiYWNrVGV4dCcpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGV4cGVjdGVkIGFuc3dlci5cbiAgICAgKiBAdHlwZSB7QXJyYXk8VHJhbnNjcmlwdD59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmV4cGVjdGVkQW5zd2VyXyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGludGVycHJldGVyLlxuICAgICAqIEB0eXBlIHs/SW50ZXJwcmV0ZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmludGVycHJldGVyXyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7QXJyYXk8U3RhdmU+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zdGF2ZXNfID0gW107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBhY3RpdmUgc3RhdmUuXG4gICAgICogQHR5cGUgez9TdGF2ZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuYWN0aXZlU3RhdmVfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRpbWUgb2Ygc3RhcnQgb2YgZXhlY3V0aW9uLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnN0YXJ0VGltZV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIDEvNjR0aHMgbm90ZXMgc2luY2UgdGhlIHN0YXJ0LlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmNsb2NrNjR0aHNfID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzcGVlZCBhdCB3aGljaCB0byBwbGF5IG5vdGVzLiBCZXR3ZWVuIDAgYW5kIDEsIHdpdGggMCBiZWluZyBzbG93LFxuICAgICAqIDAuNSBiZWluZyBub3JtYWwgc3BlZWQsIGFuZCAxIGJlaW5nIGZhc3QuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc3BlZWRfID0gMC41O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGlkIG9mIHRoZSBsYXN0IHNldFRpbWVvdXQgY2FsbC4gVXNlZCBmb3IgZ2FtZSByZXNldC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5waWRfID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBvbiBsZXZlbCBzdWNjZXNzLlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbigpfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5vblN1Y2Nlc3NDYWxsYmFja18gPSAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnU1VDQ0VTUycpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gb24gbGV2ZWwgZmFpbHVyZS5cbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oc3RyaW5nKX1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmVlZGJhY2sgVGhlIGxldmVsIGZlZWRiYWNrLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5vbkZhaWx1cmVDYWxsYmFja18gPSAoZmVlZGJhY2spID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdGQUlMVVJFJyk7XG4gICAgICBjb25zb2xlLmxvZyhmZWVkYmFjayk7XG4gICAgfTtcbiAgICB0aGlzLnJlZ2lzdGVyUGxheVNob3J0Y3V0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgc2hvcnRjdXQgdG8gcGxheSB0aGUgbm90ZXMgb24gdGhlIHdvcmtzcGFjZS5cbiAgICovXG4gIHJlZ2lzdGVyUGxheVNob3J0Y3V0KCkge1xuICAgIGNvbnN0IG5ld0Z1bmN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgICB9LmJpbmQodGhpcyk7XG4gICAgLyoqIEB0eXBlIHshQmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXR9ICovXG4gICAgY29uc3QgcGxheVNob3J0Y3V0ID0ge1xuICAgICAgbmFtZTogJ3BsYXlTaG9ydGN1dCcsXG4gICAgICBwcmVjb25kaXRpb25GbjogZnVuY3Rpb24od29ya3NwYWNlKSB7XG4gICAgICAgIHJldHVybiB3b3Jrc3BhY2Uua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZSAmJlxuICAgICAgICAgICAgIXdvcmtzcGFjZS5vcHRpb25zLnJlYWRPbmx5O1xuICAgICAgfSxcbiAgICAgIGNhbGxiYWNrOiBuZXdGdW5jdGlvbixcbiAgICB9O1xuXG4gICAgQmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnJlZ2lzdGVyKHBsYXlTaG9ydGN1dCk7XG4gICAgY29uc3Qgc2hpZnRXID0gQmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LmNyZWF0ZVNlcmlhbGl6ZWRLZXkoXG4gICAgICAgIEJsb2NrbHkudXRpbHMuS2V5Q29kZXMuUCwgW0Jsb2NrbHkudXRpbHMuS2V5Q29kZXMuU0hJRlRdKTtcbiAgICBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuYWRkS2V5TWFwcGluZyhcbiAgICAgICAgc2hpZnRXLCBwbGF5U2hvcnRjdXQubmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIEJsb2NrbHkgd29ya3NwYWNlLlxuICAgKiBAcmV0dXJuIHshQmxvY2tseS5Xb3Jrc3BhY2VTdmd9IFRoZSBCbG9ja2x5IHdvcmtzcGFjZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNyZWF0ZVdvcmtzcGFjZV8oKSB7XG4gICAgLy8gSW5pdGlhbGl6ZSBCbG9ja2x5IHdvcmtzcGFjZS5cbiAgICBjb25zdCBibG9ja2x5RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jsb2NrbHlEaXYnKTtcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSBCbG9ja2x5LmluamVjdChibG9ja2x5RGl2LCB7XG4gICAgICB0b29sYm94OiB0b29sYm94UGl0Y2gsXG4gICAgfSk7XG4gICAgQmxvY2tseS5BU1ROb2RlLk5BVklHQVRFX0FMTF9GSUVMRFMgPSB0cnVlO1xuICAgIHdvcmtzcGFjZS5nZXRNYXJrZXJNYW5hZ2VyKCkuc2V0Q3Vyc29yKG5ldyBDdXN0b21DdXJzb3IoKSk7XG4gICAgd29ya3NwYWNlLmFkZENoYW5nZUxpc3RlbmVyKChldmVudCkgPT4gc3BlYWtlci5ub2RlVG9TcGVlY2goZXZlbnQpKTtcbiAgICB3b3Jrc3BhY2UuZ2V0Rmx5b3V0KCkuZ2V0V29ya3NwYWNlKCkuYWRkQ2hhbmdlTGlzdGVuZXIoXG4gICAgICAgIChldmVudCkgPT4gc3BlYWtlci5ub2RlVG9TcGVlY2goZXZlbnQpKTtcbiAgICByZXR1cm4gd29ya3NwYWNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHdvcmtzcGFjZSBiZWxvbmdpbmcgdG8gdGhpcyBnYW1lLlxuICAgKiBAcmV0dXJuIHtCbG9ja2x5LldvcmtzcGFjZVN2Z30gVGhlIHdvcmtzcGFjZSBiZWxvbmdpbmcgdG8gdGhpcyBnYW1lLlxuICAgKi9cbiAgZ2V0V29ya3NwYWNlKCkge1xuICAgIHJldHVybiB0aGlzLndvcmtzcGFjZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnb2FsIHRleHQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHRvIHNldCB0aGUgZ29hbCB0by5cbiAgICovXG4gIHNldEdvYWxUZXh0KHRleHQpIHtcbiAgICB0aGlzLmdvYWxUZXh0RWxlbWVudF8uaW5uZXJIVE1MID0gdGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBmZWVkYmFjayB0ZXh0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBzZXQgdGhlIGZlZWRiYWNrIHRvLlxuICAgKi9cbiAgc2V0RmVlZGJhY2tUZXh0KHRleHQpIHtcbiAgICB0aGlzLmZlZWRiYWNrVGV4dEVsZW1lbnRfLmlubmVySFRNTCA9IHRleHQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgYmVoYXZpb3VyIG9uIHN1Y2Nlc3MuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gb25TdWNjZXNzQ2FsbGJhY2sgVGhlIG9uIHN1Y2Nlc3MgY2FsbGJhY2suIFRoZSBsZXZlbFxuICAgKiAgICBjb2RlIGlzIHBhc3NlZCBpbiBhcyBwYXJhbWV0ZXIuXG4gICAqL1xuICBzZXRPblN1Y2Nlc3NDYWxsYmFjayhvblN1Y2Nlc3NDYWxsYmFjaykge1xuICAgIHRoaXMub25TdWNjZXNzQ2FsbGJhY2tfID0gb25TdWNjZXNzQ2FsbGJhY2s7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgYmVoYXZpb3VyIG9uIGZhaWx1cmUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nKX0gb25GYWlsdXJlQ2FsbGJhY2sgVGhlIG9uIGZhaWx1cmUgY2FsbGJhY2suIExldmVsXG4gICAqICAgIGZlZWRiYWNrIGlzIHBhc3NlZCBpbiBhcyBwYXJhbWV0ZXIuXG4gICAqL1xuICBzZXRPbkZhaWx1cmVDYWxsYmFjayhvbkZhaWx1cmVDYWxsYmFjaykge1xuICAgIHRoaXMub25GYWlsdXJlQ2FsbGJhY2tfID0gb25GYWlsdXJlQ2FsbGJhY2s7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIHRoZSB3b3Jrc3BhY2UgYW5kIGxvYWRzIHRoZSBzcGVjaWZpZWQgYmxvY2tzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYmxvY2tYbWwgVGhlIHhtbCB0ZXh0IHN0cmluZyBvZiBibG9ja3MuXG4gICAqL1xuICBsb2FkV29ya3NwYWNlQmxvY2tzKGJsb2NrWG1sKSB7XG4gICAgdGhpcy53b3Jrc3BhY2UuY2xlYXIoKTtcbiAgICBCbG9ja2x5LlhtbC5kb21Ub1dvcmtzcGFjZShcbiAgICAgICAgQmxvY2tseS5YbWwudGV4dFRvRG9tKGJsb2NrWG1sKSwgdGhpcy53b3Jrc3BhY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGN1cnJlbnRseSBsb2FkZWQgdG9vbGJveC5cbiAgICogQHBhcmFtIHs/QmxvY2tseS51dGlscy50b29sYm94LlRvb2xib3hEZWZpbml0aW9ufSB0b29sYm94RGVmXG4gICAqICAgIERPTSB0cmVlIG9mIHRvb2xib3ggY29udGVudHMsIHN0cmluZyBvZiB0b29sYm94IGNvbnRlbnRzLCBvciBKU09OXG4gICAqICAgIHJlcHJlc2VudGluZyB0b29sYm94IGRlZmluaXRpb24uXG4gICAqL1xuICB1cGRhdGVUb29sYm94KHRvb2xib3hEZWYpIHtcbiAgICB0aGlzLndvcmtzcGFjZS51cGRhdGVUb29sYm94KHRvb2xib3hEZWYpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGdvYWwgYmFzZWQgb24gdGhlIGN1cnJlbnQgbGV2ZWwuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB1cGRhdGVMZXZlbEdvYWxfKCkge1xuICAgIGxldCBnb2FsVGV4dCA9ICcnO1xuICAgIHN3aXRjaCAodGhpcy5sZXZlbCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICBnb2FsVGV4dCA9ICdQbGF5IGM0IGQ0IGU0IGM0JztcbiAgICAgICAgdGhpcy5leHBlY3RlZEFuc3dlcl8gPVxuICAgICAgICAgICAgW25ldyBUcmFuc2NyaXB0KFsnQzQnLCAnRDQnLCAnRTQnLCAnQzQnXSwgQXJyYXkoNCkuZmlsbCgwLjI1KSldO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5zZXRHb2FsVGV4dChnb2FsVGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdG9vbGJveCBiYXNlZCBvbiB0aGUgY3VycmVudCBsZXZlbC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHVwZGF0ZUxldmVsVG9vbGJveF8oKSB7XG4gICAgY29uc3QgdG9vbGJveEpzb24gPSB7XG4gICAgICAna2luZCc6ICdmbHlvdXRUb29sYm94JyxcbiAgICAgICdjb250ZW50cyc6IFtcbiAgICAgICAge1xuICAgICAgICAgICdraW5kJzogJ2Jsb2NrJyxcbiAgICAgICAgICAnYmxvY2t4bWwnOiBgPGJsb2NrIHR5cGU9XCJtdXNpY19ub3RlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZmllbGQgbmFtZT1cIkRVUkFUSU9OXCI+MC4yNTwvZmllbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cIlBJVENIXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzaGFkb3cgdHlwZT1cIm11c2ljX3BpdGNoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJQSVRDSFwiPkM0PC9maWVsZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zaGFkb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3ZhbHVlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYmxvY2s+YCxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICdraW5kJzogJ2Jsb2NrJyxcbiAgICAgICAgICAndHlwZSc6ICdtdXNpY19yZXN0JyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfTtcbiAgICB0aGlzLnVwZGF0ZVRvb2xib3godG9vbGJveEpzb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgd29ya3NwYWNlIGJsb2NrcyBiYXNlZCBvbiB0aGUgY3VycmVudCBsZXZlbC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGxvYWRMZXZlbEJsb2Nrc18oKSB7XG4gICAgY29uc3QgbGV2ZWxYbWwgPVxuICAgICAgICBgPHhtbD5cbiAgICAgICAgICAgIDxibG9jayB0eXBlPVwibXVzaWNfc3RhcnRcIiBkZWxldGFibGU9XCJmYWxzZVwiIHg9XCIxODBcIlxuICAgICAgICAgICAgeT1cIjUwXCI+PC9ibG9jaz5cbiAgICAgICAgICA8L3htbD5gO1xuICAgIHRoaXMubG9hZFdvcmtzcGFjZUJsb2NrcyhsZXZlbFhtbCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCB0aGUgc3BlY2lmaWVkIGxldmVsLlxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IGxldmVsIFRoZSBsZXZlbCB0byBsb2FkLlxuICAgKi9cbiAgbG9hZExldmVsKGxldmVsKSB7XG4gICAgdGhpcy5sZXZlbCA9IE51bWJlcihsZXZlbCk7XG4gICAgdGhpcy51cGRhdGVMZXZlbEdvYWxfKCk7XG4gICAgdGhpcy51cGRhdGVMZXZlbFRvb2xib3hfKCk7XG4gICAgdGhpcy5sb2FkTGV2ZWxCbG9ja3NfKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzcGVlZCAoTnVtYmVyIGJldHdlZW4gMCBhbmQgMSkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzcGVlZCBUaGUgc3BlZWQgdG8gc2V0IHRvLlxuICAgKi9cbiAgc2V0U3BlZWQoc3BlZWQpIHtcbiAgICBpZiAoc3BlZWQgPD0gMCB8fCBzcGVlZCA+IDEpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgc3BlZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zcGVlZF8gPSBzcGVlZDtcbiAgICB0aGlzLnN0YXJ0VGltZV8gPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBjb2RlIGFuZCBsb2dzIGl0IHRvIHRoZSBjb25zb2xlLlxuICAgKi9cbiAgbG9nR2VuZXJhdGVkQ29kZSgpIHtcbiAgICBjb25zdCBjb2RlSnMgPSBCbG9ja2x5LkphdmFTY3JpcHQud29ya3NwYWNlVG9Db2RlKHRoaXMud29ya3NwYWNlKTtcbiAgICBjb25zb2xlLmxvZyhjb2RlSnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHRoZSBtdXNpYyB0byB0aGUgc3RhcnQgcG9zaXRpb24sIGNsZWFyIHRoZSBkaXNwbGF5LCBhbmQga2lsbCBhbnlcbiAgICogcGVuZGluZyB0YXNrcy5cbiAgICovXG4gIHJlc2V0KCkge1xuICAgIC8vIEtpbGwgYW55IHRhc2suXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMucGlkXyk7XG4gICAgdGhpcy5zdGF2ZXNfLmZvckVhY2goKHN0YXZlKSA9PiB7XG4gICAgICBzdGF2ZS5zdG9wU291bmQoKTtcbiAgICB9KTtcbiAgICB0aGlzLmludGVycHJldGVyXyA9IG51bGw7XG4gICAgdGhpcy5hY3RpdmVTdGF2ZV8gPSBudWxsO1xuICAgIHRoaXMuc3RhdmVzXy5sZW5ndGggPSAwO1xuICAgIHRoaXMuY2xvY2s2NHRoc18gPSAwO1xuICAgIHRoaXMuc3RhcnRUaW1lXyA9IDA7XG4gICAgdGhpcy5zZXRGZWVkYmFja1RleHQoJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBsYXlzIG11c2ljIGJhc2VkIG9uIHRoZSBibG9ja3Mgb24gdGhlIHdvcmtzcGFjZS5cbiAgICovXG4gIGV4ZWN1dGUoKSB7XG4gICAgdGhpcy5yZXNldCgpO1xuICAgIC8vIEdldCBnZW5lcmF0ZWQgY29kZSBmcm9tIHdvcmtzcGFjZVxuICAgIGNvbnN0IGNvZGUgPSBCbG9ja2x5LkphdmFTY3JpcHQud29ya3NwYWNlVG9Db2RlKHRoaXMud29ya3NwYWNlKTtcblxuICAgIC8vIFJ1biB1c2VyIGNvZGUuXG4gICAgdGhpcy5pbnRlcnByZXRlcl8gPSBuZXcgSW50ZXJwcmV0ZXIoY29kZSwgdGhpcy5pbnRlcnByZXRlckluaXRfLmJpbmQodGhpcykpO1xuICAgIC8vIFRPRE8gYWRkIHN1cHBvcnQgZm9yIG11bHRpcGxlIHRocmVhZHMuXG4gICAgY29uc3QgaW50ZXJwcmV0ZXIgPSBuZXcgSW50ZXJwcmV0ZXIoJycpO1xuICAgIC8vIFJlcGxhY2UgdGhpcyB0aHJlYWQncyBnbG9iYWwgc2NvcGUgd2l0aCB0aGUgY3Jvc3MtdGhyZWFkIGdsb2JhbC5cbiAgICBpbnRlcnByZXRlci5zdGF0ZVN0YWNrWzBdLnNjb3BlID0gdGhpcy5pbnRlcnByZXRlcl8uZ2xvYmFsU2NvcGU7XG4gICAgLy8gQWRkIHN0YXJ0IGNhbGwuXG4gICAgaW50ZXJwcmV0ZXIuYXBwZW5kQ29kZSgnc3RhcnQoKTtcXG4nKTtcbiAgICB0aGlzLnN0YXZlc18ucHVzaChuZXcgU3RhdmUoMCwgaW50ZXJwcmV0ZXIuc3RhdGVTdGFjaykpO1xuXG4gICAgdGhpcy5waWRfID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLnRpY2tfKCksIDEwMCk7XG4gIH1cblxuICAvKipcbiAgICogSW5qZWN0IHRoZSBNdXNpYyBBUEkgaW50byBhIEphdmFTY3JpcHQgaW50ZXJwcmV0ZXIuXG4gICAqIEBwYXJhbSB7IUludGVycHJldGVyfSBpbnRlcnByZXRlciBUaGUgSlMtSW50ZXJwcmV0ZXIuXG4gICAqIEBwYXJhbSB7IUludGVycHJldGVyLk9iamVjdH0gZ2xvYmFsT2JqZWN0IEdsb2JhbCBvYmplY3QuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpbnRlcnByZXRlckluaXRfKGludGVycHJldGVyLCBnbG9iYWxPYmplY3QpIHtcbiAgICAvLyBBUElcbiAgICBsZXQgd3JhcHBlcjtcbiAgICB3cmFwcGVyID0gKGR1cmF0aW9uLCBwaXRjaCwgX2lkKSA9PiB7XG4gICAgICB0aGlzLnBsYXlfKGR1cmF0aW9uLCBwaXRjaCk7XG4gICAgfTtcbiAgICBpbnRlcnByZXRlci5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICdwbGF5JyxcbiAgICAgICAgaW50ZXJwcmV0ZXIuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlcikpO1xuICAgIHdyYXBwZXIgPSAoZHVyYXRpb24sIF9pZCkgPT4ge1xuICAgICAgdGhpcy5yZXN0XyhkdXJhdGlvbik7XG4gICAgfTtcbiAgICBpbnRlcnByZXRlci5zZXRQcm9wZXJ0eShnbG9iYWxPYmplY3QsICdyZXN0JyxcbiAgICAgICAgaW50ZXJwcmV0ZXIuY3JlYXRlTmF0aXZlRnVuY3Rpb24od3JhcHBlcikpO1xuXG4gICAgLy8gVE9ETyBpbXBsZW1lbnQgc2V0SW5zdHJ1bWVudCBBUEkuXG4gIH1cblxuICAvKipcbiAgICogUGxheSBvbmUgbm90ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uIEZyYWN0aW9uIG9mIGEgd2hvbGUgbm90ZSBsZW5ndGggdG8gcGxheS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBpdGNoIE5vdGUgcGxheS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHBsYXlfKGR1cmF0aW9uLCBwaXRjaCkge1xuICAgIHRoaXMuYWN0aXZlU3RhdmVfLnBsYXkoZHVyYXRpb24sIHBpdGNoLCB0aGlzLmNsb2NrNjR0aHNfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWl0IG9uZSByZXN0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gRnJhY3Rpb24gb2YgYSB3aG9sZSBub3RlIGxlbmd0aCB0byByZXN0LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVzdF8oZHVyYXRpb24pIHtcbiAgICB0aGlzLmFjdGl2ZVN0YXZlXy5yZXN0KGR1cmF0aW9uLCB0aGlzLmNsb2NrNjR0aHNfKTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZSBhIDEvNjR0aCB0aWNrIG9mIHRoZSBwcm9ncmFtLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGlja18oKSB7XG4gICAgLy8gRGVsYXkgYmV0d2VlbiBzdGFydCBvZiBlYWNoIGJlYXQgKDEvNjR0aHMgb2YgYSB3aG9sZSBub3RlKS5cbiAgICAvLyBSZW1pbmRlcjogVGhlIHN0YXJ0VGltZV8gc2hvdWxkIGJlIHJlc2V0IGFmdGVyIHRoZSBzbGlkZXIgaXMgYWRqdXN0ZWQuXG4gICAgY29uc3Qgc2NhbGVEdXJhdGlvbiA9IDEwMDAgKiAoMi41IC0gMiAqIHRoaXMuc3BlZWRfKSAvIDY0O1xuICAgIGlmICghdGhpcy5zdGFydFRpbWVfKSB7XG4gICAgICAvLyBFaXRoZXIgdGhlIGZpcnN0IHRpY2ssIG9yIGZpcnN0IHRpY2sgYWZ0ZXIgc2xpZGVyIHdhcyBhZGp1c3RlZC5cbiAgICAgIHRoaXMuc3RhcnRUaW1lXyA9IERhdGUubm93KCkgLSB0aGlzLmNsb2NrNjR0aHNfICogc2NhbGVEdXJhdGlvbjtcbiAgICB9XG4gICAgbGV0IGRvbmUgPSB0cnVlO1xuICAgIHRoaXMuc3RhdmVzXy5mb3JFYWNoKChzdGF2ZSkgPT4ge1xuICAgICAgaWYgKCFzdGF2ZS5kb25lKSB7XG4gICAgICAgIGRvbmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFzdGF2ZS5pc1BhdXNlZCh0aGlzLmNsb2NrNjR0aHNfKSkge1xuICAgICAgICAgIHRoaXMuZXhlY3V0ZUNodW5rXyhzdGF2ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChkb25lKSB7XG4gICAgICAvLyBQcm9ncmFtIGNvbXBsZXRlLlxuICAgICAgY29uc3QgZmVlZGJhY2sgPSB0aGlzLmNoZWNrQW5zd2VyXygpO1xuICAgICAgaWYgKGZlZWRiYWNrKSB7XG4gICAgICAgIHRoaXMub25GYWlsdXJlQ2FsbGJhY2tfKGZlZWRiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub25TdWNjZXNzQ2FsbGJhY2tfKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xvY2s2NHRoc18rKztcbiAgICAgIGNvbnN0IG1zID1cbiAgICAgICAgICAodGhpcy5zdGFydFRpbWVfICsgdGhpcy5jbG9jazY0dGhzXyAqIHNjYWxlRHVyYXRpb24pIC0gRGF0ZS5ub3coKTtcbiAgICAgIHRoaXMucGlkXyA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy50aWNrXygpLCBtcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBiaXRlLXNpemVkIGNodW5rIG9mIHRoZSB1c2VyJ3MgY29kZS5cbiAgICogQHBhcmFtIHtTdGF2ZX0gc3RhdmUgVGhlIHN0YXZlIHRvIGV4ZWN1dGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBleGVjdXRlQ2h1bmtfKHN0YXZlKSB7XG4gICAgdGhpcy5hY3RpdmVTdGF2ZV8gPSBzdGF2ZTtcbiAgICAvLyBTd2l0Y2ggdGhlIGludGVycHJldGVyIHRvIHJ1biB0aGUgcHJvdmlkZWQgc3RhZmYuXG4gICAgdGhpcy5pbnRlcnByZXRlcl8uc3RhdGVTdGFjayA9IHN0YXZlLnN0YXRlU3RhY2s7XG4gICAgbGV0IHRpY2tzID0gMTAwMDA7XG4gICAgbGV0IGdvO1xuICAgIGRvIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGdvID0gdGhpcy5pbnRlcnByZXRlcl8uc3RlcCgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBVc2VyIGVycm9yLCB0ZXJtaW5hdGUgaW4gc2hhbWUuXG4gICAgICAgIGFsZXJ0KGUpO1xuICAgICAgICBnbyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHRpY2tzLS0gPT0gMCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1N0YWZmICcgKyBzdGF2ZS5pZCArICcgaXMgcnVubmluZyBzbG93bHkuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF2ZS5pc1BhdXNlZCh0aGlzLmNsb2NrNjR0aHNfKSkge1xuICAgICAgICAvLyBQcmV2aW91c2x5IGV4ZWN1dGVkIGNvbW1hbmQgKHBsYXkgb3IgcmVzdCkgcmVxdWVzdGVkIGEgcGF1c2UuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IHdoaWxlIChnbyk7XG4gICAgLy8gVGhyZWFkIGNvbXBsZXRlLiAgV3JhcCB1cC5cbiAgICBzdGF2ZS5zdG9wU291bmQoc3RhdmUpO1xuICAgIHN0YXZlLmRvbmUgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2YWx1YXRlcyB3aGV0aGVyIHRoZSBhbnN3ZXIgZm9yIHRoZSBjdXJyZW50bHkgbG9hZGVkIGxldmVsIGlzIGNvcnJlY3QuXG4gICAqIFJldHVybnMgbGV2ZWwgZmVlZGJhY2sgaWYgY29ycmVjdCBvciBlbXB0eSBzdHJpbmcgaWYgY29ycmVjdC5cbiAgICogQHJldHVybiB7c3RyaW5nfSBMZXZlbCBmZWVkYmFjayBvciBlbXB0eSBzdHJpbmcuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjaGVja0Fuc3dlcl8oKSB7XG4gICAgbGV0IGZlZWRiYWNrID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV4cGVjdGVkQW5zd2VyXy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc3RhdmVGZWVkYmFjayA9XG4gICAgICAgICAgdGhpcy5zdGF2ZXNfW2ldLmdldEZlZWRiYWNrKHRoaXMuZXhwZWN0ZWRBbnN3ZXJfW2ldKTtcbiAgICAgIGlmIChzdGF2ZUZlZWRiYWNrKSB7XG4gICAgICAgIGZlZWRiYWNrICs9IHN0YXZlRmVlZGJhY2s7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmZWVkYmFjaztcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/music.js\n");

/***/ }),

/***/ "./src/music_blocks.js":
/*!*****************************!*\
  !*** ./src/music_blocks.js ***!
  \*****************************/
/*! exports provided: toolboxPitch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toolboxPitch\", function() { return toolboxPitch; });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _field_pitch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./field_pitch */ \"./src/field_pitch.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Blocks for the accessible music demo.\n */\n\n\nvar mediaPrefix = 'https://raw.githubusercontent.com/google/blockly-games/master/appengine/';\n/* eslint-disable quotes */\n\nblockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.defineBlocksWithJsonArray([{\n  \"type\": \"pitch_test\",\n  \"message0\": 'pitch test: %1',\n  \"args0\": [{\n    \"type\": \"field_pitch\",\n    \"name\": \"PITCH\"\n  }],\n  \"output\": null,\n  \"colour\": 160\n}, {\n  \"type\": \"music_pitch\",\n  \"message0\": \"%1\",\n  \"args0\": [{\n    \"type\": \"field_pitch\",\n    \"name\": \"PITCH\"\n  }],\n  \"output\": \"String\",\n  \"colourPrimary\": 160\n}, {\n  \"type\": \"music_note\",\n  \"message0\": 'play %1 note %2',\n  \"args0\": [{\n    \"type\": \"field_dropdown\",\n    \"name\": \"DURATION\",\n    \"options\": [[{\n      \"src\": mediaPrefix + \"music/note1.png\",\n      \"width\": 9,\n      \"height\": 19,\n      \"alt\": \"whole\"\n    }, \"1\"], [{\n      \"src\": mediaPrefix + \"music/note0.5.png\",\n      \"width\": 9,\n      \"height\": 19,\n      \"alt\": \"half\"\n    }, \"0.5\"], [{\n      \"src\": mediaPrefix + \"music/note0.25.png\",\n      \"width\": 9,\n      \"height\": 19,\n      \"alt\": \"quarter\"\n    }, \"0.25\"], [{\n      \"src\": mediaPrefix + \"music/note0.125.png\",\n      \"width\": 9,\n      \"height\": 19,\n      \"alt\": \"eighth\"\n    }, \"0.125\"], [{\n      \"src\": mediaPrefix + \"music/note0.0625.png\",\n      \"width\": 9,\n      \"height\": 19,\n      \"alt\": \"sixteenth\"\n    }, \"0.0625\"]]\n  }, {\n    \"type\": \"input_value\",\n    \"name\": \"PITCH\",\n    \"check\": \"String\"\n  }],\n  \"inputsInline\": true,\n  \"previousStatement\": null,\n  \"nextStatement\": null,\n  \"colour\": 160,\n  \"tooltip\": 'Music_playNoteTooltip'\n}, {\n  \"type\": \"music_rest_whole\",\n  \"message0\": 'rest %1',\n  \"args0\": [{\n    \"type\": \"field_image\",\n    \"src\": mediaPrefix + \"music/rest1.png\",\n    \"width\": 10,\n    \"height\": 20,\n    \"alt\": \"-\"\n  }],\n  \"inputsInline\": true,\n  \"previousStatement\": null,\n  \"nextStatement\": null,\n  \"colour\": 160,\n  \"tooltip\": 'Music_restWholeTooltip'\n}, {\n  \"type\": \"music_rest\",\n  \"message0\": 'rest %1',\n  \"args0\": [{\n    \"type\": \"field_dropdown\",\n    \"name\": \"DURATION\",\n    \"options\": [[{\n      \"src\": mediaPrefix + \"music/rest1.png\",\n      \"width\": 10,\n      \"height\": 20,\n      \"alt\": \"whole\"\n    }, \"1\"], [{\n      \"src\": mediaPrefix + \"music/rest0.5.png\",\n      \"width\": 10,\n      \"height\": 20,\n      \"alt\": \"half\"\n    }, \"0.5\"], [{\n      \"src\": mediaPrefix + \"music/rest0.25.png\",\n      \"width\": 10,\n      \"height\": 20,\n      \"alt\": \"quarter\"\n    }, \"0.25\"], [{\n      \"src\": mediaPrefix + \"music/rest0.125.png\",\n      \"width\": 10,\n      \"height\": 20,\n      \"alt\": \"eighth\"\n    }, \"0.125\"], [{\n      \"src\": mediaPrefix + \"music/rest0.0625.png\",\n      \"width\": 10,\n      \"height\": 20,\n      \"alt\": \"sixteenth\"\n    }, \"0.0625\"]]\n  }],\n  \"inputsInline\": true,\n  \"previousStatement\": null,\n  \"nextStatement\": null,\n  \"colour\": 160,\n  \"tooltip\": 'Music_restTooltip'\n}, {\n  \"type\": \"music_instrument\",\n  \"message0\": 'set instrument to %1',\n  \"args0\": [{\n    \"type\": \"field_dropdown\",\n    \"name\": \"INSTRUMENT\",\n    \"options\": [['Music_piano', \"piano\"], ['Music_trumpet', \"trumpet\"], ['Music_banjo', \"banjo\"], ['Music_violin', \"violin\"], ['Music_guitar', \"guitar\"], ['Music_flute', \"flute\"], ['Music_drum', \"drum\"], ['Music_choir', \"choir\"]]\n  }],\n  \"inputsInline\": true,\n  \"previousStatement\": null,\n  \"nextStatement\": null,\n  \"colour\": 160,\n  \"tooltip\": 'Music_setInstrumentTooltip'\n}, {\n  \"type\": \"music_start\",\n  \"message0\": 'when shift p pressed',\n  \"message1\": \"%1\",\n  \"args1\": [{\n    \"type\": \"input_statement\",\n    \"name\": \"STACK\"\n  }],\n  \"colour\": 0,\n  \"tooltip\": 'Music_startTooltip'\n}]);\nvar toolboxPitch = {\n  \"kind\": \"flyoutToolbox\",\n  \"contents\": [{\n    \"kind\": \"block\",\n    \"blockxml\": \"<block type='music_note'><value name='PITCH'><shadow type='music_pitch'></shadow></value></block>\"\n  }, {\n    \"kind\": \"block\",\n    \"type\": \"pitch_test\"\n  }, {\n    \"kind\": \"block\",\n    \"type\": \"music_pitch\"\n  }, {\n    \"kind\": \"block\",\n    \"type\": \"music_note\"\n  }, {\n    \"kind\": \"block\",\n    \"type\": \"music_rest_whole\"\n  }, {\n    \"kind\": \"block\",\n    \"type\": \"music_rest\"\n  }, {\n    \"kind\": \"block\",\n    \"type\": \"music_instrument\"\n  }, {\n    \"kind\": \"block\",\n    \"type\": \"music_start\"\n  }]\n};\n/* eslint-enable quotes *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbXVzaWNfYmxvY2tzLmpzPzQ3NzUiXSwibmFtZXMiOlsibWVkaWFQcmVmaXgiLCJCbG9ja2x5IiwiZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheSIsInRvb2xib3hQaXRjaCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBLElBQU1BLFdBQVcsR0FDYiwwRUFESjtBQUdBOztBQUNBQyxtREFBTyxDQUFDQyx5QkFBUixDQUFrQyxDQUNoQztBQUNFLFVBQVEsWUFEVjtBQUVFLGNBQVksZ0JBRmQ7QUFHRSxXQUFTLENBQ1A7QUFDRSxZQUFRLGFBRFY7QUFFRSxZQUFRO0FBRlYsR0FETyxDQUhYO0FBU0UsWUFBVSxJQVRaO0FBVUUsWUFBVTtBQVZaLENBRGdDLEVBYWhDO0FBQ0UsVUFBUSxhQURWO0FBRUUsY0FBWSxJQUZkO0FBR0UsV0FBUyxDQUNQO0FBQ0UsWUFBUSxhQURWO0FBRUUsWUFBUTtBQUZWLEdBRE8sQ0FIWDtBQVNFLFlBQVUsUUFUWjtBQVVFLG1CQUFpQjtBQVZuQixDQWJnQyxFQXlCaEM7QUFDRSxVQUFRLFlBRFY7QUFFRSxjQUFZLGlCQUZkO0FBR0UsV0FBUyxDQUNQO0FBQ0UsWUFBUSxnQkFEVjtBQUVFLFlBQVEsVUFGVjtBQUdFLGVBQVcsQ0FDVCxDQUFDO0FBQ0MsYUFBT0YsV0FBVyxHQUFHLGlCQUR0QjtBQUVDLGVBQVMsQ0FGVjtBQUVhLGdCQUFVLEVBRnZCO0FBRTJCLGFBQU87QUFGbEMsS0FBRCxFQUdHLEdBSEgsQ0FEUyxFQUtULENBQUM7QUFDQyxhQUFPQSxXQUFXLEdBQUcsbUJBRHRCO0FBRUMsZUFBUyxDQUZWO0FBRWEsZ0JBQVUsRUFGdkI7QUFFMkIsYUFBTztBQUZsQyxLQUFELEVBR0csS0FISCxDQUxTLEVBU1QsQ0FBQztBQUNDLGFBQU9BLFdBQVcsR0FBRyxvQkFEdEI7QUFF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LEdBRE8sQ0FIWDtBQW1CRSxrQkFBZ0IsSUFuQmxCO0FBb0JFLHVCQUFxQixJQXBCdkI7QUFxQkUsbUJBQWlCLElBckJuQjtBQXNCRSxZQUFVLEdBdEJaO0FBdUJFLGFBQVc7QUF2QmIsQ0ExSGdDLEVBbUpoQztBQUNFLFVBQVEsYUFEVjtBQUVFLGNBQVksc0JBRmQ7QUFHRSxjQUFZLElBSGQ7QUFJRSxXQUFTLENBQ1A7QUFDRSxZQUFRLGlCQURWO0FBRUUsWUFBUTtBQUZWLEdBRE8sQ0FKWDtBQVVFLFlBQVUsQ0FWWjtBQVdFLGFBQVc7QUFYYixDQW5KZ0MsQ0FBbEM7QUFrS08sSUFBTUcsWUFBWSxHQUFHO0FBQzFCLFVBQVEsZUFEa0I7QUFFMUIsY0FBWSxDQUNWO0FBQ0UsWUFBUSxPQURWO0FBRUUsZ0JBQVk7QUFGZCxHQURVLEVBS1Y7QUFDRSxZQUFRLE9BRFY7QUFFRSxZQUFRO0FBRlYsR0FMVSxFQVVWO0FBQ0UsWUFBUSxPQURWO0FBRUUsWUFBUTtBQUZWLEdBVlUsRUFjVjtBQUNFLFlBQVEsT0FEVjtBQUVFLFlBQVE7QUFGVixHQWRVLEVBa0JWO0FBQ0UsWUFBUSxPQURWO0FBRUUsWUFBUTtBQUZWLEdBbEJVLEVBc0JWO0FBQ0UsWUFBUSxPQURWO0FBRUUsWUFBUTtBQUZWLEdBdEJVLEVBMEJWO0FBQ0UsWUFBUSxPQURWO0FBRUUsWUFBUTtBQUZWLEdBMUJVLEVBOEJWO0FBQ0UsWUFBUSxPQURWO0FBRUUsWUFBUTtBQUZWLEdBOUJVO0FBRmMsQ0FBckI7QUF1Q1AiLCJmaWxlIjoiLi9zcmMvbXVzaWNfYmxvY2tzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQmxvY2tzIGZvciB0aGUgYWNjZXNzaWJsZSBtdXNpYyBkZW1vLlxuICovXG5cbmltcG9ydCBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5pbXBvcnQgJy4vZmllbGRfcGl0Y2gnO1xuXG5jb25zdCBtZWRpYVByZWZpeCA9XG4gICAgJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9nb29nbGUvYmxvY2tseS1nYW1lcy9tYXN0ZXIvYXBwZW5naW5lLyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIHF1b3RlcyAqL1xuQmxvY2tseS5kZWZpbmVCbG9ja3NXaXRoSnNvbkFycmF5KFtcbiAge1xuICAgIFwidHlwZVwiOiBcInBpdGNoX3Rlc3RcIixcbiAgICBcIm1lc3NhZ2UwXCI6ICdwaXRjaCB0ZXN0OiAlMScsXG4gICAgXCJhcmdzMFwiOiBbXG4gICAgICB7XG4gICAgICAgIFwidHlwZVwiOiBcImZpZWxkX3BpdGNoXCIsXG4gICAgICAgIFwibmFtZVwiOiBcIlBJVENIXCIsXG4gICAgICB9LFxuICAgIF0sXG4gICAgXCJvdXRwdXRcIjogbnVsbCxcbiAgICBcImNvbG91clwiOiAxNjAsXG4gIH0sXG4gIHtcbiAgICBcInR5cGVcIjogXCJtdXNpY19waXRjaFwiLFxuICAgIFwibWVzc2FnZTBcIjogXCIlMVwiLFxuICAgIFwiYXJnczBcIjogW1xuICAgICAge1xuICAgICAgICBcInR5cGVcIjogXCJmaWVsZF9waXRjaFwiLFxuICAgICAgICBcIm5hbWVcIjogXCJQSVRDSFwiLFxuICAgICAgfSxcbiAgICBdLFxuICAgIFwib3V0cHV0XCI6IFwiU3RyaW5nXCIsXG4gICAgXCJjb2xvdXJQcmltYXJ5XCI6IDE2MCxcbiAgfSxcbiAge1xuICAgIFwidHlwZVwiOiBcIm11c2ljX25vdGVcIixcbiAgICBcIm1lc3NhZ2UwXCI6ICdwbGF5ICUxIG5vdGUgJTInLFxuICAgIFwiYXJnczBcIjogW1xuICAgICAge1xuICAgICAgICBcInR5cGVcIjogXCJmaWVsZF9kcm9wZG93blwiLFxuICAgICAgICBcIm5hbWVcIjogXCJEVVJBVElPTlwiLFxuICAgICAgICBcIm9wdGlvbnNcIjogW1xuICAgICAgICAgIFt7XG4gICAgICAgICAgICBcInNyY1wiOiBtZWRpYVByZWZpeCArIFwibXVzaWMvbm90ZTEucG5nXCIsXG4gICAgICAgICAgICBcIndpZHRoXCI6IDksIFwiaGVpZ2h0XCI6IDE5LCBcImFsdFwiOiBcIndob2xlXCIsXG4gICAgICAgICAgfSwgXCIxXCJdLFxuICAgICAgICAgIFt7XG4gICAgICAgICAgICBcInNyY1wiOiBtZWRpYVByZWZpeCArIFwibXVzaWMvbm90ZTAuNS5wbmdcIixcbiAgICAgICAgICAgIFwid2lkdGhcIjogOSwgXCJoZWlnaHRcIjogMTksIFwiYWx0XCI6IFwiaGFsZlwiLFxuICAgICAgICAgIH0sIFwiMC41XCJdLFxuICAgICAgICAgIFt7XG4gICAgICAgICAgICBcInNyY1wiOiBtZWRpYVByZWZpeCArIFwibXVzaWMvbm90ZTAuMjUucG5nXCIsXG4gICAgICAgICAgICBcIndpZHRoXCI6IDksIFwiaGVpZ2h0XCI6IDE5LCBcImFsdFwiOiBcInF1YXJ0ZXJcIixcbiAgICAgICAgICB9LCBcIjAuMjVcIl0sXG4gICAgICAgICAgW3tcbiAgICAgICAgICAgIFwic3JjXCI6IG1lZGlhUHJlZml4ICsgXCJtdXNpYy9ub3RlMC4xMjUucG5nXCIsXG4gICAgICAgICAgICBcIndpZHRoXCI6IDksIFwiaGVpZ2h0XCI6IDE5LCBcImFsdFwiOiBcImVpZ2h0aFwiLFxuICAgICAgICAgIH0sIFwiMC4xMjVcIl0sXG4gICAgICAgICAgW3tcbiAgICAgICAgICAgIFwic3JjXCI6IG1lZGlhUHJlZml4ICsgXCJtdXNpYy9ub3RlMC4wNjI1LnBuZ1wiLFxuICAgICAgICAgICAgXCJ3aWR0aFwiOiA5LCBcImhlaWdodFwiOiAxOSwgXCJhbHRcIjogXCJzaXh0ZWVudGhcIixcbiAgICAgICAgICB9LCBcIjAuMDYyNVwiXSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFwidHlwZVwiOiBcImlucHV0X3ZhbHVlXCIsXG4gICAgICAgIFwibmFtZVwiOiBcIlBJVENIXCIsXG4gICAgICAgIFwiY2hlY2tcIjogXCJTdHJpbmdcIixcbiAgICAgIH0sXG4gICAgXSxcbiAgICBcImlucHV0c0lubGluZVwiOiB0cnVlLFxuICAgIFwicHJldmlvdXNTdGF0ZW1lbnRcIjogbnVsbCxcbiAgICBcIm5leHRTdGF0ZW1lbnRcIjogbnVsbCxcbiAgICBcImNvbG91clwiOiAxNjAsXG4gICAgXCJ0b29sdGlwXCI6ICdNdXNpY19wbGF5Tm90ZVRvb2x0aXAnLFxuICB9LFxuICB7XG4gICAgXCJ0eXBlXCI6IFwibXVzaWNfcmVzdF93aG9sZVwiLFxuICAgIFwibWVzc2FnZTBcIjogJ3Jlc3QgJTEnLFxuICAgIFwiYXJnczBcIjogW1xuICAgICAge1xuICAgICAgICBcInR5cGVcIjogXCJmaWVsZF9pbWFnZVwiLFxuICAgICAgICBcInNyY1wiOiBtZWRpYVByZWZpeCArIFwibXVzaWMvcmVzdDEucG5nXCIsXG4gICAgICAgIFwid2lkdGhcIjogMTAsXG4gICAgICAgIFwiaGVpZ2h0XCI6IDIwLFxuICAgICAgICBcImFsdFwiOiBcIi1cIixcbiAgICAgIH0sXG4gICAgXSxcbiAgICBcImlucHV0c0lubGluZVwiOiB0cnVlLFxuICAgIFwicHJldmlvdXNTdGF0ZW1lbnRcIjogbnVsbCxcbiAgICBcIm5leHRTdGF0ZW1lbnRcIjogbnVsbCxcbiAgICBcImNvbG91clwiOiAxNjAsXG4gICAgXCJ0b29sdGlwXCI6ICdNdXNpY19yZXN0V2hvbGVUb29sdGlwJyxcbiAgfSxcbiAge1xuICAgIFwidHlwZVwiOiBcIm11c2ljX3Jlc3RcIixcbiAgICBcIm1lc3NhZ2UwXCI6ICdyZXN0ICUxJyxcbiAgICBcImFyZ3MwXCI6IFtcbiAgICAgIHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiZmllbGRfZHJvcGRvd25cIixcbiAgICAgICAgXCJuYW1lXCI6IFwiRFVSQVRJT05cIixcbiAgICAgICAgXCJvcHRpb25zXCI6IFtcbiAgICAgICAgICBbe1xuICAgICAgICAgICAgXCJzcmNcIjogbWVkaWFQcmVmaXggKyBcIm11c2ljL3Jlc3QxLnBuZ1wiLFxuICAgICAgICAgICAgXCJ3aWR0aFwiOiAxMCwgXCJoZWlnaHRcIjogMjAsIFwiYWx0XCI6IFwid2hvbGVcIixcbiAgICAgICAgICB9LCBcIjFcIl0sXG4gICAgICAgICAgW3tcbiAgICAgICAgICAgIFwic3JjXCI6IG1lZGlhUHJlZml4ICsgXCJtdXNpYy9yZXN0MC41LnBuZ1wiLFxuICAgICAgICAgICAgXCJ3aWR0aFwiOiAxMCwgXCJoZWlnaHRcIjogMjAsIFwiYWx0XCI6IFwiaGFsZlwiLFxuICAgICAgICAgIH0sIFwiMC41XCJdLFxuICAgICAgICAgIFt7XG4gICAgICAgICAgICBcInNyY1wiOiBtZWRpYVByZWZpeCArIFwibXVzaWMvcmVzdDAuMjUucG5nXCIsXG4gICAgICAgICAgICBcIndpZHRoXCI6IDEwLCBcImhlaWdodFwiOiAyMCwgXCJhbHRcIjogXCJxdWFydGVyXCIsXG4gICAgICAgICAgfSwgXCIwLjI1XCJdLFxuICAgICAgICAgIFt7XG4gICAgICAgICAgICBcInNyY1wiOiBtZWRpYVByZWZpeCArIFwibXVzaWMvcmVzdDAuMTI1LnBuZ1wiLFxuICAgICAgICAgICAgXCJ3aWR0aFwiOiAxMCwgXCJoZWlnaHRcIjogMjAsIFwiYWx0XCI6IFwiZWlnaHRoXCIsXG4gICAgICAgICAgfSwgXCIwLjEyNVwiXSxcbiAgICAgICAgICBbe1xuICAgICAgICAgICAgXCJzcmNcIjogbWVkaWFQcmVmaXggKyBcIm11c2ljL3Jlc3QwLjA2MjUucG5nXCIsXG4gICAgICAgICAgICBcIndpZHRoXCI6IDEwLCBcImhlaWdodFwiOiAyMCwgXCJhbHRcIjogXCJzaXh0ZWVudGhcIixcbiAgICAgICAgICB9LCBcIjAuMDYyNVwiXSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBcImlucHV0c0lubGluZVwiOiB0cnVlLFxuICAgIFwicHJldmlvdXNTdGF0ZW1lbnRcIjogbnVsbCxcbiAgICBcIm5leHRTdGF0ZW1lbnRcIjogbnVsbCxcbiAgICBcImNvbG91clwiOiAxNjAsXG4gICAgXCJ0b29sdGlwXCI6ICdNdXNpY19yZXN0VG9vbHRpcCcsXG4gIH0sXG4gIHtcbiAgICBcInR5cGVcIjogXCJtdXNpY19pbnN0cnVtZW50XCIsXG4gICAgXCJtZXNzYWdlMFwiOiAnc2V0IGluc3RydW1lbnQgdG8gJTEnLFxuICAgIFwiYXJnczBcIjogW1xuICAgICAge1xuICAgICAgICBcInR5cGVcIjogXCJmaWVsZF9kcm9wZG93blwiLFxuICAgICAgICBcIm5hbWVcIjogXCJJTlNUUlVNRU5UXCIsXG4gICAgICAgIFwib3B0aW9uc1wiOiBbXG4gICAgICAgICAgWygnTXVzaWNfcGlhbm8nKSwgXCJwaWFub1wiXSxcbiAgICAgICAgICBbKCdNdXNpY190cnVtcGV0JyksIFwidHJ1bXBldFwiXSxcbiAgICAgICAgICBbKCdNdXNpY19iYW5qbycpLCBcImJhbmpvXCJdLFxuICAgICAgICAgIFsoJ011c2ljX3Zpb2xpbicpLCBcInZpb2xpblwiXSxcbiAgICAgICAgICBbKCdNdXNpY19ndWl0YXInKSwgXCJndWl0YXJcIl0sXG4gICAgICAgICAgWygnTXVzaWNfZmx1dGUnKSwgXCJmbHV0ZVwiXSxcbiAgICAgICAgICBbKCdNdXNpY19kcnVtJyksIFwiZHJ1bVwiXSxcbiAgICAgICAgICBbKCdNdXNpY19jaG9pcicpLCBcImNob2lyXCJdLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdLFxuICAgIFwiaW5wdXRzSW5saW5lXCI6IHRydWUsXG4gICAgXCJwcmV2aW91c1N0YXRlbWVudFwiOiBudWxsLFxuICAgIFwibmV4dFN0YXRlbWVudFwiOiBudWxsLFxuICAgIFwiY29sb3VyXCI6IDE2MCxcbiAgICBcInRvb2x0aXBcIjogJ011c2ljX3NldEluc3RydW1lbnRUb29sdGlwJyxcbiAgfSxcbiAge1xuICAgIFwidHlwZVwiOiBcIm11c2ljX3N0YXJ0XCIsXG4gICAgXCJtZXNzYWdlMFwiOiAnd2hlbiBzaGlmdCBwIHByZXNzZWQnLFxuICAgIFwibWVzc2FnZTFcIjogXCIlMVwiLFxuICAgIFwiYXJnczFcIjogW1xuICAgICAge1xuICAgICAgICBcInR5cGVcIjogXCJpbnB1dF9zdGF0ZW1lbnRcIixcbiAgICAgICAgXCJuYW1lXCI6IFwiU1RBQ0tcIixcbiAgICAgIH0sXG4gICAgXSxcbiAgICBcImNvbG91clwiOiAwLFxuICAgIFwidG9vbHRpcFwiOiAnTXVzaWNfc3RhcnRUb29sdGlwJyxcbiAgfSxcbl0pO1xuXG5leHBvcnQgY29uc3QgdG9vbGJveFBpdGNoID0ge1xuICBcImtpbmRcIjogXCJmbHlvdXRUb29sYm94XCIsXG4gIFwiY29udGVudHNcIjogW1xuICAgIHtcbiAgICAgIFwia2luZFwiOiBcImJsb2NrXCIsXG4gICAgICBcImJsb2NreG1sXCI6IFwiPGJsb2NrIHR5cGU9J211c2ljX25vdGUnPjx2YWx1ZSBuYW1lPSdQSVRDSCc+PHNoYWRvdyB0eXBlPSdtdXNpY19waXRjaCc+PC9zaGFkb3c+PC92YWx1ZT48L2Jsb2NrPlwiLFxuICAgIH0sXG4gICAge1xuICAgICAgXCJraW5kXCI6IFwiYmxvY2tcIixcbiAgICAgIFwidHlwZVwiOiBcInBpdGNoX3Rlc3RcIixcbiAgICB9LFxuXG4gICAge1xuICAgICAgXCJraW5kXCI6IFwiYmxvY2tcIixcbiAgICAgIFwidHlwZVwiOiBcIm11c2ljX3BpdGNoXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBcImtpbmRcIjogXCJibG9ja1wiLFxuICAgICAgXCJ0eXBlXCI6IFwibXVzaWNfbm90ZVwiLFxuICAgIH0sXG4gICAge1xuICAgICAgXCJraW5kXCI6IFwiYmxvY2tcIixcbiAgICAgIFwidHlwZVwiOiBcIm11c2ljX3Jlc3Rfd2hvbGVcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIFwia2luZFwiOiBcImJsb2NrXCIsXG4gICAgICBcInR5cGVcIjogXCJtdXNpY19yZXN0XCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBcImtpbmRcIjogXCJibG9ja1wiLFxuICAgICAgXCJ0eXBlXCI6IFwibXVzaWNfaW5zdHJ1bWVudFwiLFxuICAgIH0sXG4gICAge1xuICAgICAgXCJraW5kXCI6IFwiYmxvY2tcIixcbiAgICAgIFwidHlwZVwiOiBcIm11c2ljX3N0YXJ0XCIsXG4gICAgfSxcbiAgXSxcbn07XG5cbi8qIGVzbGludC1lbmFibGUgcXVvdGVzICovXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/music_blocks.js\n");

/***/ }),

/***/ "./src/music_game_controller.js":
/*!**************************************!*\
  !*** ./src/music_game_controller.js ***!
  \**************************************/
/*! exports provided: MusicGameController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MusicGameController\", function() { return MusicGameController; });\n/* harmony import */ var micromodal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! micromodal */ \"./node_modules/micromodal/dist/micromodal.es.js\");\n/* harmony import */ var _music__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./music */ \"./src/music.js\");\n/* harmony import */ var _help_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./help_modal */ \"./src/help_modal.js\");\n/* harmony import */ var _key_press_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./key_press_modal */ \"./src/key_press_modal.js\");\n/* harmony import */ var _welcome_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./welcome_modal */ \"./src/welcome_modal.js\");\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/* harmony import */ var _tutorial__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./tutorial */ \"./src/tutorial.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Music game controller.\n */\n\n\n\n\n\n\n\n/**\n * Class for a controller for the music game, which handles\n * creation of the game and coordination of related modals, tutorials,\n * etc.\n */\n\nvar MusicGameController = /*#__PURE__*/function () {\n  /**\n   * The constructor for the music game controller.\n   */\n  function MusicGameController() {\n    var _this = this;\n\n    _classCallCheck(this, MusicGameController);\n\n    micromodal__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init({\n      onClose: function onClose() {\n        return _speaker__WEBPACK_IMPORTED_MODULE_5__[\"speaker\"].cancel();\n      }\n    });\n    /**\n     * The actual game object.\n     * @type {Music}\n     */\n\n    this.game = new _music__WEBPACK_IMPORTED_MODULE_1__[\"Music\"]();\n    this.game.loadLevel(1);\n    this.game.setOnSuccessCallback(function () {\n      _this.game.setFeedbackText('Congratulations. You did it!');\n    });\n    this.game.setOnFailureCallback(function (feedback) {\n      _this.game.setFeedbackText(feedback.replaceAll('\\n', '<br>'));\n    });\n    var helpModal = new _help_modal__WEBPACK_IMPORTED_MODULE_2__[\"HelpModal\"]('modal-1', 'modalButton');\n    helpModal.init(); // Start by showing the key press modal.\n\n    new _key_press_modal__WEBPACK_IMPORTED_MODULE_3__[\"KeyPressModal\"](function () {\n      return _this.showWelcomeModal();\n    }).init();\n  }\n  /**\n   * Get the current game object.\n   * @return {Music} The current game object.\n   */\n\n\n  _createClass(MusicGameController, [{\n    key: \"getGame\",\n    value: function getGame() {\n      return this.game;\n    }\n    /**\n     * Start the tutorial.\n     */\n\n  }, {\n    key: \"runTutorial\",\n    value: function runTutorial() {\n      new _tutorial__WEBPACK_IMPORTED_MODULE_6__[\"Tutorial\"](this.game.getWorkspace()).init();\n    }\n    /**\n     * Show the welcome modal.\n     */\n\n  }, {\n    key: \"showWelcomeModal\",\n    value: function showWelcomeModal() {\n      var _this2 = this;\n\n      new _welcome_modal__WEBPACK_IMPORTED_MODULE_4__[\"WelcomeModal\"](function () {\n        return _this2.runTutorial();\n      }).init();\n    }\n  }]);\n\n  return MusicGameController;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbXVzaWNfZ2FtZV9jb250cm9sbGVyLmpzPzczYTYiXSwibmFtZXMiOlsiTXVzaWNHYW1lQ29udHJvbGxlciIsIk1pY3JvTW9kYWwiLCJpbml0Iiwib25DbG9zZSIsInNwZWFrZXIiLCJjYW5jZWwiLCJnYW1lIiwiTXVzaWMiLCJsb2FkTGV2ZWwiLCJzZXRPblN1Y2Nlc3NDYWxsYmFjayIsInNldEZlZWRiYWNrVGV4dCIsInNldE9uRmFpbHVyZUNhbGxiYWNrIiwiZmVlZGJhY2siLCJyZXBsYWNlQWxsIiwiaGVscE1vZGFsIiwiSGVscE1vZGFsIiwiS2V5UHJlc3NNb2RhbCIsInNob3dXZWxjb21lTW9kYWwiLCJUdXRvcmlhbCIsImdldFdvcmtzcGFjZSIsIldlbGNvbWVNb2RhbCIsInJ1blR1dG9yaWFsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxJQUFNQSxtQkFBYjtBQUNFO0FBQ0Y7QUFDQTtBQUNFLGlDQUFjO0FBQUE7O0FBQUE7O0FBQ1pDLHNEQUFVLENBQUNDLElBQVgsQ0FBZ0I7QUFDZEMsYUFBTyxFQUFFO0FBQUEsZUFBTUMsZ0RBQU8sQ0FBQ0MsTUFBUixFQUFOO0FBQUE7QUFESyxLQUFoQjtBQUlBO0FBQ0o7QUFDQTtBQUNBOztBQUNJLFNBQUtDLElBQUwsR0FBWSxJQUFJQyw0Q0FBSixFQUFaO0FBQ0EsU0FBS0QsSUFBTCxDQUFVRSxTQUFWLENBQW9CLENBQXBCO0FBQ0EsU0FBS0YsSUFBTCxDQUFVRyxvQkFBVixDQUErQixZQUFNO0FBQ25DLFdBQUksQ0FBQ0gsSUFBTCxDQUFVSSxlQUFWLENBQTBCLDhCQUExQjtBQUNELEtBRkQ7QUFHQSxTQUFLSixJQUFMLENBQVVLLG9CQUFWLENBQStCLFVBQUNDLFFBQUQsRUFBYztBQUMzQyxXQUFJLENBQUNOLElBQUwsQ0FBVUksZUFBVixDQUEwQkUsUUFBUSxDQUFDQyxVQUFULENBQW9CLElBQXBCLEVBQTBCLE1BQTFCLENBQTFCO0FBQ0QsS0FGRDtBQUlBLFFBQU1DLFNBQVMsR0FBRyxJQUFJQyxxREFBSixDQUFjLFNBQWQsRUFBeUIsYUFBekIsQ0FBbEI7QUFDQUQsYUFBUyxDQUFDWixJQUFWLEdBbkJZLENBcUJaOztBQUNBLFFBQUljLDhEQUFKLENBQWtCO0FBQUEsYUFBTSxLQUFJLENBQUNDLGdCQUFMLEVBQU47QUFBQSxLQUFsQixFQUFpRGYsSUFBakQ7QUFDRDtBQUVEO0FBQ0Y7QUFDQTtBQUNBOzs7QUFoQ0E7QUFBQTtBQUFBLDhCQWlDWTtBQUNSLGFBQU8sS0FBS0ksSUFBWjtBQUNEO0FBRUQ7QUFDRjtBQUNBOztBQXZDQTtBQUFBO0FBQUEsa0NBd0NnQjtBQUNaLFVBQUlZLGtEQUFKLENBQWEsS0FBS1osSUFBTCxDQUFVYSxZQUFWLEVBQWIsRUFBdUNqQixJQUF2QztBQUNEO0FBRUQ7QUFDRjtBQUNBOztBQTlDQTtBQUFBO0FBQUEsdUNBK0NxQjtBQUFBOztBQUNqQixVQUFJa0IsMkRBQUosQ0FBaUI7QUFBQSxlQUFNLE1BQUksQ0FBQ0MsV0FBTCxFQUFOO0FBQUEsT0FBakIsRUFBMkNuQixJQUEzQztBQUNEO0FBakRIOztBQUFBO0FBQUEiLCJmaWxlIjoiLi9zcmMvbXVzaWNfZ2FtZV9jb250cm9sbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgTXVzaWMgZ2FtZSBjb250cm9sbGVyLlxuICovXG5cblxuaW1wb3J0IE1pY3JvTW9kYWwgZnJvbSAnbWljcm9tb2RhbCc7XG5pbXBvcnQge011c2ljfSBmcm9tICcuL211c2ljJztcbmltcG9ydCB7SGVscE1vZGFsfSBmcm9tICcuL2hlbHBfbW9kYWwnO1xuaW1wb3J0IHtLZXlQcmVzc01vZGFsfSBmcm9tICcuL2tleV9wcmVzc19tb2RhbCc7XG5pbXBvcnQge1dlbGNvbWVNb2RhbH0gZnJvbSAnLi93ZWxjb21lX21vZGFsJztcbmltcG9ydCB7c3BlYWtlcn0gZnJvbSAnLi9zcGVha2VyJztcbmltcG9ydCB7VHV0b3JpYWx9IGZyb20gJy4vdHV0b3JpYWwnO1xuXG4vKipcbiAqIENsYXNzIGZvciBhIGNvbnRyb2xsZXIgZm9yIHRoZSBtdXNpYyBnYW1lLCB3aGljaCBoYW5kbGVzXG4gKiBjcmVhdGlvbiBvZiB0aGUgZ2FtZSBhbmQgY29vcmRpbmF0aW9uIG9mIHJlbGF0ZWQgbW9kYWxzLCB0dXRvcmlhbHMsXG4gKiBldGMuXG4gKi9cbmV4cG9ydCBjbGFzcyBNdXNpY0dhbWVDb250cm9sbGVyIHtcbiAgLyoqXG4gICAqIFRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIG11c2ljIGdhbWUgY29udHJvbGxlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIE1pY3JvTW9kYWwuaW5pdCh7XG4gICAgICBvbkNsb3NlOiAoKSA9PiBzcGVha2VyLmNhbmNlbCgpLFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFjdHVhbCBnYW1lIG9iamVjdC5cbiAgICAgKiBAdHlwZSB7TXVzaWN9XG4gICAgICovXG4gICAgdGhpcy5nYW1lID0gbmV3IE11c2ljKCk7XG4gICAgdGhpcy5nYW1lLmxvYWRMZXZlbCgxKTtcbiAgICB0aGlzLmdhbWUuc2V0T25TdWNjZXNzQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgdGhpcy5nYW1lLnNldEZlZWRiYWNrVGV4dCgnQ29uZ3JhdHVsYXRpb25zLiBZb3UgZGlkIGl0IScpO1xuICAgIH0pO1xuICAgIHRoaXMuZ2FtZS5zZXRPbkZhaWx1cmVDYWxsYmFjaygoZmVlZGJhY2spID0+IHtcbiAgICAgIHRoaXMuZ2FtZS5zZXRGZWVkYmFja1RleHQoZmVlZGJhY2sucmVwbGFjZUFsbCgnXFxuJywgJzxicj4nKSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBoZWxwTW9kYWwgPSBuZXcgSGVscE1vZGFsKCdtb2RhbC0xJywgJ21vZGFsQnV0dG9uJyk7XG4gICAgaGVscE1vZGFsLmluaXQoKTtcblxuICAgIC8vIFN0YXJ0IGJ5IHNob3dpbmcgdGhlIGtleSBwcmVzcyBtb2RhbC5cbiAgICBuZXcgS2V5UHJlc3NNb2RhbCgoKSA9PiB0aGlzLnNob3dXZWxjb21lTW9kYWwoKSkuaW5pdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBnYW1lIG9iamVjdC5cbiAgICogQHJldHVybiB7TXVzaWN9IFRoZSBjdXJyZW50IGdhbWUgb2JqZWN0LlxuICAgKi9cbiAgZ2V0R2FtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHRoZSB0dXRvcmlhbC5cbiAgICovXG4gIHJ1blR1dG9yaWFsKCkge1xuICAgIG5ldyBUdXRvcmlhbCh0aGlzLmdhbWUuZ2V0V29ya3NwYWNlKCkpLmluaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHRoZSB3ZWxjb21lIG1vZGFsLlxuICAgKi9cbiAgc2hvd1dlbGNvbWVNb2RhbCgpIHtcbiAgICBuZXcgV2VsY29tZU1vZGFsKCgpID0+IHRoaXMucnVuVHV0b3JpYWwoKSkuaW5pdCgpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/music_game_controller.js\n");

/***/ }),

/***/ "./src/overrides.js":
/*!**************************!*\
  !*** ./src/overrides.js ***!
  \**************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview The class representing a line cursor.\n * A line cursor traverses the blocks as if they were\n * lines of code in a text editor.\n * Previous and next go up and down lines. In and out go\n * through the elements in a line.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\n\n\n\n\nblockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.handleEnterForWS_ = function (workspace) {\n  var cursor = workspace.getCursor();\n  var curNode = cursor.getCurNode();\n  var nodeType = curNode.getType();\n\n  if (nodeType == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.FIELD && curNode.getLocation().isClickable()) {\n    // TODO: Had to override so I could add this speaker in.\n    _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak('Use next and previous to read off your options.');\n\n    /** @type {!Blockly.Field} */\n    curNode.getLocation().showEditor();\n  } else if (curNode.isConnection() || nodeType == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.WORKSPACE) {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.markAtCursor_();\n  } else if (nodeType == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.BLOCK) {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.warn_('Cannot mark a block.');\n  } else if (nodeType == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.STACK) {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.warn_('Cannot mark a stack.');\n  }\n};\n\nblockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.FieldDropdown.prototype.onBlocklyAction = function (action) {\n  var fieldNextOptions = 'To select this option hit enter';\n\n  if (this.menu_) {\n    switch (action.name) {\n      case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.actionNames.PREVIOUS:\n        this.menu_.highlightPrevious();\n        _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak(this.menu_.highlightedItem_.content_.alt, true);\n        _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak(fieldNextOptions);\n        return true;\n\n      case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.actionNames.NEXT:\n        this.menu_.highlightNext(); // TODO: Needed to override so that I could speak out the location when it changes.\n\n        _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak(this.menu_.highlightedItem_.content_.alt, true);\n        _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak(fieldNextOptions);\n        return true;\n\n      default:\n        return false;\n    }\n  }\n\n  return blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.FieldDropdown.superClass_.onBlocklyAction.call(this, action);\n};\n\nblockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Block.prototype.toString = function (opt_maxLength, opt_emptyToken) {\n  var text = [];\n  var emptyFieldPlaceholder = opt_emptyToken || '?'; // Temporarily set flag to navigate to all fields.\n\n  var prevNavigateFields = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.NAVIGATE_ALL_FIELDS;\n  blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.NAVIGATE_ALL_FIELDS = true;\n  var node = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.createBlockNode(this);\n  var rootNode = node;\n  /**\n   * Whether or not to add parentheses around an input.\n   * @param {!Blockly.Connection} connection The connection.\n   * @return {boolean} True if we should add parentheses around the input.\n   */\n\n  function shouldAddParentheses(connection) {\n    var checks = connection.getCheck();\n\n    if (!checks && connection.targetConnection) {\n      checks = connection.targetConnection.getCheck();\n    }\n\n    return !!checks && (checks.indexOf('Boolean') != -1 || checks.indexOf('Number') != -1);\n  }\n  /**\n   * Check that we haven't circled back to the original root node.\n   */\n\n\n  function checkRoot() {\n    if (node && node.getType() == rootNode.getType() && node.getLocation() == rootNode.getLocation()) {\n      node = null;\n    }\n  } // Traverse the AST building up our text string.\n\n\n  while (node) {\n    switch (node.getType()) {\n      case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT:\n        var connection =\n        /** @type {!Blockly.Connection} */\n        node.getLocation();\n\n        if (!node.in()) {\n          text.push(emptyFieldPlaceholder);\n        } else if (shouldAddParentheses(connection)) {\n          text.push('(');\n        }\n\n        break;\n\n      case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.FIELD:\n        var field =\n        /** @type {Blockly.Field} */\n        node.getLocation();\n\n        if (field.name != blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Block.COLLAPSED_FIELD_NAME) {\n          text.push(field.getText());\n        }\n\n        break;\n    }\n\n    var current = node;\n    node = current.in() || current.next(); // TODO: This only works in our specific use case of having a block with a single statement connection.\n\n    if (node && node.getType() == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT && node.getLocation().type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.NEXT_STATEMENT) {\n      node = null;\n    }\n\n    if (!node) {\n      // Can't go in or next, keep going out until we can go next.\n      node = current.out();\n      checkRoot();\n\n      while (node && !node.next()) {\n        node = node.out();\n        checkRoot(); // If we hit an input on the way up, possibly close out parentheses.\n\n        if (node && node.getType() == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT && shouldAddParentheses(\n        /** @type {!Blockly.Connection} */\n        node.getLocation())) {\n          text.push(')');\n        }\n      }\n\n      if (node) {\n        node = node.next();\n      }\n    }\n  } // Restore state of NAVIGATE_ALL_FIELDS.\n\n\n  blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.NAVIGATE_ALL_FIELDS = prevNavigateFields; // Run through our text array and simplify expression to remove parentheses\n  // around single field blocks.\n\n  for (var i = 2, l = text.length; i < l; i++) {\n    if (text[i - 2] == '(' && text[i] == ')') {\n      text[i - 2] = text[i - 1];\n      text.splice(i - 1, 2);\n      l -= 2;\n    }\n  } // Join the text array, removing spaces around added paranthesis.\n\n\n  text = text.join(' ').replace(/(\\() | (\\))/gmi, '$1$2').trim() || '???';\n\n  if (opt_maxLength) {\n    // TODO: Improve truncation so that text from this block is given priority.\n    // E.g. \"1+2+3+4+5+6+7+8+9=0\" should be \"...6+7+8+9=0\", not \"1+2+3+4+5...\".\n    // E.g. \"1+2+3+4+5=6+7+8+9+0\" should be \"...4+5=6+7...\".\n    if (text.length > opt_maxLength) {\n      text = text.substring(0, opt_maxLength - 3) + '...';\n    }\n  }\n\n  return text;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb3ZlcnJpZGVzLmpzPzFjYjQiXSwibmFtZXMiOlsiQmxvY2tseSIsIm5hdmlnYXRpb24iLCJoYW5kbGVFbnRlckZvcldTXyIsIndvcmtzcGFjZSIsImN1cnNvciIsImdldEN1cnNvciIsImN1ck5vZGUiLCJnZXRDdXJOb2RlIiwibm9kZVR5cGUiLCJnZXRUeXBlIiwiQVNUTm9kZSIsInR5cGVzIiwiRklFTEQiLCJnZXRMb2NhdGlvbiIsImlzQ2xpY2thYmxlIiwic3BlYWtlciIsInNwZWFrIiwic2hvd0VkaXRvciIsImlzQ29ubmVjdGlvbiIsIldPUktTUEFDRSIsIm1hcmtBdEN1cnNvcl8iLCJCTE9DSyIsIndhcm5fIiwiU1RBQ0siLCJGaWVsZERyb3Bkb3duIiwicHJvdG90eXBlIiwib25CbG9ja2x5QWN0aW9uIiwiYWN0aW9uIiwiZmllbGROZXh0T3B0aW9ucyIsIm1lbnVfIiwibmFtZSIsImFjdGlvbk5hbWVzIiwiUFJFVklPVVMiLCJoaWdobGlnaHRQcmV2aW91cyIsImhpZ2hsaWdodGVkSXRlbV8iLCJjb250ZW50XyIsImFsdCIsIk5FWFQiLCJoaWdobGlnaHROZXh0Iiwic3VwZXJDbGFzc18iLCJjYWxsIiwiQmxvY2siLCJ0b1N0cmluZyIsIm9wdF9tYXhMZW5ndGgiLCJvcHRfZW1wdHlUb2tlbiIsInRleHQiLCJlbXB0eUZpZWxkUGxhY2Vob2xkZXIiLCJwcmV2TmF2aWdhdGVGaWVsZHMiLCJOQVZJR0FURV9BTExfRklFTERTIiwibm9kZSIsImNyZWF0ZUJsb2NrTm9kZSIsInJvb3ROb2RlIiwic2hvdWxkQWRkUGFyZW50aGVzZXMiLCJjb25uZWN0aW9uIiwiY2hlY2tzIiwiZ2V0Q2hlY2siLCJ0YXJnZXRDb25uZWN0aW9uIiwiaW5kZXhPZiIsImNoZWNrUm9vdCIsIklOUFVUIiwiaW4iLCJwdXNoIiwiZmllbGQiLCJDT0xMQVBTRURfRklFTERfTkFNRSIsImdldFRleHQiLCJjdXJyZW50IiwibmV4dCIsInR5cGUiLCJORVhUX1NUQVRFTUVOVCIsIm91dCIsImkiLCJsIiwibGVuZ3RoIiwic3BsaWNlIiwiam9pbiIsInJlcGxhY2UiLCJ0cmltIiwic3Vic3RyaW5nIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNhOztBQUViO0FBQ0E7O0FBR0FBLG1EQUFPLENBQUNDLFVBQVIsQ0FBbUJDLGlCQUFuQixHQUF1QyxVQUFTQyxTQUFULEVBQW9CO0FBQ3pELE1BQUlDLE1BQU0sR0FBR0QsU0FBUyxDQUFDRSxTQUFWLEVBQWI7QUFDQSxNQUFJQyxPQUFPLEdBQUdGLE1BQU0sQ0FBQ0csVUFBUCxFQUFkO0FBQ0EsTUFBSUMsUUFBUSxHQUFHRixPQUFPLENBQUNHLE9BQVIsRUFBZjs7QUFDQSxNQUFJRCxRQUFRLElBQUlSLG1EQUFPLENBQUNVLE9BQVIsQ0FBZ0JDLEtBQWhCLENBQXNCQyxLQUFsQyxJQUEyQ04sT0FBTyxDQUFDTyxXQUFSLEdBQXNCQyxXQUF0QixFQUEvQyxFQUFvRjtBQUNsRjtBQUNBQyxvREFBTyxDQUFDQyxLQUFSLENBQWMsaURBQWQ7O0FBQ0M7QUFBOEJWLFdBQU8sQ0FBQ08sV0FBUixFQUEvQixDQUF1REksVUFBdkQ7QUFDRCxHQUpELE1BSU8sSUFBSVgsT0FBTyxDQUFDWSxZQUFSLE1BQ1BWLFFBQVEsSUFBSVIsbURBQU8sQ0FBQ1UsT0FBUixDQUFnQkMsS0FBaEIsQ0FBc0JRLFNBRC9CLEVBQzBDO0FBQy9DbkIsdURBQU8sQ0FBQ0MsVUFBUixDQUFtQm1CLGFBQW5CO0FBQ0QsR0FITSxNQUdBLElBQUlaLFFBQVEsSUFBSVIsbURBQU8sQ0FBQ1UsT0FBUixDQUFnQkMsS0FBaEIsQ0FBc0JVLEtBQXRDLEVBQTZDO0FBQ2xEckIsdURBQU8sQ0FBQ0MsVUFBUixDQUFtQnFCLEtBQW5CLENBQXlCLHNCQUF6QjtBQUNELEdBRk0sTUFFQSxJQUFJZCxRQUFRLElBQUlS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LENBQVlILENBQUMsR0FBRyxDQUFoQixFQUFtQixDQUFuQjtBQUNBQyxPQUFDLElBQUksQ0FBTDtBQUNEO0FBQ0YsR0EzRndFLENBNkZ6RTs7O0FBQ0ExQixNQUFJLEdBQUdBLElBQUksQ0FBQzZCLElBQUwsQ0FBVSxHQUFWLEVBQWVDLE9BQWYsQ0FBdUIsZ0JBQXZCLEVBQXlDLE1BQXpDLEVBQWlEQyxJQUFqRCxNQUEyRCxLQUFsRTs7QUFDQSxNQUFJakMsYUFBSixFQUFtQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxRQUFJRSxJQUFJLENBQUMyQixNQUFMLEdBQWM3QixhQUFsQixFQUFpQztBQUMvQkUsVUFBSSxHQUFHQSxJQUFJLENBQUNnQyxTQUFMLENBQWUsQ0FBZixFQUFrQmxDLGFBQWEsR0FBRyxDQUFsQyxJQUF1QyxLQUE5QztBQUNEO0FBQ0Y7O0FBQ0QsU0FBT0UsSUFBUDtBQUNELENBeEdEIiwiZmlsZSI6Ii4vc3JjL292ZXJyaWRlcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoZSBjbGFzcyByZXByZXNlbnRpbmcgYSBsaW5lIGN1cnNvci5cbiAqIEEgbGluZSBjdXJzb3IgdHJhdmVyc2VzIHRoZSBibG9ja3MgYXMgaWYgdGhleSB3ZXJlXG4gKiBsaW5lcyBvZiBjb2RlIGluIGEgdGV4dCBlZGl0b3IuXG4gKiBQcmV2aW91cyBhbmQgbmV4dCBnbyB1cCBhbmQgZG93biBsaW5lcy4gSW4gYW5kIG91dCBnb1xuICogdGhyb3VnaCB0aGUgZWxlbWVudHMgaW4gYSBsaW5lLlxuICogQGF1dGhvciBhc2NobWllZHRAZ29vZ2xlLmNvbSAoQWJieSBTY2htaWVkdClcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQmxvY2tseSBmcm9tICdibG9ja2x5L2NvcmUnO1xuaW1wb3J0IHtzcGVha2VyfSBmcm9tICcuL3NwZWFrZXInO1xuXG5cbkJsb2NrbHkubmF2aWdhdGlvbi5oYW5kbGVFbnRlckZvcldTXyA9IGZ1bmN0aW9uKHdvcmtzcGFjZSkge1xuICB2YXIgY3Vyc29yID0gd29ya3NwYWNlLmdldEN1cnNvcigpO1xuICB2YXIgY3VyTm9kZSA9IGN1cnNvci5nZXRDdXJOb2RlKCk7XG4gIHZhciBub2RlVHlwZSA9IGN1ck5vZGUuZ2V0VHlwZSgpO1xuICBpZiAobm9kZVR5cGUgPT0gQmxvY2tseS5BU1ROb2RlLnR5cGVzLkZJRUxEICYmIGN1ck5vZGUuZ2V0TG9jYXRpb24oKS5pc0NsaWNrYWJsZSgpKSB7XG4gICAgLy8gVE9ETzogSGFkIHRvIG92ZXJyaWRlIHNvIEkgY291bGQgYWRkIHRoaXMgc3BlYWtlciBpbi5cbiAgICBzcGVha2VyLnNwZWFrKCdVc2UgbmV4dCBhbmQgcHJldmlvdXMgdG8gcmVhZCBvZmYgeW91ciBvcHRpb25zLicpO1xuICAgICgvKiogQHR5cGUgeyFCbG9ja2x5LkZpZWxkfSAqLyhjdXJOb2RlLmdldExvY2F0aW9uKCkpKS5zaG93RWRpdG9yKCk7XG4gIH0gZWxzZSBpZiAoY3VyTm9kZS5pc0Nvbm5lY3Rpb24oKSB8fFxuICAgICAgbm9kZVR5cGUgPT0gQmxvY2tseS5BU1ROb2RlLnR5cGVzLldPUktTUEFDRSkge1xuICAgIEJsb2NrbHkubmF2aWdhdGlvbi5tYXJrQXRDdXJzb3JfKCk7XG4gIH0gZWxzZSBpZiAobm9kZVR5cGUgPT0gQmxvY2tseS5BU1ROb2RlLnR5cGVzLkJMT0NLKSB7XG4gICAgQmxvY2tseS5uYXZpZ2F0aW9uLndhcm5fKCdDYW5ub3QgbWFyayBhIGJsb2NrLicpO1xuICB9IGVsc2UgaWYgKG5vZGVUeXBlID09IEJsb2NrbHkuQVNUTm9kZS50eXBlcy5TVEFDSykge1xuICAgIEJsb2NrbHkubmF2aWdhdGlvbi53YXJuXygnQ2Fubm90IG1hcmsgYSBzdGFjay4nKTtcbiAgfVxufTtcblxuXG5CbG9ja2x5LkZpZWxkRHJvcGRvd24ucHJvdG90eXBlLm9uQmxvY2tseUFjdGlvbiA9IGZ1bmN0aW9uKGFjdGlvbikge1xuICBjb25zdCBmaWVsZE5leHRPcHRpb25zID0gJ1RvIHNlbGVjdCB0aGlzIG9wdGlvbiBoaXQgZW50ZXInO1xuICBpZiAodGhpcy5tZW51Xykge1xuICAgIHN3aXRjaCAoYWN0aW9uLm5hbWUpIHtcbiAgICAgIGNhc2UgQmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzLlBSRVZJT1VTOlxuICAgICAgICB0aGlzLm1lbnVfLmhpZ2hsaWdodFByZXZpb3VzKCk7XG4gICAgICAgIHNwZWFrZXIuc3BlYWsodGhpcy5tZW51Xy5oaWdobGlnaHRlZEl0ZW1fLmNvbnRlbnRfLmFsdCwgdHJ1ZSk7XG4gICAgICAgIHNwZWFrZXIuc3BlYWsoZmllbGROZXh0T3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuTkVYVDpcbiAgICAgICAgdGhpcy5tZW51Xy5oaWdobGlnaHROZXh0KCk7XG4gICAgICAgIC8vIFRPRE86IE5lZWRlZCB0byBvdmVycmlkZSBzbyB0aGF0IEkgY291bGQgc3BlYWsgb3V0IHRoZSBsb2NhdGlvbiB3aGVuIGl0IGNoYW5nZXMuXG4gICAgICAgIHNwZWFrZXIuc3BlYWsodGhpcy5tZW51Xy5oaWdobGlnaHRlZEl0ZW1fLmNvbnRlbnRfLmFsdCwgdHJ1ZSk7XG4gICAgICAgIHNwZWFrZXIuc3BlYWsoZmllbGROZXh0T3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gQmxvY2tseS5GaWVsZERyb3Bkb3duLnN1cGVyQ2xhc3NfLm9uQmxvY2tseUFjdGlvbi5jYWxsKHRoaXMsIGFjdGlvbik7XG59O1xuXG5cbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0X21heExlbmd0aCwgb3B0X2VtcHR5VG9rZW4pIHtcbiAgdmFyIHRleHQgPSBbXTtcbiAgdmFyIGVtcHR5RmllbGRQbGFjZWhvbGRlciA9IG9wdF9lbXB0eVRva2VuIHx8ICc/JztcblxuICAvLyBUZW1wb3JhcmlseSBzZXQgZmxhZyB0byBuYXZpZ2F0ZSB0byBhbGwgZmllbGRzLlxuICB2YXIgcHJldk5hdmlnYXRlRmllbGRzID0gQmxvY2tseS5BU1ROb2RlLk5BVklHQVRFX0FMTF9GSUVMRFM7XG4gIEJsb2NrbHkuQVNUTm9kZS5OQVZJR0FURV9BTExfRklFTERTID0gdHJ1ZTtcblxuICB2YXIgbm9kZSA9IEJsb2NrbHkuQVNUTm9kZS5jcmVhdGVCbG9ja05vZGUodGhpcyk7XG4gIHZhciByb290Tm9kZSA9IG5vZGU7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIGFkZCBwYXJlbnRoZXNlcyBhcm91bmQgYW4gaW5wdXQuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQ29ubmVjdGlvbn0gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbi5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB3ZSBzaG91bGQgYWRkIHBhcmVudGhlc2VzIGFyb3VuZCB0aGUgaW5wdXQuXG4gICAqL1xuICBmdW5jdGlvbiBzaG91bGRBZGRQYXJlbnRoZXNlcyhjb25uZWN0aW9uKSB7XG4gICAgdmFyIGNoZWNrcyA9IGNvbm5lY3Rpb24uZ2V0Q2hlY2soKTtcbiAgICBpZiAoIWNoZWNrcyAmJiBjb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb24pIHtcbiAgICAgIGNoZWNrcyA9IGNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbi5nZXRDaGVjaygpO1xuICAgIH1cbiAgICByZXR1cm4gISFjaGVja3MgJiYgKGNoZWNrcy5pbmRleE9mKCdCb29sZWFuJykgIT0gLTEgfHxcbiAgICAgICAgY2hlY2tzLmluZGV4T2YoJ051bWJlcicpICE9IC0xKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayB0aGF0IHdlIGhhdmVuJ3QgY2lyY2xlZCBiYWNrIHRvIHRoZSBvcmlnaW5hbCByb290IG5vZGUuXG4gICAqL1xuICBmdW5jdGlvbiBjaGVja1Jvb3QoKSB7XG4gICAgaWYgKG5vZGUgJiYgbm9kZS5nZXRUeXBlKCkgPT0gcm9vdE5vZGUuZ2V0VHlwZSgpICYmXG4gICAgICAgIG5vZGUuZ2V0TG9jYXRpb24oKSA9PSByb290Tm9kZS5nZXRMb2NhdGlvbigpKSB7XG4gICAgICBub2RlID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBUcmF2ZXJzZSB0aGUgQVNUIGJ1aWxkaW5nIHVwIG91ciB0ZXh0IHN0cmluZy5cbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBzd2l0Y2ggKG5vZGUuZ2V0VHlwZSgpKSB7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5JTlBVVDpcbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSAvKiogQHR5cGUgeyFCbG9ja2x5LkNvbm5lY3Rpb259ICovIChub2RlLmdldExvY2F0aW9uKCkpO1xuICAgICAgICBpZiAoIW5vZGUuaW4oKSkge1xuICAgICAgICAgIHRleHQucHVzaChlbXB0eUZpZWxkUGxhY2Vob2xkZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKHNob3VsZEFkZFBhcmVudGhlc2VzKGNvbm5lY3Rpb24pKSB7XG4gICAgICAgICAgdGV4dC5wdXNoKCcoJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5GSUVMRDpcbiAgICAgICAgdmFyIGZpZWxkID0gLyoqIEB0eXBlIHtCbG9ja2x5LkZpZWxkfSAqLyAobm9kZS5nZXRMb2NhdGlvbigpKTtcbiAgICAgICAgaWYgKGZpZWxkLm5hbWUgIT0gQmxvY2tseS5CbG9jay5DT0xMQVBTRURfRklFTERfTkFNRSkge1xuICAgICAgICAgIHRleHQucHVzaChmaWVsZC5nZXRUZXh0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBjdXJyZW50ID0gbm9kZTtcbiAgICBub2RlID0gY3VycmVudC5pbigpIHx8IGN1cnJlbnQubmV4dCgpO1xuICAgIC8vIFRPRE86IFRoaXMgb25seSB3b3JrcyBpbiBvdXIgc3BlY2lmaWMgdXNlIGNhc2Ugb2YgaGF2aW5nIGEgYmxvY2sgd2l0aCBhIHNpbmdsZSBzdGF0ZW1lbnQgY29ubmVjdGlvbi5cbiAgICBpZiAobm9kZSAmJiBub2RlLmdldFR5cGUoKSA9PSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuSU5QVVQgJiYgbm9kZS5nZXRMb2NhdGlvbigpLnR5cGUgPT09IEJsb2NrbHkuTkVYVF9TVEFURU1FTlQpIHtcbiAgICAgIG5vZGUgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIC8vIENhbid0IGdvIGluIG9yIG5leHQsIGtlZXAgZ29pbmcgb3V0IHVudGlsIHdlIGNhbiBnbyBuZXh0LlxuICAgICAgbm9kZSA9IGN1cnJlbnQub3V0KCk7XG4gICAgICBjaGVja1Jvb3QoKTtcbiAgICAgIHdoaWxlIChub2RlICYmICFub2RlLm5leHQoKSkge1xuICAgICAgICBub2RlID0gbm9kZS5vdXQoKTtcbiAgICAgICAgY2hlY2tSb290KCk7XG4gICAgICAgIC8vIElmIHdlIGhpdCBhbiBpbnB1dCBvbiB0aGUgd2F5IHVwLCBwb3NzaWJseSBjbG9zZSBvdXQgcGFyZW50aGVzZXMuXG4gICAgICAgIGlmIChub2RlICYmIG5vZGUuZ2V0VHlwZSgpID09IEJsb2NrbHkuQVNUTm9kZS50eXBlcy5JTlBVVCAmJlxuICAgICAgICAgICAgc2hvdWxkQWRkUGFyZW50aGVzZXMoXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHshQmxvY2tseS5Db25uZWN0aW9ufSAqLyAobm9kZS5nZXRMb2NhdGlvbigpKSkpIHtcbiAgICAgICAgICB0ZXh0LnB1c2goJyknKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUubmV4dCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFJlc3RvcmUgc3RhdGUgb2YgTkFWSUdBVEVfQUxMX0ZJRUxEUy5cbiAgQmxvY2tseS5BU1ROb2RlLk5BVklHQVRFX0FMTF9GSUVMRFMgPSBwcmV2TmF2aWdhdGVGaWVsZHM7XG5cbiAgLy8gUnVuIHRocm91Z2ggb3VyIHRleHQgYXJyYXkgYW5kIHNpbXBsaWZ5IGV4cHJlc3Npb24gdG8gcmVtb3ZlIHBhcmVudGhlc2VzXG4gIC8vIGFyb3VuZCBzaW5nbGUgZmllbGQgYmxvY2tzLlxuICBmb3IgKHZhciBpID0gMiwgbCA9IHRleHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKHRleHRbaSAtIDJdID09ICcoJyAmJiB0ZXh0W2ldID09ICcpJykge1xuICAgICAgdGV4dFtpIC0gMl0gPSB0ZXh0W2kgLSAxXTtcbiAgICAgIHRleHQuc3BsaWNlKGkgLSAxLCAyKTtcbiAgICAgIGwgLT0gMjtcbiAgICB9XG4gIH1cblxuICAvLyBKb2luIHRoZSB0ZXh0IGFycmF5LCByZW1vdmluZyBzcGFjZXMgYXJvdW5kIGFkZGVkIHBhcmFudGhlc2lzLlxuICB0ZXh0ID0gdGV4dC5qb2luKCcgJykucmVwbGFjZSgvKFxcKCkgfCAoXFwpKS9nbWksICckMSQyJykudHJpbSgpIHx8ICc/Pz8nO1xuICBpZiAob3B0X21heExlbmd0aCkge1xuICAgIC8vIFRPRE86IEltcHJvdmUgdHJ1bmNhdGlvbiBzbyB0aGF0IHRleHQgZnJvbSB0aGlzIGJsb2NrIGlzIGdpdmVuIHByaW9yaXR5LlxuICAgIC8vIEUuZy4gXCIxKzIrMys0KzUrNis3KzgrOT0wXCIgc2hvdWxkIGJlIFwiLi4uNis3KzgrOT0wXCIsIG5vdCBcIjErMiszKzQrNS4uLlwiLlxuICAgIC8vIEUuZy4gXCIxKzIrMys0KzU9Nis3KzgrOSswXCIgc2hvdWxkIGJlIFwiLi4uNCs1PTYrNy4uLlwiLlxuICAgIGlmICh0ZXh0Lmxlbmd0aCA+IG9wdF9tYXhMZW5ndGgpIHtcbiAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBvcHRfbWF4TGVuZ3RoIC0gMykgKyAnLi4uJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRleHQ7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/overrides.js\n");

/***/ }),

/***/ "./src/speaker.js":
/*!************************!*\
  !*** ./src/speaker.js ***!
  \************************/
/*! exports provided: Speaker, speaker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Speaker\", function() { return Speaker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"speaker\", function() { return speaker; });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Speaker used for speaking out text.\n */\n\n/**\n * Convenience methods for speaking out text.\n * More information on speakers can be found here:\n * https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis.\n */\n\nvar Speaker = /*#__PURE__*/function () {\n  /**\n   * Constructor for a speaker.\n   * @param {SpeakerMessages=} optMessages Optional messages for the speaker.\n   */\n  function Speaker(optMessages) {\n    _classCallCheck(this, Speaker);\n\n    var messages = {\n      'MAIN_WS': 'On the main workspace',\n      'STACK': 'To go to the last block in the previous group of blocks, press previous. To go to the first block in the stack hit next.',\n      'PREVIOUS': 'You are on a connection before, ',\n      'NEXT': 'On a connection after, ',\n      'OUTPUT': 'On an output connection. ',\n      'CONNECTION': 'At a connection point.',\n      'BLOCK': 'On a block of type',\n      'CLICKABLE_FIELD': 'To interact with the field hit enter.',\n      'EMPTY_TOKEN': 'blank',\n      'MARK_CONNECTION': 'To mark the block press enter. ',\n      'EXIT_EDIT_MODE': 'To exit edit mode hit escape. '\n    };\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.utils.object.mixin(messages, optMessages);\n    this.setLocale(messages);\n    this.noOverrides = false;\n  }\n  /**\n   * The messages to be read out by a screen reader.\n   * @typedef {{\n   *     MAIN_WS: string,\n   *     STACK: string,\n   *     PREVIOUS: string,\n   *     NEXT: string,\n   *     OUTPUT: string,\n   *     CONNECTION: string,\n   *     BLOCK: string,\n   *     EMPTY_TOKEN: string,\n   *     MARK_CONNECTION: string,\n   * }} SpeakerMessages\n   */\n\n  /**\n   * Set the messages for the speaker.\n   * @param {!SpeakerMessages} messages The messages needed to create a speaker.\n   */\n\n\n  _createClass(Speaker, [{\n    key: \"setLocale\",\n    value: function setLocale(messages) {\n      Object.keys(messages).forEach(function (k) {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg[k] = messages[k];\n      });\n    }\n    /**\n     * Speaks out the text that was given to it.\n     * @param {string} text The text to speak out.\n     * @param {boolean=} shouldCancel True to stop the current utterance, false to\n     *     wait until the current utterance is done before speaking.\n     * @param {function=} onEnd The function to run after the text has been\n     *     spoken.\n     * @param {function=} onStart The function run when the text has begun to\n     *     be spoken.\n     * @public\n     */\n\n  }, {\n    key: \"speak\",\n    value: function speak(text, shouldCancel, onEnd, onStart) {\n      var audio = new SpeechSynthesisUtterance(text);\n\n      if (shouldCancel && !this.noOverrides && window.speechSynthesis.speaking) {\n        window.speechSynthesis.cancel();\n      }\n\n      if (onEnd) {\n        audio.onend = onEnd;\n      }\n\n      if (onStart) {\n        audio.onstart = onStart;\n      }\n\n      window.speechSynthesis.speak(audio);\n    }\n    /**\n     * Clears out the queue of text to speak.\n     * @public\n     */\n\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      window.speechSynthesis.cancel();\n    }\n    /**\n     * Pauses speaking.\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      window.speechSynthesis.pause();\n    }\n    /**\n     * Resumes speaking.\n     */\n\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      window.speechSynthesis.resume();\n    }\n    /**\n     * Speaks out text if the event is of type marker or cursor move.\n     * @param {!Blockly.Events} event The event to speak out.\n     */\n\n  }, {\n    key: \"nodeToSpeech\",\n    value: function nodeToSpeech(event) {\n      // TODO: Update this if we link to the current version of blockly.\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Events.MARKER_MOVE) {\n        var nodeText = this.nodeToText_(event.newNode, event.oldNode, !event.isCursor);\n\n        if (!event.isCursor) {\n          nodeText = \"You have marked a location. To find a new block to connect \\n        to this location hit T. ! . To insert a block on the workspace, \\n        find the location of the block and hit I. \";\n        }\n\n        this.speak(nodeText, true);\n      }\n    }\n    /**\n     * Speaks out the text for a modal.\n     * @param {Element} modal The modal to collect the text to read out.\n     * @public\n     */\n\n  }, {\n    key: \"modalToText\",\n    value: function modalToText(modal) {\n      var header = modal.querySelector('header');\n      var headerText = header.textContent.trim();\n\n      if (headerText !== '') {\n        this.speak(headerText);\n      }\n\n      this.addButtonListeners_(header.querySelectorAll('button'));\n      var mainText = modal.querySelector('main').textContent.trim();\n\n      if (mainText !== '') {\n        this.speak(mainText);\n      }\n\n      var footerBtns = modal.querySelector('footer').querySelectorAll('button');\n      this.addButtonListeners_(footerBtns);\n    }\n    /**\n     * Adds listeners for when the button is focused.\n     * @param {!NodeList} btns The buttons to add listeners to.\n     * @private\n     */\n\n  }, {\n    key: \"addButtonListeners_\",\n    value: function addButtonListeners_(btns) {\n      var _this = this;\n\n      var _iterator = _createForOfIteratorHelper(btns),\n          _step;\n\n      try {\n        var _loop = function _loop() {\n          var btn = _step.value;\n          btn.addEventListener('focus', function () {\n            _this.buttonToSpeech_(btns, btn, true);\n          });\n\n          if (document.activeElement === btn) {\n            _this.buttonToSpeech_(btns, btn, false);\n          }\n        };\n\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          _loop();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    /**\n     * Speaks out information about a button.\n     * @param {NodeList} btns The list of buttons on the modal.\n     * @param {Element} btn The button.\n     * @param {boolean} shouldCancel True if this should cancel the previous\n     *     utterance.\n     * @private\n     */\n\n  }, {\n    key: \"buttonToSpeech_\",\n    value: function buttonToSpeech_(btns, btn, shouldCancel) {\n      this.speak('Hit enter to ', shouldCancel);\n\n      if (btn.textContent === '') {\n        this.speak(btn.getAttribute('aria-label'));\n      } else {\n        this.speak(btn.textContent);\n      }\n\n      if (btns.length > 0) {\n        this.speak('Hit tab to go to your next option');\n      }\n    }\n    /**\n     * Speaks out an audio representation of the given node.\n     * @param {Blockly.ASTNode} node The node to speak out.\n     * @param {Blockly.ASTNode} oldNode The previous node to speak out.\n     * @param {boolean} isMarker True to get the text for a marker,\n     *     false otherwise.\n     * @return {string} The text representation of the node.\n     * @public\n     */\n\n  }, {\n    key: \"nodeToText_\",\n    value: function nodeToText_(node, oldNode, isMarker) {\n      var finalText = '';\n\n      switch (node.getType()) {\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.FIELD:\n          finalText = this.fieldNodeToText_(node);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.BLOCK:\n          finalText = this.blockNodeToText_(node);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT:\n          finalText = this.inputNodeToText_(node, isMarker);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.OUTPUT:\n          finalText = this.outputNodeToText_(node, isMarker);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.NEXT:\n          finalText = this.nextNodeToText_(node, isMarker);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.PREVIOUS:\n          finalText = this.previousNodeToText_(node, isMarker);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.STACK:\n          finalText = this.stackNodeToText_(node, oldNode);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.WORKSPACE:\n          finalText = this.workspaceNodeToText_(node);\n          break;\n\n        default:\n          return node.toString();\n      }\n\n      finalText += this.getNextOptions_(node, oldNode, isMarker);\n      return finalText;\n    }\n    /**\n     * Gets text explaining the next options available for a user.\n     * @param {!Blockly.ASTNode} node The current node.\n     * @param {!Blockly.ASTNode} oldNode The previous node.\n     * @param {boolean} isMarker True if the marker was moved.\n     * @return {string} Text explaining next options for the field.\n     * @private\n     */\n\n  }, {\n    key: \"getNextOptions_\",\n    value: function getNextOptions_(node, oldNode, isMarker) {\n      switch (node.getType()) {\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.FIELD:\n          return this.getFieldOptions_(node);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.BLOCK:\n          return this.getBlockOptions_(node);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT:\n          return this.getConnectionOptions_(node, isMarker);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.OUTPUT:\n          return this.getConnectionOptions_(node, isMarker);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.NEXT:\n          return this.getConnectionOptions_(node, isMarker);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.PREVIOUS:\n          return this.getConnectionOptions_(node, isMarker);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.STACK:\n          return this.getStackOptions_(node);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.WORKSPACE:\n          return '';\n\n        default:\n          return node.toString();\n      }\n    }\n    /**\n     * Gets the next options for when a user is on a field.\n     * This is to open the field or to change locations.\n     * @param {!Blockly.ASTNode} node The field node.\n     * @return {string} The text explaining the next options when a user is on a\n     *     field.\n     * @private\n     */\n\n  }, {\n    key: \"getFieldOptions_\",\n    value: function getFieldOptions_(node) {\n      var field = node.getLocation();\n\n      if (field.isClickable()) {\n        return \"To interact with the field hit enter. Use the next or previous \\n      keys to change locations. \";\n      } else {\n        return 'Use the next or previous keys to change locations. ';\n      }\n    }\n    /**\n     * Gets the next options for when a user is on a block.\n     * @return {string} The text explaining the next options for a block.\n     * @private\n     */\n\n  }, {\n    key: \"getBlockOptions_\",\n    value: function getBlockOptions_() {\n      return \"Use the next or previous keys to change locations. \";\n    }\n    /**\n     * Gets the text for the connection point.\n     * @param {!Blockly.ASTNode} node The connection node.\n     * @param {boolean} isMarker True if the marker was moved.\n     * @return {string} The text explaining the next options when a user is on a\n     *     connection.\n     * @private\n     */\n\n  }, {\n    key: \"getConnectionOptions_\",\n    value: function getConnectionOptions_(node, isMarker) {\n      var markerText = \". To mark this location, hit enter. To change locations use the next or previous keys\";\n      var finalText = '';\n\n      if (!isMarker) {\n        finalText += \"\".concat(markerText);\n      }\n\n      return finalText;\n    }\n    /**\n     * Gets the options for a user on a  stack of blocks.\n     * @return {string} The text explaining the next options when a user is on a\n     *     stack of blocks.\n     * @private\n     */\n\n  }, {\n    key: \"getStackOptions_\",\n    value: function getStackOptions_(node) {\n      var finalText = '';\n\n      if (node.prev()) {\n        finalText += \"To go to the last block in the previous group of blocks, \\n      press previous.\";\n      }\n\n      finalText += \" To go to the first block in the stack hit next.\";\n      return finalText;\n    }\n    /**\n     * Get the text for the source block of the node.\n     * @param {!Blockly.BlockSvg} srcBlock The block to get the text for.\n     * @param {string=} opt_emptyToken The optional empty token.\n     * @return {string} The text describing the source block of the node.\n     * @private\n     */\n\n  }, {\n    key: \"getBlockText_\",\n    value: function getBlockText_(srcBlock, opt_emptyToken) {\n      var emptyToken = opt_emptyToken || blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg['EMPTY_TOKEN'];\n\n      if (srcBlock) {\n        if (srcBlock.statementInputCount > 0) {\n          emptyToken = ' do blank ';\n        }\n\n        return srcBlock.toString(null, emptyToken);\n      } else {\n        return '';\n      }\n    }\n    /**\n     * Creates text for a feild.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"fieldNodeToText_\",\n    value: function fieldNodeToText_(node) {\n      var field = node.getLocation();\n      return field.getText() + '. ';\n    }\n    /**\n     * Creates text for a feild.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"blockNodeToText_\",\n    value: function blockNodeToText_(node) {\n      var block =\n      /** @type{Blockly.BlockSvg} */\n      node.getLocation();\n      var blockText = this.getBlockText_(block);\n      var finalText = '';\n\n      if (block.getSurroundParent()) {\n        var parentBlockText = this.getBlockText_(block.getSurroundParent());\n        finalText += \"You are inside of block \".concat(parentBlockText, \". . \");\n      }\n\n      finalText += \"You are on , \".concat(blockText, \". . \");\n      return finalText;\n    }\n    /**\n     * Creates text for an input.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @param {boolean} isMarker True if the marker was moved.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"inputNodeToText_\",\n    value: function inputNodeToText_(node, isMarker) {\n      var inputConnection =\n      /** @type{Blockly.Input} */\n      node.getLocation();\n      var connectionText = \"You are on a connection\";\n      var finalText = '';\n\n      if (inputConnection.type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.NEXT_STATEMENT) {\n        var blockText = this.getBlockText_(node.getSourceBlock());\n        finalText = \"Inside \".concat(blockText, \". \").concat(connectionText, \". \");\n      } else if (inputConnection.type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.INPUT_VALUE) {\n        var _blockText = this.getBlockText_(node.getSourceBlock(), ' ');\n\n        finalText = \"\".concat(connectionText, \" after \").concat(_blockText);\n      }\n\n      return finalText;\n    }\n    /**\n     * Creates text for a output connection.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"outputNodeToText_\",\n    value: function outputNodeToText_(node) {\n      var blockText = this.getBlockText_(node.getSourceBlock());\n      return \"You are on a connection for block, \".concat(blockText);\n    }\n    /**\n     * Creates text for a next connection.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @param {boolean} isMarker True to get the text for a marker,\n     *     false otherwise.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"nextNodeToText_\",\n    value: function nextNodeToText_(node, isMarker) {\n      var block = node.getSourceBlock();\n      var blockText = this.getBlockText_(node.getSourceBlock());\n      var finalText = '';\n\n      if (block.getSurroundParent()) {\n        var parentBlockText = this.getBlockText_(block.getSurroundParent());\n        finalText += \"You are inside of block \".concat(parentBlockText, \". . \");\n      }\n\n      finalText += \"\".concat(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg['NEXT'], \" \").concat(blockText);\n      return finalText;\n    }\n    /**\n     * Creates text for a previous connection.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @param {boolean} isMarker True to get the text for a marker,\n     *     false otherwise.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"previousNodeToText_\",\n    value: function previousNodeToText_(node, isMarker) {\n      var block = node.getSourceBlock();\n      var blockText = this.getBlockText_(block);\n      var finalText = '';\n\n      if (block.getSurroundParent()) {\n        var parentBlockText = this.getBlockText_(block.getSurroundParent());\n        finalText += \"You are inside of block \".concat(parentBlockText, \". . \");\n      }\n\n      finalText += \"\".concat(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg['PREVIOUS'], \" \").concat(blockText);\n      return finalText;\n    }\n    /**\n     * Creates text for a stack of blocks.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @param {!Blockly.ASTNode} oldNode The previous node.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"stackNodeToText_\",\n    value: function stackNodeToText_(node, oldNode) {\n      var srcBlock = node.getSourceBlock();\n      var newNodeTopBlock = srcBlock.getTopStackBlock();\n      var oldNodeTopBlock = null;\n\n      if (oldNode && oldNode.getSourceBlock()) {\n        oldNodeTopBlock = oldNode.getSourceBlock().getTopStackBlock();\n      }\n\n      var finalText = '';\n\n      if (srcBlock && srcBlock.workspace.isFlyout) {\n        finalText = this.getBlockText_(node.getSourceBlock());\n        finalText += \" . . To add this block to the workspace press Enter. . \\n      To go to the next block hit next. . To go back to the workspace \\n      hit escape. \";\n      } else if (srcBlock) {\n        if (oldNodeTopBlock !== newNodeTopBlock) {\n          finalText += \"You are on a new group of blocks. \";\n        } else {\n          finalText += \"You are on a group of blocks. \";\n        }\n      }\n\n      return finalText;\n    }\n    /**\n     * Creates text for a workspace.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"workspaceNodeToText_\",\n    value: function workspaceNodeToText_(node) {\n      var workspace =\n      /** @type{Blockly.WorkspaceSvg} */\n      node.getLocation(); // TODO: All text should be added to Blockly.Msg to allow for translation.\n\n      var text = null;\n\n      if (workspace.isFlyout) {\n        text = 'In the flyout, please select a block';\n      } else if (workspace.isMutator) {\n        text = 'In the mutator workspace, use this workspace to change a block';\n      } else {\n        text = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg['MAIN_WS'];\n      }\n\n      return text;\n    }\n  }]);\n\n  return Speaker;\n}();\nvar speaker = new Speaker();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3BlYWtlci5qcz9jZDc3Il0sIm5hbWVzIjpbIlNwZWFrZXIiLCJvcHRNZXNzYWdlcyIsIm1lc3NhZ2VzIiwiQmxvY2tseSIsInV0aWxzIiwib2JqZWN0IiwibWl4aW4iLCJzZXRMb2NhbGUiLCJub092ZXJyaWRlcyIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiayIsIk1zZyIsInRleHQiLCJzaG91bGRDYW5jZWwiLCJvbkVuZCIsIm9uU3RhcnQiLCJhdWRpbyIsIlNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSIsIndpbmRvdyIsInNwZWVjaFN5bnRoZXNpcyIsInNwZWFraW5nIiwiY2FuY2VsIiwib25lbmQiLCJvbnN0YXJ0Iiwic3BlYWsiLCJwYXVzZSIsInJlc3VtZSIsImV2ZW50IiwidHlwZSIsIkV2ZW50cyIsIk1BUktFUl9NT1ZFIiwibm9kZVRleHQiLCJub2RlVG9UZXh0XyIsIm5ld05vZGUiLCJvbGROb2RlIiwiaXNDdXJzb3IiLCJtb2RhbCIsImhlYWRlciIsInF1ZXJ5U2VsZWN0b3IiLCJoZWFkZXJUZXh0IiwidGV4dENvbnRlbnQiLCJ0cmltIiwiYWRkQnV0dG9uTGlzdGVuZXJzXyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtYWluVGV4dCIsImZvb3RlckJ0bnMiLCJidG5zIiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJ1dHRvblRvU3BlZWNoXyIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImxlbmd0aCIsIm5vZGUiLCJpc01hcmtlciIsImZpbmFsVGV4dCIsImdldFR5cGUiLCJBU1ROb2RlIiwidHlwZXMiLCJGSUVMRCIsImZpZWxkTm9kZVRvVGV4dF8iLCJCTE9DSyIsImJsb2NrTm9kZVRvVGV4dF8iLCJJTlBVVCIsImlucHV0Tm9kZVRvVGV4dF8iLCJPVVRQVVQiLCJvdXRwdXROb2RlVG9UZXh0XyIsIk5FWFQiLCJuZXh0Tm9kZVRvVGV4dF8iLCJQUkVWSU9VUyIsInByZXZpb3VzTm9kZVRvVGV4dF8iLCJTVEFDSyIsInN0YWNrTm9kZVRvVGV4dF8iLCJXT1JLU1BBQ0UiLCJ3b3Jrc3BhY2VOb2RlVG9UZXh0XyIsInRvU3RyaW5nIiwiZ2V0TmV4dE9wdGlvbnNfIiwiZ2V0RmllbGRPcHRpb25zXyIsImdldEJsb2NrT3B0aW9uc18iLCJnZXRDb25uZWN0aW9uT3B0aW9uc18iLCJnZXRTdGFja09wdGlvbnNfIiwiZmllbGQiLCJnZXRMb2NhdGlvbiIsImlzQ2xpY2thYmxlIiwibWFya2VyVGV4dCIsInByZXYiLCJzcmNCbG9jayIsIm9wdF9lbXB0eVRva2VuIiwiZW1wdHlUb2tlbiIsInN0YXRlbWVudElucHV0Q291bnQiLCJnZXRUZXh0IiwiYmxvY2siLCJibG9ja1RleHQiLCJnZXRCbG9ja1RleHRfIiwiZ2V0U3Vycm91bmRQYXJlbnQiLCJwYXJlbnRCbG9ja1RleHQiLCJpbnB1dENvbm5lY3Rpb24iLCJjb25uZWN0aW9uVGV4dCIsIk5FWFRfU1RBVEVNRU5UIiwiZ2V0U291cmNlQmxvY2siLCJJTlBVVF9WQUxVRSIsIm5ld05vZGVUb3BCbG9jayIsImdldFRvcFN0YWNrQmxvY2siLCJvbGROb2RlVG9wQmxvY2siLCJ3b3Jrc3BhY2UiLCJpc0ZseW91dCIsImlzTXV0YXRvciIsInNwZWFrZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sSUFBTUEsT0FBYjtBQUNFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0UsbUJBQVlDLFdBQVosRUFBeUI7QUFBQTs7QUFDdkIsUUFBTUMsUUFBUSxHQUFHO0FBQ2YsaUJBQVcsdUJBREk7QUFFZixlQUNJLDBIQUhXO0FBSWYsa0JBQVksa0NBSkc7QUFLZixjQUFRLHlCQUxPO0FBTWYsZ0JBQVUsMkJBTks7QUFPZixvQkFBYyx3QkFQQztBQVFmLGVBQVMsb0JBUk07QUFTZix5QkFBbUIsdUNBVEo7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LEtBQUtzQyxhQUFMLENBQW1CeEMsSUFBSSxDQUFDOEMsY0FBTCxFQUFuQixDQUFaO0FBQ0E1QyxpQkFBUyx5SkFBVDtBQUdELE9BTEQsTUFLTyxJQUFJK0IsUUFBSixFQUFjO0FBQ25CLFlBQUlpQixlQUFlLEtBQUtGLGVBQXhCLEVBQXlDO0FBQ3ZDOUMsbUJBQVMsd0NBQVQ7QUFDRCxTQUZELE1BRU87QUFDTEEsbUJBQVMsb0NBQVQ7QUFDRDtBQUNGOztBQUNELGFBQU9BLFNBQVA7QUFDRDtBQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUF0ZEE7QUFBQTtBQUFBLHlDQXVkdUJGLElBdmR2QixFQXVkNkI7QUFDekIsVUFBTW1ELFNBQVM7QUFBRztBQUFvQ25ELFVBQUksQ0FBQzZCLFdBQUwsRUFBdEQsQ0FEeUIsQ0FFekI7O0FBQ0EsVUFBSXZFLElBQUksR0FBRyxJQUFYOztBQUNBLFVBQUk2RixTQUFTLENBQUNDLFFBQWQsRUFBd0I7QUFDdEI5RixZQUFJLEdBQUcsc0NBQVA7QUFDRCxPQUZELE1BRU8sSUFBSTZGLFNBQVMsQ0FBQ0UsU0FBZCxFQUF5QjtBQUM5Qi9GLFlBQUksR0FBRyxnRUFBUDtBQUNELE9BRk0sTUFFQTtBQUNMQSxZQUFJLEdBQUdYLG1EQUFPLENBQUNVLEdBQVIsQ0FBWSxTQUFaLENBQVA7QUFDRDs7QUFDRCxhQUFPQyxJQUFQO0FBQ0Q7QUFuZUg7O0FBQUE7QUFBQTtBQXNlTyxJQUFNZ0csT0FBTyxHQUFHLElBQUk5RyxPQUFKLEVBQWhCIiwiZmlsZSI6Ii4vc3JjL3NwZWFrZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNwZWFrZXIgdXNlZCBmb3Igc3BlYWtpbmcgb3V0IHRleHQuXG4gKi9cblxuaW1wb3J0IEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcblxuLyoqXG4gKiBDb252ZW5pZW5jZSBtZXRob2RzIGZvciBzcGVha2luZyBvdXQgdGV4dC5cbiAqIE1vcmUgaW5mb3JtYXRpb24gb24gc3BlYWtlcnMgY2FuIGJlIGZvdW5kIGhlcmU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU3BlZWNoU3ludGhlc2lzLlxuICovXG5leHBvcnQgY2xhc3MgU3BlYWtlciB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgYSBzcGVha2VyLlxuICAgKiBAcGFyYW0ge1NwZWFrZXJNZXNzYWdlcz19IG9wdE1lc3NhZ2VzIE9wdGlvbmFsIG1lc3NhZ2VzIGZvciB0aGUgc3BlYWtlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdE1lc3NhZ2VzKSB7XG4gICAgY29uc3QgbWVzc2FnZXMgPSB7XG4gICAgICAnTUFJTl9XUyc6ICdPbiB0aGUgbWFpbiB3b3Jrc3BhY2UnLFxuICAgICAgJ1NUQUNLJzpcbiAgICAgICAgICAnVG8gZ28gdG8gdGhlIGxhc3QgYmxvY2sgaW4gdGhlIHByZXZpb3VzIGdyb3VwIG9mIGJsb2NrcywgcHJlc3MgcHJldmlvdXMuIFRvIGdvIHRvIHRoZSBmaXJzdCBibG9jayBpbiB0aGUgc3RhY2sgaGl0IG5leHQuJyxcbiAgICAgICdQUkVWSU9VUyc6ICdZb3UgYXJlIG9uIGEgY29ubmVjdGlvbiBiZWZvcmUsICcsXG4gICAgICAnTkVYVCc6ICdPbiBhIGNvbm5lY3Rpb24gYWZ0ZXIsICcsXG4gICAgICAnT1VUUFVUJzogJ09uIGFuIG91dHB1dCBjb25uZWN0aW9uLiAnLFxuICAgICAgJ0NPTk5FQ1RJT04nOiAnQXQgYSBjb25uZWN0aW9uIHBvaW50LicsXG4gICAgICAnQkxPQ0snOiAnT24gYSBibG9jayBvZiB0eXBlJyxcbiAgICAgICdDTElDS0FCTEVfRklFTEQnOiAnVG8gaW50ZXJhY3Qgd2l0aCB0aGUgZmllbGQgaGl0IGVudGVyLicsXG4gICAgICAnRU1QVFlfVE9LRU4nOiAnYmxhbmsnLFxuICAgICAgJ01BUktfQ09OTkVDVElPTic6ICdUbyBtYXJrIHRoZSBibG9jayBwcmVzcyBlbnRlci4gJyxcbiAgICAgICdFWElUX0VESVRfTU9ERSc6ICdUbyBleGl0IGVkaXQgbW9kZSBoaXQgZXNjYXBlLiAnLFxuICAgIH07XG5cbiAgICBCbG9ja2x5LnV0aWxzLm9iamVjdC5taXhpbihtZXNzYWdlcywgb3B0TWVzc2FnZXMpO1xuXG4gICAgdGhpcy5zZXRMb2NhbGUobWVzc2FnZXMpO1xuICAgIHRoaXMubm9PdmVycmlkZXMgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgbWVzc2FnZXMgdG8gYmUgcmVhZCBvdXQgYnkgYSBzY3JlZW4gcmVhZGVyLlxuICAgKiBAdHlwZWRlZiB7e1xuICAgKiAgICAgTUFJTl9XUzogc3RyaW5nLFxuICAgKiAgICAgU1RBQ0s6IHN0cmluZyxcbiAgICogICAgIFBSRVZJT1VTOiBzdHJpbmcsXG4gICAqICAgICBORVhUOiBzdHJpbmcsXG4gICAqICAgICBPVVRQVVQ6IHN0cmluZyxcbiAgICogICAgIENPTk5FQ1RJT046IHN0cmluZyxcbiAgICogICAgIEJMT0NLOiBzdHJpbmcsXG4gICAqICAgICBFTVBUWV9UT0tFTjogc3RyaW5nLFxuICAgKiAgICAgTUFSS19DT05ORUNUSU9OOiBzdHJpbmcsXG4gICAqIH19IFNwZWFrZXJNZXNzYWdlc1xuICAgKi9cblxuICAvKipcbiAgICogU2V0IHRoZSBtZXNzYWdlcyBmb3IgdGhlIHNwZWFrZXIuXG4gICAqIEBwYXJhbSB7IVNwZWFrZXJNZXNzYWdlc30gbWVzc2FnZXMgVGhlIG1lc3NhZ2VzIG5lZWRlZCB0byBjcmVhdGUgYSBzcGVha2VyLlxuICAgKi9cbiAgc2V0TG9jYWxlKG1lc3NhZ2VzKSB7XG4gICAgT2JqZWN0LmtleXMobWVzc2FnZXMpLmZvckVhY2goKGspID0+IHtcbiAgICAgIEJsb2NrbHkuTXNnW2tdID0gbWVzc2FnZXNba107XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3BlYWtzIG91dCB0aGUgdGV4dCB0aGF0IHdhcyBnaXZlbiB0byBpdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgdG8gc3BlYWsgb3V0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBzaG91bGRDYW5jZWwgVHJ1ZSB0byBzdG9wIHRoZSBjdXJyZW50IHV0dGVyYW5jZSwgZmFsc2UgdG9cbiAgICogICAgIHdhaXQgdW50aWwgdGhlIGN1cnJlbnQgdXR0ZXJhbmNlIGlzIGRvbmUgYmVmb3JlIHNwZWFraW5nLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uPX0gb25FbmQgVGhlIGZ1bmN0aW9uIHRvIHJ1biBhZnRlciB0aGUgdGV4dCBoYXMgYmVlblxuICAgKiAgICAgc3Bva2VuLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uPX0gb25TdGFydCBUaGUgZnVuY3Rpb24gcnVuIHdoZW4gdGhlIHRleHQgaGFzIGJlZ3VuIHRvXG4gICAqICAgICBiZSBzcG9rZW4uXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHNwZWFrKHRleHQsIHNob3VsZENhbmNlbCwgb25FbmQsIG9uU3RhcnQpIHtcbiAgICBjb25zdCBhdWRpbyA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UodGV4dCk7XG5cbiAgICBpZiAoc2hvdWxkQ2FuY2VsICYmICF0aGlzLm5vT3ZlcnJpZGVzICYmIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuc3BlYWtpbmcpIHtcbiAgICAgIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuY2FuY2VsKCk7XG4gICAgfVxuXG4gICAgaWYgKG9uRW5kKSB7XG4gICAgICBhdWRpby5vbmVuZCA9IG9uRW5kO1xuICAgIH1cblxuICAgIGlmIChvblN0YXJ0KSB7XG4gICAgICBhdWRpby5vbnN0YXJ0ID0gb25TdGFydDtcbiAgICB9XG4gICAgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5zcGVhayhhdWRpbyk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIG91dCB0aGUgcXVldWUgb2YgdGV4dCB0byBzcGVhay5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY2FuY2VsKCkge1xuICAgIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuY2FuY2VsKCk7XG4gIH1cblxuICAvKipcbiAgICogUGF1c2VzIHNwZWFraW5nLlxuICAgKi9cbiAgcGF1c2UoKSB7XG4gICAgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5wYXVzZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3VtZXMgc3BlYWtpbmcuXG4gICAqL1xuICByZXN1bWUoKSB7XG4gICAgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5yZXN1bWUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGVha3Mgb3V0IHRleHQgaWYgdGhlIGV2ZW50IGlzIG9mIHR5cGUgbWFya2VyIG9yIGN1cnNvciBtb3ZlLlxuICAgKiBAcGFyYW0geyFCbG9ja2x5LkV2ZW50c30gZXZlbnQgVGhlIGV2ZW50IHRvIHNwZWFrIG91dC5cbiAgICovXG4gIG5vZGVUb1NwZWVjaChldmVudCkge1xuICAgIC8vIFRPRE86IFVwZGF0ZSB0aGlzIGlmIHdlIGxpbmsgdG8gdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBibG9ja2x5LlxuICAgIGlmIChldmVudC50eXBlID09PSBCbG9ja2x5LkV2ZW50cy5NQVJLRVJfTU9WRSkge1xuICAgICAgbGV0IG5vZGVUZXh0ID0gdGhpcy5ub2RlVG9UZXh0XyhldmVudC5uZXdOb2RlLCBldmVudC5vbGROb2RlLCAhZXZlbnQuaXNDdXJzb3IpO1xuICAgICAgaWYgKCFldmVudC5pc0N1cnNvcikge1xuICAgICAgICBub2RlVGV4dCA9IGBZb3UgaGF2ZSBtYXJrZWQgYSBsb2NhdGlvbi4gVG8gZmluZCBhIG5ldyBibG9jayB0byBjb25uZWN0IFxuICAgICAgICB0byB0aGlzIGxvY2F0aW9uIGhpdCBULiAhIC4gVG8gaW5zZXJ0IGEgYmxvY2sgb24gdGhlIHdvcmtzcGFjZSwgXG4gICAgICAgIGZpbmQgdGhlIGxvY2F0aW9uIG9mIHRoZSBibG9jayBhbmQgaGl0IEkuIGA7XG4gICAgICB9XG4gICAgICB0aGlzLnNwZWFrKG5vZGVUZXh0LCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3BlYWtzIG91dCB0aGUgdGV4dCBmb3IgYSBtb2RhbC5cbiAgICogQHBhcmFtIHtFbGVtZW50fSBtb2RhbCBUaGUgbW9kYWwgdG8gY29sbGVjdCB0aGUgdGV4dCB0byByZWFkIG91dC5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgbW9kYWxUb1RleHQobW9kYWwpIHtcbiAgICBjb25zdCBoZWFkZXIgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdoZWFkZXInKTtcbiAgICBjb25zdCBoZWFkZXJUZXh0ID0gaGVhZGVyLnRleHRDb250ZW50LnRyaW0oKTtcbiAgICBpZiAoaGVhZGVyVGV4dCAhPT0gJycpIHtcbiAgICAgIHRoaXMuc3BlYWsoaGVhZGVyVGV4dCk7XG4gICAgfVxuICAgIHRoaXMuYWRkQnV0dG9uTGlzdGVuZXJzXyhoZWFkZXIucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJykpO1xuXG4gICAgY29uc3QgbWFpblRleHQgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdtYWluJykudGV4dENvbnRlbnQudHJpbSgpO1xuXG4gICAgaWYgKG1haW5UZXh0ICE9PSAnJykge1xuICAgICAgdGhpcy5zcGVhayhtYWluVGV4dCk7XG4gICAgfVxuXG4gICAgY29uc3QgZm9vdGVyQnRucyA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2Zvb3RlcicpLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbicpO1xuICAgIHRoaXMuYWRkQnV0dG9uTGlzdGVuZXJzXyhmb290ZXJCdG5zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGxpc3RlbmVycyBmb3Igd2hlbiB0aGUgYnV0dG9uIGlzIGZvY3VzZWQuXG4gICAqIEBwYXJhbSB7IU5vZGVMaXN0fSBidG5zIFRoZSBidXR0b25zIHRvIGFkZCBsaXN0ZW5lcnMgdG8uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhZGRCdXR0b25MaXN0ZW5lcnNfKGJ0bnMpIHtcbiAgICBmb3IgKGNvbnN0IGJ0biBvZiBidG5zKSB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuYnV0dG9uVG9TcGVlY2hfKGJ0bnMsIGJ0biwgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBidG4pIHtcbiAgICAgICAgdGhpcy5idXR0b25Ub1NwZWVjaF8oYnRucywgYnRuLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNwZWFrcyBvdXQgaW5mb3JtYXRpb24gYWJvdXQgYSBidXR0b24uXG4gICAqIEBwYXJhbSB7Tm9kZUxpc3R9IGJ0bnMgVGhlIGxpc3Qgb2YgYnV0dG9ucyBvbiB0aGUgbW9kYWwuXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gYnRuIFRoZSBidXR0b24uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvdWxkQ2FuY2VsIFRydWUgaWYgdGhpcyBzaG91bGQgY2FuY2VsIHRoZSBwcmV2aW91c1xuICAgKiAgICAgdXR0ZXJhbmNlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYnV0dG9uVG9TcGVlY2hfKGJ0bnMsIGJ0biwgc2hvdWxkQ2FuY2VsKSB7XG4gICAgdGhpcy5zcGVhaygnSGl0IGVudGVyIHRvICcsIHNob3VsZENhbmNlbCk7XG4gICAgaWYgKGJ0bi50ZXh0Q29udGVudCA9PT0gJycpIHtcbiAgICAgIHRoaXMuc3BlYWsoYnRuLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zcGVhayhidG4udGV4dENvbnRlbnQpO1xuICAgIH1cbiAgICBpZiAoYnRucy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnNwZWFrKCdIaXQgdGFiIHRvIGdvIHRvIHlvdXIgbmV4dCBvcHRpb24nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3BlYWtzIG91dCBhbiBhdWRpbyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gbm9kZS5cbiAgICogQHBhcmFtIHtCbG9ja2x5LkFTVE5vZGV9IG5vZGUgVGhlIG5vZGUgdG8gc3BlYWsgb3V0LlxuICAgKiBAcGFyYW0ge0Jsb2NrbHkuQVNUTm9kZX0gb2xkTm9kZSBUaGUgcHJldmlvdXMgbm9kZSB0byBzcGVhayBvdXQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNYXJrZXIgVHJ1ZSB0byBnZXQgdGhlIHRleHQgZm9yIGEgbWFya2VyLFxuICAgKiAgICAgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBub2RlLlxuICAgKiBAcHVibGljXG4gICAqL1xuICBub2RlVG9UZXh0Xyhub2RlLCBvbGROb2RlLCBpc01hcmtlcikge1xuICAgIGxldCBmaW5hbFRleHQgPSAnJztcbiAgICBzd2l0Y2ggKG5vZGUuZ2V0VHlwZSgpKSB7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5GSUVMRDpcbiAgICAgICAgZmluYWxUZXh0ID0gdGhpcy5maWVsZE5vZGVUb1RleHRfKG5vZGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLkJMT0NLOlxuICAgICAgICBmaW5hbFRleHQgPSB0aGlzLmJsb2NrTm9kZVRvVGV4dF8obm9kZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuSU5QVVQ6XG4gICAgICAgIGZpbmFsVGV4dCA9IHRoaXMuaW5wdXROb2RlVG9UZXh0Xyhub2RlLCBpc01hcmtlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuT1VUUFVUOlxuICAgICAgICBmaW5hbFRleHQgPSB0aGlzLm91dHB1dE5vZGVUb1RleHRfKG5vZGUsIGlzTWFya2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5ORVhUOlxuICAgICAgICBmaW5hbFRleHQgPSB0aGlzLm5leHROb2RlVG9UZXh0Xyhub2RlLCBpc01hcmtlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuUFJFVklPVVM6XG4gICAgICAgIGZpbmFsVGV4dCA9IHRoaXMucHJldmlvdXNOb2RlVG9UZXh0Xyhub2RlLCBpc01hcmtlcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuU1RBQ0s6XG4gICAgICAgIGZpbmFsVGV4dCA9IHRoaXMuc3RhY2tOb2RlVG9UZXh0Xyhub2RlLCBvbGROb2RlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5XT1JLU1BBQ0U6XG4gICAgICAgIGZpbmFsVGV4dCA9IHRoaXMud29ya3NwYWNlTm9kZVRvVGV4dF8obm9kZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG5vZGUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgZmluYWxUZXh0ICs9IHRoaXMuZ2V0TmV4dE9wdGlvbnNfKG5vZGUsIG9sZE5vZGUsIGlzTWFya2VyKTtcbiAgICByZXR1cm4gZmluYWxUZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGV4dCBleHBsYWluaW5nIHRoZSBuZXh0IG9wdGlvbnMgYXZhaWxhYmxlIGZvciBhIHVzZXIuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgY3VycmVudCBub2RlLlxuICAgKiBAcGFyYW0geyFCbG9ja2x5LkFTVE5vZGV9IG9sZE5vZGUgVGhlIHByZXZpb3VzIG5vZGUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNYXJrZXIgVHJ1ZSBpZiB0aGUgbWFya2VyIHdhcyBtb3ZlZC5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUZXh0IGV4cGxhaW5pbmcgbmV4dCBvcHRpb25zIGZvciB0aGUgZmllbGQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXROZXh0T3B0aW9uc18obm9kZSwgb2xkTm9kZSwgaXNNYXJrZXIpIHtcbiAgICBzd2l0Y2ggKG5vZGUuZ2V0VHlwZSgpKSB7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5GSUVMRDpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmllbGRPcHRpb25zXyhub2RlKTtcbiAgICAgIGNhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLkJMT0NLOlxuICAgICAgICByZXR1cm4gdGhpcy5nZXRCbG9ja09wdGlvbnNfKG5vZGUpO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuSU5QVVQ6XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbm5lY3Rpb25PcHRpb25zXyhub2RlLCBpc01hcmtlcik7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5PVVRQVVQ6XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbm5lY3Rpb25PcHRpb25zXyhub2RlLCBpc01hcmtlcik7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5ORVhUOlxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb25uZWN0aW9uT3B0aW9uc18obm9kZSwgaXNNYXJrZXIpO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuUFJFVklPVVM6XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbm5lY3Rpb25PcHRpb25zXyhub2RlLCBpc01hcmtlcik7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5TVEFDSzpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RhY2tPcHRpb25zXyhub2RlKTtcbiAgICAgIGNhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLldPUktTUEFDRTpcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG5vZGUudG9TdHJpbmcoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbmV4dCBvcHRpb25zIGZvciB3aGVuIGEgdXNlciBpcyBvbiBhIGZpZWxkLlxuICAgKiBUaGlzIGlzIHRvIG9wZW4gdGhlIGZpZWxkIG9yIHRvIGNoYW5nZSBsb2NhdGlvbnMuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgZmllbGQgbm9kZS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBleHBsYWluaW5nIHRoZSBuZXh0IG9wdGlvbnMgd2hlbiBhIHVzZXIgaXMgb24gYVxuICAgKiAgICAgZmllbGQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRGaWVsZE9wdGlvbnNfKG5vZGUpIHtcbiAgICBjb25zdCBmaWVsZCA9IG5vZGUuZ2V0TG9jYXRpb24oKTtcbiAgICBpZiAoZmllbGQuaXNDbGlja2FibGUoKSkge1xuICAgICAgcmV0dXJuIGBUbyBpbnRlcmFjdCB3aXRoIHRoZSBmaWVsZCBoaXQgZW50ZXIuIFVzZSB0aGUgbmV4dCBvciBwcmV2aW91cyBcbiAgICAgIGtleXMgdG8gY2hhbmdlIGxvY2F0aW9ucy4gYDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdVc2UgdGhlIG5leHQgb3IgcHJldmlvdXMga2V5cyB0byBjaGFuZ2UgbG9jYXRpb25zLiAnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBuZXh0IG9wdGlvbnMgZm9yIHdoZW4gYSB1c2VyIGlzIG9uIGEgYmxvY2suXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgZXhwbGFpbmluZyB0aGUgbmV4dCBvcHRpb25zIGZvciBhIGJsb2NrLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0QmxvY2tPcHRpb25zXygpIHtcbiAgICByZXR1cm4gYFVzZSB0aGUgbmV4dCBvciBwcmV2aW91cyBrZXlzIHRvIGNoYW5nZSBsb2NhdGlvbnMuIGA7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdGV4dCBmb3IgdGhlIGNvbm5lY3Rpb24gcG9pbnQuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgY29ubmVjdGlvbiBub2RlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzTWFya2VyIFRydWUgaWYgdGhlIG1hcmtlciB3YXMgbW92ZWQuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgZXhwbGFpbmluZyB0aGUgbmV4dCBvcHRpb25zIHdoZW4gYSB1c2VyIGlzIG9uIGFcbiAgICogICAgIGNvbm5lY3Rpb24uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRDb25uZWN0aW9uT3B0aW9uc18obm9kZSwgaXNNYXJrZXIpIHtcbiAgICBjb25zdCBtYXJrZXJUZXh0ID0gYC4gVG8gbWFyayB0aGlzIGxvY2F0aW9uLCBoaXQgZW50ZXIuIFRvIGNoYW5nZSBsb2NhdGlvbnMgdXNlIHRoZSBuZXh0IG9yIHByZXZpb3VzIGtleXNgO1xuICAgIGxldCBmaW5hbFRleHQgPSAnJztcbiAgICBpZiAoIWlzTWFya2VyKSB7XG4gICAgICBmaW5hbFRleHQgKz0gYCR7bWFya2VyVGV4dH1gO1xuICAgIH1cbiAgICByZXR1cm4gZmluYWxUZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG9wdGlvbnMgZm9yIGEgdXNlciBvbiBhICBzdGFjayBvZiBibG9ja3MuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgZXhwbGFpbmluZyB0aGUgbmV4dCBvcHRpb25zIHdoZW4gYSB1c2VyIGlzIG9uIGFcbiAgICogICAgIHN0YWNrIG9mIGJsb2Nrcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFN0YWNrT3B0aW9uc18obm9kZSkge1xuICAgIGxldCBmaW5hbFRleHQgPSAnJztcbiAgICBpZiAobm9kZS5wcmV2KCkpIHtcbiAgICAgIGZpbmFsVGV4dCArPSBgVG8gZ28gdG8gdGhlIGxhc3QgYmxvY2sgaW4gdGhlIHByZXZpb3VzIGdyb3VwIG9mIGJsb2NrcywgXG4gICAgICBwcmVzcyBwcmV2aW91cy5gO1xuICAgIH1cbiAgICBmaW5hbFRleHQgKz0gYCBUbyBnbyB0byB0aGUgZmlyc3QgYmxvY2sgaW4gdGhlIHN0YWNrIGhpdCBuZXh0LmA7XG4gICAgcmV0dXJuIGZpbmFsVGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHRleHQgZm9yIHRoZSBzb3VyY2UgYmxvY2sgb2YgdGhlIG5vZGUuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQmxvY2tTdmd9IHNyY0Jsb2NrIFRoZSBibG9jayB0byBnZXQgdGhlIHRleHQgZm9yLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9lbXB0eVRva2VuIFRoZSBvcHRpb25hbCBlbXB0eSB0b2tlbi5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBkZXNjcmliaW5nIHRoZSBzb3VyY2UgYmxvY2sgb2YgdGhlIG5vZGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRCbG9ja1RleHRfKHNyY0Jsb2NrLCBvcHRfZW1wdHlUb2tlbikge1xuICAgIGxldCBlbXB0eVRva2VuID0gb3B0X2VtcHR5VG9rZW4gfHwgQmxvY2tseS5Nc2dbJ0VNUFRZX1RPS0VOJ107XG4gICAgaWYgKHNyY0Jsb2NrKSB7XG4gICAgICBpZiAoc3JjQmxvY2suc3RhdGVtZW50SW5wdXRDb3VudCA+IDApIHtcbiAgICAgICAgZW1wdHlUb2tlbiA9ICcgZG8gYmxhbmsgJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzcmNCbG9jay50b1N0cmluZyhudWxsLCBlbXB0eVRva2VuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRleHQgZm9yIGEgZmVpbGQuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgbm9kZSB0byBjcmVhdGUgdGV4dCBmb3IuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgZm9yIHRoZSBzY3JlZW4gcmVhZGVyIHRvIHJlYWQgb3V0LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBmaWVsZE5vZGVUb1RleHRfKG5vZGUpIHtcbiAgICBjb25zdCBmaWVsZCA9IG5vZGUuZ2V0TG9jYXRpb24oKTtcbiAgICByZXR1cm4gZmllbGQuZ2V0VGV4dCgpICsgJy4gJztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRleHQgZm9yIGEgZmVpbGQuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgbm9kZSB0byBjcmVhdGUgdGV4dCBmb3IuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgZm9yIHRoZSBzY3JlZW4gcmVhZGVyIHRvIHJlYWQgb3V0LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBibG9ja05vZGVUb1RleHRfKG5vZGUpIHtcbiAgICBjb25zdCBibG9jayA9IC8qKiBAdHlwZXtCbG9ja2x5LkJsb2NrU3ZnfSAqLyAobm9kZS5nZXRMb2NhdGlvbigpKTtcbiAgICBjb25zdCBibG9ja1RleHQgPSB0aGlzLmdldEJsb2NrVGV4dF8oYmxvY2spO1xuICAgIGxldCBmaW5hbFRleHQgPSAnJztcbiAgICBpZiAoYmxvY2suZ2V0U3Vycm91bmRQYXJlbnQoKSkge1xuICAgICAgY29uc3QgcGFyZW50QmxvY2tUZXh0ID0gdGhpcy5nZXRCbG9ja1RleHRfKGJsb2NrLmdldFN1cnJvdW5kUGFyZW50KCkpO1xuICAgICAgZmluYWxUZXh0ICs9IGBZb3UgYXJlIGluc2lkZSBvZiBibG9jayAke3BhcmVudEJsb2NrVGV4dH0uIC4gYDtcbiAgICB9XG4gICAgZmluYWxUZXh0ICs9IGBZb3UgYXJlIG9uICwgJHtibG9ja1RleHR9LiAuIGA7XG4gICAgcmV0dXJuIGZpbmFsVGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRleHQgZm9yIGFuIGlucHV0LlxuICAgKiBAcGFyYW0geyFCbG9ja2x5LkFTVE5vZGV9IG5vZGUgVGhlIG5vZGUgdG8gY3JlYXRlIHRleHQgZm9yLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzTWFya2VyIFRydWUgaWYgdGhlIG1hcmtlciB3YXMgbW92ZWQuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgZm9yIHRoZSBzY3JlZW4gcmVhZGVyIHRvIHJlYWQgb3V0LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBpbnB1dE5vZGVUb1RleHRfKG5vZGUsIGlzTWFya2VyKSB7XG4gICAgY29uc3QgaW5wdXRDb25uZWN0aW9uID0gLyoqIEB0eXBle0Jsb2NrbHkuSW5wdXR9ICovIChub2RlLmdldExvY2F0aW9uKCkpO1xuICAgIGNvbnN0IGNvbm5lY3Rpb25UZXh0ID0gYFlvdSBhcmUgb24gYSBjb25uZWN0aW9uYDtcbiAgICBsZXQgZmluYWxUZXh0ID0gJyc7XG4gICAgaWYgKGlucHV0Q29ubmVjdGlvbi50eXBlID09PSBCbG9ja2x5Lk5FWFRfU1RBVEVNRU5UKSB7XG4gICAgICBjb25zdCBibG9ja1RleHQgPSB0aGlzLmdldEJsb2NrVGV4dF8obm9kZS5nZXRTb3VyY2VCbG9jaygpKTtcbiAgICAgIGZpbmFsVGV4dCA9IGBJbnNpZGUgJHtibG9ja1RleHR9LiAke2Nvbm5lY3Rpb25UZXh0fS4gYDtcbiAgICB9IGVsc2UgaWYgKGlucHV0Q29ubmVjdGlvbi50eXBlID09PSBCbG9ja2x5LklOUFVUX1ZBTFVFKSB7XG4gICAgICBjb25zdCBibG9ja1RleHQgPSB0aGlzLmdldEJsb2NrVGV4dF8obm9kZS5nZXRTb3VyY2VCbG9jaygpLCAnICcpO1xuICAgICAgZmluYWxUZXh0ID0gYCR7Y29ubmVjdGlvblRleHR9IGFmdGVyICR7YmxvY2tUZXh0fWA7XG4gICAgfVxuICAgIHJldHVybiBmaW5hbFRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyB0ZXh0IGZvciBhIG91dHB1dCBjb25uZWN0aW9uLlxuICAgKiBAcGFyYW0geyFCbG9ja2x5LkFTVE5vZGV9IG5vZGUgVGhlIG5vZGUgdG8gY3JlYXRlIHRleHQgZm9yLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0ZXh0IGZvciB0aGUgc2NyZWVuIHJlYWRlciB0byByZWFkIG91dC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgb3V0cHV0Tm9kZVRvVGV4dF8obm9kZSkge1xuICAgIGNvbnN0IGJsb2NrVGV4dCA9IHRoaXMuZ2V0QmxvY2tUZXh0Xyhub2RlLmdldFNvdXJjZUJsb2NrKCkpO1xuICAgIHJldHVybiBgWW91IGFyZSBvbiBhIGNvbm5lY3Rpb24gZm9yIGJsb2NrLCAke2Jsb2NrVGV4dH1gO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGV4dCBmb3IgYSBuZXh0IGNvbm5lY3Rpb24uXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgbm9kZSB0byBjcmVhdGUgdGV4dCBmb3IuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNYXJrZXIgVHJ1ZSB0byBnZXQgdGhlIHRleHQgZm9yIGEgbWFya2VyLFxuICAgKiAgICAgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0ZXh0IGZvciB0aGUgc2NyZWVuIHJlYWRlciB0byByZWFkIG91dC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgbmV4dE5vZGVUb1RleHRfKG5vZGUsIGlzTWFya2VyKSB7XG4gICAgY29uc3QgYmxvY2sgPSBub2RlLmdldFNvdXJjZUJsb2NrKCk7XG4gICAgY29uc3QgYmxvY2tUZXh0ID0gdGhpcy5nZXRCbG9ja1RleHRfKG5vZGUuZ2V0U291cmNlQmxvY2soKSk7XG4gICAgbGV0IGZpbmFsVGV4dCA9ICcnO1xuICAgIGlmIChibG9jay5nZXRTdXJyb3VuZFBhcmVudCgpKSB7XG4gICAgICBjb25zdCBwYXJlbnRCbG9ja1RleHQgPSB0aGlzLmdldEJsb2NrVGV4dF8oYmxvY2suZ2V0U3Vycm91bmRQYXJlbnQoKSk7XG4gICAgICBmaW5hbFRleHQgKz0gYFlvdSBhcmUgaW5zaWRlIG9mIGJsb2NrICR7cGFyZW50QmxvY2tUZXh0fS4gLiBgO1xuICAgIH1cbiAgICBmaW5hbFRleHQgKz0gYCR7QmxvY2tseS5Nc2dbJ05FWFQnXX0gJHtibG9ja1RleHR9YDtcbiAgICByZXR1cm4gZmluYWxUZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGV4dCBmb3IgYSBwcmV2aW91cyBjb25uZWN0aW9uLlxuICAgKiBAcGFyYW0geyFCbG9ja2x5LkFTVE5vZGV9IG5vZGUgVGhlIG5vZGUgdG8gY3JlYXRlIHRleHQgZm9yLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzTWFya2VyIFRydWUgdG8gZ2V0IHRoZSB0ZXh0IGZvciBhIG1hcmtlcixcbiAgICogICAgIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBmb3IgdGhlIHNjcmVlbiByZWFkZXIgdG8gcmVhZCBvdXQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHByZXZpb3VzTm9kZVRvVGV4dF8obm9kZSwgaXNNYXJrZXIpIHtcbiAgICBjb25zdCBibG9jayA9IG5vZGUuZ2V0U291cmNlQmxvY2soKTtcbiAgICBjb25zdCBibG9ja1RleHQgPSB0aGlzLmdldEJsb2NrVGV4dF8oYmxvY2spO1xuICAgIGxldCBmaW5hbFRleHQgPSAnJztcbiAgICBpZiAoYmxvY2suZ2V0U3Vycm91bmRQYXJlbnQoKSkge1xuICAgICAgY29uc3QgcGFyZW50QmxvY2tUZXh0ID0gdGhpcy5nZXRCbG9ja1RleHRfKGJsb2NrLmdldFN1cnJvdW5kUGFyZW50KCkpO1xuICAgICAgZmluYWxUZXh0ICs9IGBZb3UgYXJlIGluc2lkZSBvZiBibG9jayAke3BhcmVudEJsb2NrVGV4dH0uIC4gYDtcbiAgICB9XG5cbiAgICBmaW5hbFRleHQgKz0gYCR7QmxvY2tseS5Nc2dbJ1BSRVZJT1VTJ119ICR7YmxvY2tUZXh0fWA7XG4gICAgcmV0dXJuIGZpbmFsVGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRleHQgZm9yIGEgc3RhY2sgb2YgYmxvY2tzLlxuICAgKiBAcGFyYW0geyFCbG9ja2x5LkFTVE5vZGV9IG5vZGUgVGhlIG5vZGUgdG8gY3JlYXRlIHRleHQgZm9yLlxuICAgKiBAcGFyYW0geyFCbG9ja2x5LkFTVE5vZGV9IG9sZE5vZGUgVGhlIHByZXZpb3VzIG5vZGUuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgZm9yIHRoZSBzY3JlZW4gcmVhZGVyIHRvIHJlYWQgb3V0LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzdGFja05vZGVUb1RleHRfKG5vZGUsIG9sZE5vZGUpIHtcbiAgICBjb25zdCBzcmNCbG9jayA9IG5vZGUuZ2V0U291cmNlQmxvY2soKTtcbiAgICBjb25zdCBuZXdOb2RlVG9wQmxvY2sgPSBzcmNCbG9jay5nZXRUb3BTdGFja0Jsb2NrKCk7XG4gICAgbGV0IG9sZE5vZGVUb3BCbG9jayA9IG51bGw7XG4gICAgaWYgKG9sZE5vZGUgJiYgb2xkTm9kZS5nZXRTb3VyY2VCbG9jaygpKSB7XG4gICAgICBvbGROb2RlVG9wQmxvY2sgPSBvbGROb2RlLmdldFNvdXJjZUJsb2NrKCkuZ2V0VG9wU3RhY2tCbG9jaygpO1xuICAgIH1cblxuICAgIGxldCBmaW5hbFRleHQgPSAnJztcblxuICAgIGlmIChzcmNCbG9jayAmJiBzcmNCbG9jay53b3Jrc3BhY2UuaXNGbHlvdXQpIHtcbiAgICAgIGZpbmFsVGV4dCA9IHRoaXMuZ2V0QmxvY2tUZXh0Xyhub2RlLmdldFNvdXJjZUJsb2NrKCkpO1xuICAgICAgZmluYWxUZXh0ICs9IGAgLiAuIFRvIGFkZCB0aGlzIGJsb2NrIHRvIHRoZSB3b3Jrc3BhY2UgcHJlc3MgRW50ZXIuIC4gXG4gICAgICBUbyBnbyB0byB0aGUgbmV4dCBibG9jayBoaXQgbmV4dC4gLiBUbyBnbyBiYWNrIHRvIHRoZSB3b3Jrc3BhY2UgXG4gICAgICBoaXQgZXNjYXBlLiBgO1xuICAgIH0gZWxzZSBpZiAoc3JjQmxvY2spIHtcbiAgICAgIGlmIChvbGROb2RlVG9wQmxvY2sgIT09IG5ld05vZGVUb3BCbG9jaykge1xuICAgICAgICBmaW5hbFRleHQgKz0gYFlvdSBhcmUgb24gYSBuZXcgZ3JvdXAgb2YgYmxvY2tzLiBgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmluYWxUZXh0ICs9IGBZb3UgYXJlIG9uIGEgZ3JvdXAgb2YgYmxvY2tzLiBgO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmluYWxUZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGV4dCBmb3IgYSB3b3Jrc3BhY2UuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgbm9kZSB0byBjcmVhdGUgdGV4dCBmb3IuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgZm9yIHRoZSBzY3JlZW4gcmVhZGVyIHRvIHJlYWQgb3V0LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICB3b3Jrc3BhY2VOb2RlVG9UZXh0Xyhub2RlKSB7XG4gICAgY29uc3Qgd29ya3NwYWNlID0gLyoqIEB0eXBle0Jsb2NrbHkuV29ya3NwYWNlU3ZnfSAqLyAobm9kZS5nZXRMb2NhdGlvbigpKTtcbiAgICAvLyBUT0RPOiBBbGwgdGV4dCBzaG91bGQgYmUgYWRkZWQgdG8gQmxvY2tseS5Nc2cgdG8gYWxsb3cgZm9yIHRyYW5zbGF0aW9uLlxuICAgIGxldCB0ZXh0ID0gbnVsbDtcbiAgICBpZiAod29ya3NwYWNlLmlzRmx5b3V0KSB7XG4gICAgICB0ZXh0ID0gJ0luIHRoZSBmbHlvdXQsIHBsZWFzZSBzZWxlY3QgYSBibG9jayc7XG4gICAgfSBlbHNlIGlmICh3b3Jrc3BhY2UuaXNNdXRhdG9yKSB7XG4gICAgICB0ZXh0ID0gJ0luIHRoZSBtdXRhdG9yIHdvcmtzcGFjZSwgdXNlIHRoaXMgd29ya3NwYWNlIHRvIGNoYW5nZSBhIGJsb2NrJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGV4dCA9IEJsb2NrbHkuTXNnWydNQUlOX1dTJ107XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzcGVha2VyID0gbmV3IFNwZWFrZXIoKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/speaker.js\n");

/***/ }),

/***/ "./src/tutorial.js":
/*!*************************!*\
  !*** ./src/tutorial.js ***!
  \*************************/
/*! exports provided: Tutorial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Tutorial\", function() { return Tutorial; });\n/* harmony import */ var _tutorial_step__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tutorial_step */ \"./src/tutorial_step.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var micromodal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! micromodal */ \"./node_modules/micromodal/dist/micromodal.es.js\");\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Multi-step tutorial using modals.\n */\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n/**\n * A multi-step tutorial for the accessible music game.\n */\n\nvar Tutorial = /*#__PURE__*/function () {\n  /**\n   * Class for a tutorial.\n   * @param {Blockly.WorkspaceSvg} workspace The workspace the user\n   *     will interact with.\n   * @constructor\n   */\n  function Tutorial(workspace) {\n    var _this = this;\n\n    _classCallCheck(this, Tutorial);\n\n    /**\n     * The id of the modal.\n     * @type {string}\n     */\n    this.modalId = 'tutorialModal';\n    /**\n     * The id of the tutorial text.\n     * @type {string}\n     */\n\n    this.stepTextId = this.modalId + 'Text';\n    /**\n     * The id of the next step button.\n     * @type {string}\n     */\n\n    this.stepButtonId = this.modalId + 'StepBtn';\n    /**\n     * The id of the hide modal button.\n     * @type {string}\n     */\n\n    this.hideButtonId = this.modalId + 'HideBtn';\n    /**\n     * An array of steps in the tutorial.\n     * @type {Array<!TutorialStep>}\n     */\n\n    this.steps = Tutorial.STEP_OBJECTS.map(function (obj) {\n      return new _tutorial_step__WEBPACK_IMPORTED_MODULE_0__[\"TutorialStep\"](obj.text, _this.stepTextId, _this.nextStep);\n    });\n    /**\n     * The index of the currently active step.\n     * @type {number}\n     */\n\n    this.curStepIndex = 0;\n    /**\n     * The currently active step.\n     * @type {TutorialStep}\n     */\n\n    this.curStep = this.steps[this.curStepIndex];\n    /**\n     * The Blockly workspace the user will interact with.\n     * @type {Blockly.WorkspaceSvg}\n     */\n\n    this.workspace = workspace;\n    /**\n     * The node that was selected on the workspace when the modal\n     * opened.\n     * @type {Blockly.ASTNode}\n     */\n\n    this.curNode = null;\n  }\n  /**\n   * Initialize DOM and show.\n   */\n\n\n  _createClass(Tutorial, [{\n    key: \"init\",\n    value: function init() {\n      this.createDom();\n      this.addCallbacks();\n      micromodal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].show(this.modalId);\n      this.curStep.show();\n      this.registerPlayHelpText();\n    }\n    /**\n     * Registers shortcut to replay the current tutorial step.\n     */\n\n  }, {\n    key: \"registerPlayHelpText\",\n    value: function registerPlayHelpText() {\n      var _this2 = this;\n\n      /** @type {!Blockly.ShortcutRegistry.KeyboardShortcut} */\n      var playHelpText = {\n        name: 'playHelpText',\n        preconditionFn: function preconditionFn(workspace) {\n          return workspace.keyboardAccessibilityMode && !workspace.options.readOnly;\n        },\n        callback: function callback() {\n          _speaker__WEBPACK_IMPORTED_MODULE_3__[\"speaker\"].speak(_this2.curStep.text, true);\n        }\n      };\n      blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.register(playHelpText);\n      var shiftW = blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.createSerializedKey(blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.utils.KeyCodes.H);\n      blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.addKeyMapping(shiftW, playHelpText.name);\n    }\n    /**\n     * Display the next step, or end the tutorial if there are no more steps.\n     */\n\n  }, {\n    key: \"nextStep\",\n    value: function nextStep() {\n      this.curStepIndex++;\n\n      if (this.curStepIndex < this.steps.length) {\n        this.curStep = this.steps[this.curStepIndex];\n        micromodal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].show(this.modalId);\n        this.curStep.show();\n        this.stashCursor();\n      } else {\n        this.done();\n      }\n    }\n    /**\n     * End the tutorial.\n     */\n\n  }, {\n    key: \"done\",\n    value: function done() {\n      micromodal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].close(this.modalId);\n    }\n    /**\n     * Save the current cursor node and disable keyboard nav.\n     * Call this when opening the modal.\n     */\n\n  }, {\n    key: \"stashCursor\",\n    value: function stashCursor() {\n      this.curNode = this.workspace.getCursor().getCurNode();\n      blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.navigation.disableKeyboardAccessibility();\n    }\n    /**\n     * Reenable keyboard nav and move the cursor to the previously\n     * selected cursor node. Call this when closing the modal.\n     */\n\n  }, {\n    key: \"popCursor\",\n    value: function popCursor() {\n      blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.navigation.enableKeyboardAccessibility();\n\n      if (this.curNode) {\n        this.workspace.getCursor().setCurNode(this.curNode);\n        _speaker__WEBPACK_IMPORTED_MODULE_3__[\"speaker\"].cancel();\n      }\n    }\n    /**\n     * Add necessary handlers for any buttons on the modal.\n     */\n\n  }, {\n    key: \"addCallbacks\",\n    value: function addCallbacks() {\n      var _this3 = this;\n\n      document.getElementById(this.stepButtonId).addEventListener('click', function () {\n        _this3.nextStep();\n      });\n      document.getElementById(this.hideButtonId).addEventListener('click', function (e) {\n        micromodal__WEBPACK_IMPORTED_MODULE_2__[\"default\"].close(_this3.modalId);\n\n        _this3.popCursor();\n\n        Tutorial.STEP_OBJECTS[_this3.curStepIndex].onStart(_this3);\n\n        e.stopPropagation();\n        e.preventDefault();\n      });\n    }\n    /**\n     * Create the dom for the modal.\n     */\n\n  }, {\n    key: \"createDom\",\n    value: function createDom() {\n      document.getElementById(this.modalId).innerHTML = \"\\n     <div class=\\\"modal__overlay\\\" tabindex=\\\"-1\\\" data-micromodal-close>\\n      <div class=\\\"modal__container\\\" role=\\\"dialog\\\" aria-modal=\\\"true\\\"\\n        aria-labelledby=\\\"modal-1-title\\\">\\n        <header class=\\\"modal__header\\\">\\n          <button class=\\\"modal__close\\\" aria-label=\\\"Close modal\\\"\\n            id=\\\"tutorialCloseBtn\\\" data-micromodal-close></button>\\n        </header>\\n        <main class=\\\"modal__content\\\" id=\\\"modal-1-content\\\">\\n          <h2 class=\\\"modal__title\\\" id=\\\"\".concat(this.stepTextId, \"\\\"></h2>\\n        </main>\\n        <footer class=\\\"modal__footer\\\">\\n          <button class=\\\"modal__btn modal__btn-primary\\\" aria-label=\\\"Hide modal\\\"\\n            id=\\\"\").concat(this.hideButtonId, \"\\\">Hide modal</button>\\n          <button class=\\\"modal__btn modal__btn-primary\\\" aria-label=\\\"Next step\\\"\\n            id=\\\"\").concat(this.stepButtonId, \"\\\">Next step</button>\\n        </footer>\\n      </div>\\n    </div>\");\n    }\n  }, {\n    key: \"getCurrentLocation\",\n    value: function getCurrentLocation(event) {\n      var curNode = event.newNode;\n\n      if (curNode) {\n        return curNode.getLocation();\n      }\n\n      return null;\n    }\n  }]);\n\n  return Tutorial;\n}();\nTutorial.STEP_OBJECTS = [{\n  text: \"In this tutorial you will write code that plays musical notes. If at any\\n      point you are confused about what to do, press H to replay the goal for\\n      the current step. Press Enter to go to the next step.\",\n  onStart: function onStart(tutorial) {\n    setTimeout(function () {\n      return tutorial.nextStep();\n    }, 100);\n  }\n}, {\n  text: \"You can move around the blocks of code with the up and down arrows. You will hear descriptions as you move around the blocks. . \\n      All blocks have connection points, which are places where you can add more code. . \\n       Use the down arrow to move to a connection point. Hit enter to begin. \",\n  onStart: function onStart(tutorial) {\n    var workspace = tutorial.workspace;\n\n    var listener = function listener(event) {\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.Events.MARKER_MOVE) {\n        var curNode = event.newNode;\n        var correctLocation = workspace.getTopBlocks()[0].inputList[1].connection;\n\n        if (curNode) {\n          var location = curNode.getLocation();\n\n          if (location === correctLocation) {\n            setTimeout(function () {\n              workspace.removeChangeListener(wrapper);\n              tutorial.nextStep();\n            }, 4700);\n          }\n        }\n      }\n    }; // Add a shortcut in place of the down arrow shortcut.\n\n\n    var wrapper = workspace.addChangeListener(listener);\n  }\n}, {\n  text: \"Great! You moved to a connection point. .\\n      To add more code, you first mark a location and then select the block you want to add. . \\n      Navigate to the connection point, then press enter to mark it.\",\n  onStart: function onStart(tutorial) {\n    var workspace = tutorial.workspace;\n\n    var listener = function listener(event) {\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.Events.MARKER_MOVE) {\n        var currentLocation = tutorial.getCurrentLocation(event);\n\n        if (currentLocation && !event.isCursor) {\n          var correctLocation = workspace.getTopBlocks()[0].inputList[1].connection;\n\n          if (currentLocation === correctLocation) {\n            setTimeout(function () {\n              workspace.removeChangeListener(wrapper);\n              tutorial.nextStep();\n            }, 3000);\n          }\n        }\n      }\n    }; // Add a shortcut in place of the down arrow shortcut.\n\n\n    var wrapper = workspace.addChangeListener(listener);\n  }\n}, {\n  text: \"Great! You marked a connection point. Now you can add more code blocks. . \\n    The toolbox is a list of code blocks that you can add to the workspace. You can always open the toolbox by pressing T. .\\n    Press T to open the toolbox, then use the up and down arrows to explore it. . \\n    Press ??? when you are ready for the next step.\",\n  onStart: function onStart(tutorial) {\n    /** @type {!Blockly.ShortcutRegistry.KeyboardShortcut} */\n    var finishStep = {\n      name: 'finishStep',\n      preconditionFn: function preconditionFn(workspace) {\n        return workspace.keyboardAccessibilityMode && !workspace.options.readOnly;\n      },\n      callback: function callback() {\n        tutorial.nextStep();\n      }\n    };\n    blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.register(finishStep);\n    var shiftW = blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.createSerializedKey(blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.utils.KeyCodes.F);\n    blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.ShortcutRegistry.registry.addKeyMapping(shiftW, finishStep.name);\n  }\n}, {\n  text: \"Great! You have now successfully marked a connection point and navigated to a list of blocks that you can insert. . \\n    Now it\\u2019s time to put it all together. . \\n    Navigate to the connection and mark it, then press T to open the toolbox. Find the block that says \\u201Cplay whole note c4\\u201D and press enter to add it at the marked location.\",\n  onStart: function onStart(tutorial) {\n    var workspace = tutorial.workspace;\n\n    var listener = function listener(event) {\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_1___default.a.Events.MARKER_MOVE) {\n        var currentLocation = tutorial.getCurrentLocation(event);\n\n        if (currentLocation && event.isCursor && workspace.getAllBlocks().length > 1) {\n          var correctLocation = workspace.getAllBlocks()[1].previousConnection;\n\n          if (currentLocation === correctLocation) {\n            setTimeout(function () {\n              workspace.removeChangeListener(wrapper);\n              tutorial.nextStep();\n            }, 4000);\n          }\n        }\n      }\n    }; // Add a shortcut in place of the down arrow shortcut.\n\n\n    var wrapper = workspace.addChangeListener(listener);\n  }\n}, {\n  text: 'Great! You can now press Shift and P at the same time to run your code. You should hear a note play!',\n  onStart: function onStart(tutorial) {}\n}];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHV0b3JpYWwuanM/MjQzOCJdLCJuYW1lcyI6WyJUdXRvcmlhbCIsIndvcmtzcGFjZSIsIm1vZGFsSWQiLCJzdGVwVGV4dElkIiwic3RlcEJ1dHRvbklkIiwiaGlkZUJ1dHRvbklkIiwic3RlcHMiLCJTVEVQX09CSkVDVFMiLCJtYXAiLCJvYmoiLCJUdXRvcmlhbFN0ZXAiLCJ0ZXh0IiwibmV4dFN0ZXAiLCJjdXJTdGVwSW5kZXgiLCJjdXJTdGVwIiwiY3VyTm9kZSIsImNyZWF0ZURvbSIsImFkZENhbGxiYWNrcyIsIk1pY3JvTW9kYWwiLCJzaG93IiwicmVnaXN0ZXJQbGF5SGVscFRleHQiLCJwbGF5SGVscFRleHQiLCJuYW1lIiwicHJlY29uZGl0aW9uRm4iLCJrZXlib2FyZEFjY2Vzc2liaWxpdHlNb2RlIiwib3B0aW9ucyIsInJlYWRPbmx5IiwiY2FsbGJhY2siLCJzcGVha2VyIiwic3BlYWsiLCJCbG9ja2x5IiwiU2hvcnRjdXRSZWdpc3RyeSIsInJlZ2lzdHJ5IiwicmVnaXN0ZXIiLCJzaGlmdFciLCJjcmVhdGVTZXJpYWxpemVkS2V5IiwidXRpbHMiLCJLZXlDb2RlcyIsIkgiLCJhZGRLZXlNYXBwaW5nIiwibGVuZ3RoIiwic3Rhc2hDdXJzb3IiLCJkb25lIiwiY2xvc2UiLCJnZXRDdXJzb3IiLCJnZXRDdXJOb2RlIiwibmF2aWdhdGlvbiIsImRpc2FibGVLZXlib2FyZEFjY2Vzc2liaWxpdHkiLCJlbmFibGVLZXlib2FyZEFjY2Vzc2liaWxpdHkiLCJzZXRDdXJOb2RlIiwiY2FuY2VsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicG9wQ3Vyc29yIiwib25TdGFydCIsInN0b3BQcm9wYWdhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiaW5uZXJIVE1MIiwiZXZlbnQiLCJuZXdOb2RlIiwiZ2V0TG9jYXRpb24iLCJ0dXRvcmlhbCIsInNldFRpbWVvdXQiLCJsaXN0ZW5lciIsInR5cGUiLCJFdmVudHMiLCJNQVJLRVJfTU9WRSIsImNvcnJlY3RMb2NhdGlvbiIsImdldFRvcEJsb2NrcyIsImlucHV0TGlzdCIsImNvbm5lY3Rpb24iLCJsb2NhdGlvbiIsInJlbW92ZUNoYW5nZUxpc3RlbmVyIiwid3JhcHBlciIsImFkZENoYW5nZUxpc3RlbmVyIiwiY3VycmVudExvY2F0aW9uIiwiZ2V0Q3VycmVudExvY2F0aW9uIiwiaXNDdXJzb3IiLCJmaW5pc2hTdGVwIiwiRiIsImdldEFsbEJsb2NrcyIsInByZXZpb3VzQ29ubmVjdGlvbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNhOzs7Ozs7OztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUNPLElBQU1BLFFBQWI7QUFDRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRSxvQkFBWUMsU0FBWixFQUF1QjtBQUFBOztBQUFBOztBQUNyQjtBQUNKO0FBQ0E7QUFDQTtBQUNJLFNBQUtDLE9BQUwsR0FBZSxlQUFmO0FBRUE7QUFDSjtBQUNBO0FBQ0E7O0FBQ0ksU0FBS0MsVUFBTCxHQUFrQixLQUFLRCxPQUFMLEdBQWUsTUFBakM7QUFFQTtBQUNKO0FBQ0E7QUFDQTs7QUFDSSxTQUFLRSxZQUFMLEdBQW9CLEtBQUtGLE9BQUwsR0FBZSxTQUFuQztBQUVBO0FBQ0o7QUFDQTtBQUNBOztBQUNJLFNBQUtHLFlBQUwsR0FBb0IsS0FBS0gsT0FBTCxHQUFlLFNBQW5DO0FBRUE7QUFDSjtBQUNBO0FBQ0E7O0FBQ0ksU0FBS0ksS0FBTCxHQUFhTixRQUFRLENBQUNPLFlBQVQsQ0FBc0JDLEdBQXRCLENBQ1QsVUFBQ0MsR0FBRDtBQUFBLGFBQVMsSUFBSUMsMkRBQUosQ0FBaUJELEdBQUcsQ0FBQ0UsSUFBckIsRUFBMkIsS0FBSSxDQUFDUixVQUFoQyxFQUE0QyxLQUFJLENBQUNTLFFBQWpELENB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QXhCSCxDQXZGc0IsRUFpSHRCO0FBQ0V0RCxNQUFJLEVBQUUsc0dBRFI7QUFFRTZDLFNBQU8sRUFBRSxpQkFBU08sUUFBVCxFQUFtQixDQUFFO0FBRmhDLENBakhzQixDQUF4QiIsImZpbGUiOiIuL3NyYy90dXRvcmlhbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE11bHRpLXN0ZXAgdHV0b3JpYWwgdXNpbmcgbW9kYWxzLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7VHV0b3JpYWxTdGVwfSBmcm9tICcuL3R1dG9yaWFsX3N0ZXAnO1xuaW1wb3J0IEJsb2NrbHkgZnJvbSAnYmxvY2tseS9jb3JlJztcbmltcG9ydCBNaWNyb01vZGFsIGZyb20gJ21pY3JvbW9kYWwnO1xuaW1wb3J0IHtzcGVha2VyfSBmcm9tICcuL3NwZWFrZXInO1xuXG4vKipcbiAqIEEgbXVsdGktc3RlcCB0dXRvcmlhbCBmb3IgdGhlIGFjY2Vzc2libGUgbXVzaWMgZ2FtZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFR1dG9yaWFsIHtcbiAgLyoqXG4gICAqIENsYXNzIGZvciBhIHR1dG9yaWFsLlxuICAgKiBAcGFyYW0ge0Jsb2NrbHkuV29ya3NwYWNlU3ZnfSB3b3Jrc3BhY2UgVGhlIHdvcmtzcGFjZSB0aGUgdXNlclxuICAgKiAgICAgd2lsbCBpbnRlcmFjdCB3aXRoLlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdvcmtzcGFjZSkge1xuICAgIC8qKlxuICAgICAqIFRoZSBpZCBvZiB0aGUgbW9kYWwuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLm1vZGFsSWQgPSAndHV0b3JpYWxNb2RhbCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIHR1dG9yaWFsIHRleHQuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnN0ZXBUZXh0SWQgPSB0aGlzLm1vZGFsSWQgKyAnVGV4dCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIG5leHQgc3RlcCBidXR0b24uXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnN0ZXBCdXR0b25JZCA9IHRoaXMubW9kYWxJZCArICdTdGVwQnRuJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBpZCBvZiB0aGUgaGlkZSBtb2RhbCBidXR0b24uXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmhpZGVCdXR0b25JZCA9IHRoaXMubW9kYWxJZCArICdIaWRlQnRuJztcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHN0ZXBzIGluIHRoZSB0dXRvcmlhbC5cbiAgICAgKiBAdHlwZSB7QXJyYXk8IVR1dG9yaWFsU3RlcD59XG4gICAgICovXG4gICAgdGhpcy5zdGVwcyA9IFR1dG9yaWFsLlNURVBfT0JKRUNUUy5tYXAoXG4gICAgICAgIChvYmopID0+IG5ldyBUdXRvcmlhbFN0ZXAob2JqLnRleHQsIHRoaXMuc3RlcFRleHRJZCwgdGhpcy5uZXh0U3RlcClcbiAgICApO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IG9mIHRoZSBjdXJyZW50bHkgYWN0aXZlIHN0ZXAuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmN1clN0ZXBJbmRleCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBzdGVwLlxuICAgICAqIEB0eXBlIHtUdXRvcmlhbFN0ZXB9XG4gICAgICovXG4gICAgdGhpcy5jdXJTdGVwID0gdGhpcy5zdGVwc1t0aGlzLmN1clN0ZXBJbmRleF07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgQmxvY2tseSB3b3Jrc3BhY2UgdGhlIHVzZXIgd2lsbCBpbnRlcmFjdCB3aXRoLlxuICAgICAqIEB0eXBlIHtCbG9ja2x5LldvcmtzcGFjZVN2Z31cbiAgICAgKi9cbiAgICB0aGlzLndvcmtzcGFjZSA9IHdvcmtzcGFjZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBub2RlIHRoYXQgd2FzIHNlbGVjdGVkIG9uIHRoZSB3b3Jrc3BhY2Ugd2hlbiB0aGUgbW9kYWxcbiAgICAgKiBvcGVuZWQuXG4gICAgICogQHR5cGUge0Jsb2NrbHkuQVNUTm9kZX1cbiAgICAgKi9cbiAgICB0aGlzLmN1ck5vZGUgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgRE9NIGFuZCBzaG93LlxuICAgKi9cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmNyZWF0ZURvbSgpO1xuICAgIHRoaXMuYWRkQ2FsbGJhY2tzKCk7XG4gICAgTWljcm9Nb2RhbC5zaG93KHRoaXMubW9kYWxJZCk7XG4gICAgdGhpcy5jdXJTdGVwLnNob3coKTtcbiAgICB0aGlzLnJlZ2lzdGVyUGxheUhlbHBUZXh0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIHNob3J0Y3V0IHRvIHJlcGxheSB0aGUgY3VycmVudCB0dXRvcmlhbCBzdGVwLlxuICAgKi9cbiAgcmVnaXN0ZXJQbGF5SGVscFRleHQoKSB7XG4gICAgLyoqIEB0eXBlIHshQmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXR9ICovXG4gICAgY29uc3QgcGxheUhlbHBUZXh0ID0ge1xuICAgICAgbmFtZTogJ3BsYXlIZWxwVGV4dCcsXG4gICAgICBwcmVjb25kaXRpb25GbjogZnVuY3Rpb24od29ya3NwYWNlKSB7XG4gICAgICAgIHJldHVybiB3b3Jrc3BhY2Uua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZSAmJiAhd29ya3NwYWNlLm9wdGlvbnMucmVhZE9ubHk7XG4gICAgICB9LFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgc3BlYWtlci5zcGVhayh0aGlzLmN1clN0ZXAudGV4dCwgdHJ1ZSk7XG4gICAgICB9LFxuICAgIH07XG5cbiAgICBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIocGxheUhlbHBUZXh0KTtcbiAgICBjb25zdCBzaGlmdFcgPSBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuY3JlYXRlU2VyaWFsaXplZEtleShcbiAgICAgICAgQmxvY2tseS51dGlscy5LZXlDb2Rlcy5IKTtcbiAgICBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuYWRkS2V5TWFwcGluZyhcbiAgICAgICAgc2hpZnRXLCBwbGF5SGVscFRleHQubmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogRGlzcGxheSB0aGUgbmV4dCBzdGVwLCBvciBlbmQgdGhlIHR1dG9yaWFsIGlmIHRoZXJlIGFyZSBubyBtb3JlIHN0ZXBzLlxuICAgKi9cbiAgbmV4dFN0ZXAoKSB7XG4gICAgdGhpcy5jdXJTdGVwSW5kZXgrKztcbiAgICBpZiAodGhpcy5jdXJTdGVwSW5kZXggPCB0aGlzLnN0ZXBzLmxlbmd0aCkge1xuICAgICAgdGhpcy5jdXJTdGVwID0gdGhpcy5zdGVwc1t0aGlzLmN1clN0ZXBJbmRleF07XG4gICAgICBNaWNyb01vZGFsLnNob3codGhpcy5tb2RhbElkKTtcbiAgICAgIHRoaXMuY3VyU3RlcC5zaG93KCk7XG4gICAgICB0aGlzLnN0YXNoQ3Vyc29yKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZG9uZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbmQgdGhlIHR1dG9yaWFsLlxuICAgKi9cbiAgZG9uZSgpIHtcbiAgICBNaWNyb01vZGFsLmNsb3NlKHRoaXMubW9kYWxJZCk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSB0aGUgY3VycmVudCBjdXJzb3Igbm9kZSBhbmQgZGlzYWJsZSBrZXlib2FyZCBuYXYuXG4gICAqIENhbGwgdGhpcyB3aGVuIG9wZW5pbmcgdGhlIG1vZGFsLlxuICAgKi9cbiAgc3Rhc2hDdXJzb3IoKSB7XG4gICAgdGhpcy5jdXJOb2RlID0gdGhpcy53b3Jrc3BhY2UuZ2V0Q3Vyc29yKCkuZ2V0Q3VyTm9kZSgpO1xuICAgIEJsb2NrbHkubmF2aWdhdGlvbi5kaXNhYmxlS2V5Ym9hcmRBY2Nlc3NpYmlsaXR5KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVlbmFibGUga2V5Ym9hcmQgbmF2IGFuZCBtb3ZlIHRoZSBjdXJzb3IgdG8gdGhlIHByZXZpb3VzbHlcbiAgICogc2VsZWN0ZWQgY3Vyc29yIG5vZGUuIENhbGwgdGhpcyB3aGVuIGNsb3NpbmcgdGhlIG1vZGFsLlxuICAgKi9cbiAgcG9wQ3Vyc29yKCkge1xuICAgIEJsb2NrbHkubmF2aWdhdGlvbi5lbmFibGVLZXlib2FyZEFjY2Vzc2liaWxpdHkoKTtcbiAgICBpZiAodGhpcy5jdXJOb2RlKSB7XG4gICAgICB0aGlzLndvcmtzcGFjZS5nZXRDdXJzb3IoKS5zZXRDdXJOb2RlKHRoaXMuY3VyTm9kZSk7XG4gICAgICBzcGVha2VyLmNhbmNlbCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgbmVjZXNzYXJ5IGhhbmRsZXJzIGZvciBhbnkgYnV0dG9ucyBvbiB0aGUgbW9kYWwuXG4gICAqL1xuICBhZGRDYWxsYmFja3MoKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zdGVwQnV0dG9uSWQpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHRoaXMubmV4dFN0ZXAoKTtcbiAgICAgICAgfSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5oaWRlQnV0dG9uSWQpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxcbiAgICAgICAgKGUpID0+IHtcbiAgICAgICAgICBNaWNyb01vZGFsLmNsb3NlKHRoaXMubW9kYWxJZCk7XG4gICAgICAgICAgdGhpcy5wb3BDdXJzb3IoKTtcbiAgICAgICAgICBUdXRvcmlhbC5TVEVQX09CSkVDVFNbdGhpcy5jdXJTdGVwSW5kZXhdLm9uU3RhcnQodGhpcyk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgZG9tIGZvciB0aGUgbW9kYWwuXG4gICAqL1xuICBjcmVhdGVEb20oKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5tb2RhbElkKS5pbm5lckhUTUwgPSBgXG4gICAgIDxkaXYgY2xhc3M9XCJtb2RhbF9fb3ZlcmxheVwiIHRhYmluZGV4PVwiLTFcIiBkYXRhLW1pY3JvbW9kYWwtY2xvc2U+XG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWxfX2NvbnRhaW5lclwiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLW1vZGFsPVwidHJ1ZVwiXG4gICAgICAgIGFyaWEtbGFiZWxsZWRieT1cIm1vZGFsLTEtdGl0bGVcIj5cbiAgICAgICAgPGhlYWRlciBjbGFzcz1cIm1vZGFsX19oZWFkZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibW9kYWxfX2Nsb3NlXCIgYXJpYS1sYWJlbD1cIkNsb3NlIG1vZGFsXCJcbiAgICAgICAgICAgIGlkPVwidHV0b3JpYWxDbG9zZUJ0blwiIGRhdGEtbWljcm9tb2RhbC1jbG9zZT48L2J1dHRvbj5cbiAgICAgICAgPC9oZWFkZXI+XG4gICAgICAgIDxtYWluIGNsYXNzPVwibW9kYWxfX2NvbnRlbnRcIiBpZD1cIm1vZGFsLTEtY29udGVudFwiPlxuICAgICAgICAgIDxoMiBjbGFzcz1cIm1vZGFsX190aXRsZVwiIGlkPVwiJHt0aGlzLnN0ZXBUZXh0SWR9XCI+PC9oMj5cbiAgICAgICAgPC9tYWluPlxuICAgICAgICA8Zm9vdGVyIGNsYXNzPVwibW9kYWxfX2Zvb3RlclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbF9fYnRuIG1vZGFsX19idG4tcHJpbWFyeVwiIGFyaWEtbGFiZWw9XCJIaWRlIG1vZGFsXCJcbiAgICAgICAgICAgIGlkPVwiJHt0aGlzLmhpZGVCdXR0b25JZH1cIj5IaWRlIG1vZGFsPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZGFsX19idG4gbW9kYWxfX2J0bi1wcmltYXJ5XCIgYXJpYS1sYWJlbD1cIk5leHQgc3RlcFwiXG4gICAgICAgICAgICBpZD1cIiR7dGhpcy5zdGVwQnV0dG9uSWR9XCI+TmV4dCBzdGVwPC9idXR0b24+XG4gICAgICAgIDwvZm9vdGVyPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcbiAgfVxuXG4gIGdldEN1cnJlbnRMb2NhdGlvbihldmVudCkge1xuICAgIGNvbnN0IGN1ck5vZGUgPSBldmVudC5uZXdOb2RlO1xuICAgIGlmIChjdXJOb2RlKSB7XG4gICAgICByZXR1cm4gY3VyTm9kZS5nZXRMb2NhdGlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5UdXRvcmlhbC5TVEVQX09CSkVDVFMgPSBbXG4gIHtcbiAgICB0ZXh0OiBgSW4gdGhpcyB0dXRvcmlhbCB5b3Ugd2lsbCB3cml0ZSBjb2RlIHRoYXQgcGxheXMgbXVzaWNhbCBub3Rlcy4gSWYgYXQgYW55XG4gICAgICBwb2ludCB5b3UgYXJlIGNvbmZ1c2VkIGFib3V0IHdoYXQgdG8gZG8sIHByZXNzIEggdG8gcmVwbGF5IHRoZSBnb2FsIGZvclxuICAgICAgdGhlIGN1cnJlbnQgc3RlcC4gUHJlc3MgRW50ZXIgdG8gZ28gdG8gdGhlIG5leHQgc3RlcC5gLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKHR1dG9yaWFsKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpPT4gdHV0b3JpYWwubmV4dFN0ZXAoKSwgMTAwKTtcbiAgICB9LFxuICB9LFxuICB7XG4gICAgdGV4dDogYFlvdSBjYW4gbW92ZSBhcm91bmQgdGhlIGJsb2NrcyBvZiBjb2RlIHdpdGggdGhlIHVwIGFuZCBkb3duIGFycm93cy4gWW91IHdpbGwgaGVhciBkZXNjcmlwdGlvbnMgYXMgeW91IG1vdmUgYXJvdW5kIHRoZSBibG9ja3MuIC4gXG4gICAgICBBbGwgYmxvY2tzIGhhdmUgY29ubmVjdGlvbiBwb2ludHMsIHdoaWNoIGFyZSBwbGFjZXMgd2hlcmUgeW91IGNhbiBhZGQgbW9yZSBjb2RlLiAuIFxuICAgICAgIFVzZSB0aGUgZG93biBhcnJvdyB0byBtb3ZlIHRvIGEgY29ubmVjdGlvbiBwb2ludC4gSGl0IGVudGVyIHRvIGJlZ2luLiBgLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKHR1dG9yaWFsKSB7XG4gICAgICBjb25zdCB3b3Jrc3BhY2UgPSB0dXRvcmlhbC53b3Jrc3BhY2U7XG4gICAgICBjb25zdCBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSBCbG9ja2x5LkV2ZW50cy5NQVJLRVJfTU9WRSkge1xuICAgICAgICAgIGNvbnN0IGN1ck5vZGUgPSBldmVudC5uZXdOb2RlO1xuICAgICAgICAgIGNvbnN0IGNvcnJlY3RMb2NhdGlvbiA9XG4gICAgICAgICAgICAgIHdvcmtzcGFjZS5nZXRUb3BCbG9ja3MoKVswXS5pbnB1dExpc3RbMV0uY29ubmVjdGlvbjtcbiAgICAgICAgICBpZiAoY3VyTm9kZSkge1xuICAgICAgICAgICAgY29uc3QgbG9jYXRpb24gPSBjdXJOb2RlLmdldExvY2F0aW9uKCk7XG4gICAgICAgICAgICBpZiAobG9jYXRpb24gPT09IGNvcnJlY3RMb2NhdGlvbikge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgd29ya3NwYWNlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHdyYXBwZXIpO1xuICAgICAgICAgICAgICAgIHR1dG9yaWFsLm5leHRTdGVwKCk7XG4gICAgICAgICAgICAgIH0sIDQ3MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQWRkIGEgc2hvcnRjdXQgaW4gcGxhY2Ugb2YgdGhlIGRvd24gYXJyb3cgc2hvcnRjdXQuXG4gICAgICBjb25zdCB3cmFwcGVyID0gd29ya3NwYWNlLmFkZENoYW5nZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICB9LFxuICB9LFxuICB7XG4gICAgdGV4dDpcbiAgICAgIGBHcmVhdCEgWW91IG1vdmVkIHRvIGEgY29ubmVjdGlvbiBwb2ludC4gLlxuICAgICAgVG8gYWRkIG1vcmUgY29kZSwgeW91IGZpcnN0IG1hcmsgYSBsb2NhdGlvbiBhbmQgdGhlbiBzZWxlY3QgdGhlIGJsb2NrIHlvdSB3YW50IHRvIGFkZC4gLiBcbiAgICAgIE5hdmlnYXRlIHRvIHRoZSBjb25uZWN0aW9uIHBvaW50LCB0aGVuIHByZXNzIGVudGVyIHRvIG1hcmsgaXQuYCxcbiAgICBvblN0YXJ0OiBmdW5jdGlvbih0dXRvcmlhbCkge1xuICAgICAgY29uc3Qgd29ya3NwYWNlID0gdHV0b3JpYWwud29ya3NwYWNlO1xuICAgICAgY29uc3QgbGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gQmxvY2tseS5FdmVudHMuTUFSS0VSX01PVkUpIHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50TG9jYXRpb24gPSB0dXRvcmlhbC5nZXRDdXJyZW50TG9jYXRpb24oZXZlbnQpO1xuICAgICAgICAgIGlmIChjdXJyZW50TG9jYXRpb24gJiYgIWV2ZW50LmlzQ3Vyc29yKSB7XG4gICAgICAgICAgICBjb25zdCBjb3JyZWN0TG9jYXRpb24gPVxuICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5nZXRUb3BCbG9ja3MoKVswXS5pbnB1dExpc3RbMV0uY29ubmVjdGlvbjtcbiAgICAgICAgICAgIGlmIChjdXJyZW50TG9jYXRpb24gPT09IGNvcnJlY3RMb2NhdGlvbikge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgd29ya3NwYWNlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHdyYXBwZXIpO1xuICAgICAgICAgICAgICAgIHR1dG9yaWFsLm5leHRTdGVwKCk7XG4gICAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQWRkIGEgc2hvcnRjdXQgaW4gcGxhY2Ugb2YgdGhlIGRvd24gYXJyb3cgc2hvcnRjdXQuXG4gICAgICBjb25zdCB3cmFwcGVyID0gd29ya3NwYWNlLmFkZENoYW5nZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICB9LFxuICB9LFxuICB7XG4gICAgdGV4dDogYEdyZWF0ISBZb3UgbWFya2VkIGEgY29ubmVjdGlvbiBwb2ludC4gTm93IHlvdSBjYW4gYWRkIG1vcmUgY29kZSBibG9ja3MuIC4gXG4gICAgVGhlIHRvb2xib3ggaXMgYSBsaXN0IG9mIGNvZGUgYmxvY2tzIHRoYXQgeW91IGNhbiBhZGQgdG8gdGhlIHdvcmtzcGFjZS4gWW91IGNhbiBhbHdheXMgb3BlbiB0aGUgdG9vbGJveCBieSBwcmVzc2luZyBULiAuXG4gICAgUHJlc3MgVCB0byBvcGVuIHRoZSB0b29sYm94LCB0aGVuIHVzZSB0aGUgdXAgYW5kIGRvd24gYXJyb3dzIHRvIGV4cGxvcmUgaXQuIC4gXG4gICAgUHJlc3MgPz8/IHdoZW4geW91IGFyZSByZWFkeSBmb3IgdGhlIG5leHQgc3RlcC5gLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKHR1dG9yaWFsKSB7XG4gICAgICAvKiogQHR5cGUgeyFCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkuS2V5Ym9hcmRTaG9ydGN1dH0gKi9cbiAgICAgIGNvbnN0IGZpbmlzaFN0ZXAgPSB7XG4gICAgICAgIG5hbWU6ICdmaW5pc2hTdGVwJyxcbiAgICAgICAgcHJlY29uZGl0aW9uRm46IGZ1bmN0aW9uKHdvcmtzcGFjZSkge1xuICAgICAgICAgIHJldHVybiB3b3Jrc3BhY2Uua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZSAmJiAhd29ya3NwYWNlLm9wdGlvbnMucmVhZE9ubHk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgdHV0b3JpYWwubmV4dFN0ZXAoKTtcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIEJsb2NrbHkuU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3RlcihmaW5pc2hTdGVwKTtcbiAgICAgIGNvbnN0IHNoaWZ0VyA9IEJsb2NrbHkuU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5KFxuICAgICAgICAgIEJsb2NrbHkudXRpbHMuS2V5Q29kZXMuRik7XG4gICAgICBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuYWRkS2V5TWFwcGluZyhcbiAgICAgICAgICBzaGlmdFcsIGZpbmlzaFN0ZXAubmFtZSk7XG4gICAgfSxcbiAgfSxcbiAge1xuICAgIHRleHQ6IGBHcmVhdCEgWW91IGhhdmUgbm93IHN1Y2Nlc3NmdWxseSBtYXJrZWQgYSBjb25uZWN0aW9uIHBvaW50IGFuZCBuYXZpZ2F0ZWQgdG8gYSBsaXN0IG9mIGJsb2NrcyB0aGF0IHlvdSBjYW4gaW5zZXJ0LiAuIFxuICAgIE5vdyBpdOKAmXMgdGltZSB0byBwdXQgaXQgYWxsIHRvZ2V0aGVyLiAuIFxuICAgIE5hdmlnYXRlIHRvIHRoZSBjb25uZWN0aW9uIGFuZCBtYXJrIGl0LCB0aGVuIHByZXNzIFQgdG8gb3BlbiB0aGUgdG9vbGJveC4gRmluZCB0aGUgYmxvY2sgdGhhdCBzYXlzIOKAnHBsYXkgd2hvbGUgbm90ZSBjNOKAnSBhbmQgcHJlc3MgZW50ZXIgdG8gYWRkIGl0IGF0IHRoZSBtYXJrZWQgbG9jYXRpb24uYCxcbiAgICBvblN0YXJ0OiBmdW5jdGlvbih0dXRvcmlhbCkge1xuICAgICAgY29uc3Qgd29ya3NwYWNlID0gdHV0b3JpYWwud29ya3NwYWNlO1xuICAgICAgY29uc3QgbGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gQmxvY2tseS5FdmVudHMuTUFSS0VSX01PVkUpIHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50TG9jYXRpb24gPSB0dXRvcmlhbC5nZXRDdXJyZW50TG9jYXRpb24oZXZlbnQpO1xuICAgICAgICAgIGlmIChjdXJyZW50TG9jYXRpb24gJiYgZXZlbnQuaXNDdXJzb3IgJiYgd29ya3NwYWNlLmdldEFsbEJsb2NrcygpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvcnJlY3RMb2NhdGlvbiA9XG4gICAgICAgICAgICAgICAgd29ya3NwYWNlLmdldEFsbEJsb2NrcygpWzFdLnByZXZpb3VzQ29ubmVjdGlvbjtcbiAgICAgICAgICAgIGlmIChjdXJyZW50TG9jYXRpb24gPT09IGNvcnJlY3RMb2NhdGlvbikge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgd29ya3NwYWNlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHdyYXBwZXIpO1xuICAgICAgICAgICAgICAgIHR1dG9yaWFsLm5leHRTdGVwKCk7XG4gICAgICAgICAgICAgIH0sIDQwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQWRkIGEgc2hvcnRjdXQgaW4gcGxhY2Ugb2YgdGhlIGRvd24gYXJyb3cgc2hvcnRjdXQuXG4gICAgICBjb25zdCB3cmFwcGVyID0gd29ya3NwYWNlLmFkZENoYW5nZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICB9LFxuICB9LFxuICB7XG4gICAgdGV4dDogJ0dyZWF0ISBZb3UgY2FuIG5vdyBwcmVzcyBTaGlmdCBhbmQgUCBhdCB0aGUgc2FtZSB0aW1lIHRvIHJ1biB5b3VyIGNvZGUuIFlvdSBzaG91bGQgaGVhciBhIG5vdGUgcGxheSEnLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKHR1dG9yaWFsKSB7fSxcbiAgfSxcbl07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/tutorial.js\n");

/***/ }),

/***/ "./src/welcome_modal.js":
/*!******************************!*\
  !*** ./src/welcome_modal.js ***!
  \******************************/
/*! exports provided: WelcomeModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WelcomeModal\", function() { return WelcomeModal; });\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/* harmony import */ var micromodal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! micromodal */ \"./node_modules/micromodal/dist/micromodal.es.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview\n */\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n/**\n * A class for a modal that welcomes the users and helps them get oriented.\n */\n\nvar WelcomeModal = /*#__PURE__*/function () {\n  /**\n   * Constructor for the welcome modal.\n   * @param {Function} tutorialButtonCb A function to call when the tutorial\n   *     button is pressed, in addition to any cleanup this class chooses to do.\n   * @constructor\n   */\n  function WelcomeModal(tutorialButtonCb) {\n    _classCallCheck(this, WelcomeModal);\n\n    /**\n     * The id of the modal.\n     * @type {string}\n     */\n    this.modalId = 'welcomeModal';\n    /**\n     * A function to call when the tutorial button is pressed.\n     * @type {Function}\n     */\n\n    this.tutorialButtonCb = tutorialButtonCb;\n  }\n  /**\n   * Initializes the welcome modal.\n   */\n\n\n  _createClass(WelcomeModal, [{\n    key: \"init\",\n    value: function init() {\n      var _this = this;\n\n      this.createDom();\n      document.getElementById('replayButton').addEventListener('click', function () {\n        _speaker__WEBPACK_IMPORTED_MODULE_0__[\"speaker\"].modalToText(document.getElementById(_this.modalId));\n      });\n      document.getElementById('welcomeCloseButton').addEventListener('blur', function () {\n        return _speaker__WEBPACK_IMPORTED_MODULE_0__[\"speaker\"].cancel();\n      });\n      micromodal__WEBPACK_IMPORTED_MODULE_1__[\"default\"].show(this.modalId);\n      document.getElementById('welcomeButtonReplay').addEventListener('click', function () {\n        _speaker__WEBPACK_IMPORTED_MODULE_0__[\"speaker\"].cancel();\n        _speaker__WEBPACK_IMPORTED_MODULE_0__[\"speaker\"].modalToText(document.getElementById(_this.modalId));\n      });\n      _speaker__WEBPACK_IMPORTED_MODULE_0__[\"speaker\"].modalToText(document.getElementById(this.modalId));\n      this.registerTutorialButton();\n    }\n    /**\n     * Adds a callback to the tutorial button.\n     */\n\n  }, {\n    key: \"registerTutorialButton\",\n    value: function registerTutorialButton() {\n      var _this2 = this;\n\n      document.getElementById('tutorialButton').addEventListener('click', function () {\n        micromodal__WEBPACK_IMPORTED_MODULE_1__[\"default\"].close(_this2.modalId);\n\n        _this2.tutorialButtonCb();\n      });\n    }\n    /**\n     * Creates the dom for the modal.\n     */\n\n  }, {\n    key: \"createDom\",\n    value: function createDom() {\n      /* eslint-disable max-len */\n      document.getElementById(this.modalId).innerHTML = \"\\n     <div class=\\\"modal__overlay\\\" tabindex=\\\"-1\\\" data-micromodal-close>\\n      <div class=\\\"modal__container\\\" role=\\\"dialog\\\" aria-modal=\\\"true\\\" aria-labelledby=\\\"modal-1-title\\\">\\n        <header class=\\\"modal__header\\\">\\n          <h2 class=\\\"modal__title\\\" id=\\\"modal-1-title\\\">\\n            Welcome To Blockly Games Music!\\n          </h2>\\n          <button class=\\\"modal__close\\\" aria-label=\\\"Close modal\\\" id=\\\"welcomeCloseButton\\\" data-micromodal-close></button>\\n        </header>\\n        <main class=\\\"modal__content\\\" id=\\\"modal-1-content\\\">\\n          <p>\\n            Use the tab key to cycle through your options. If you have never\\n            played before we recommend you start with the tutorial.\\n          </p>\\n        </main>\\n        <footer class=\\\"modal__footer\\\">\\n          <button class=\\\"modal__btn modal__btn-primary\\\" id=\\\"tutorialButton\\\">Go to the tutorial</button>\\n          <button class=\\\"modal__btn modal__btn-primary\\\" id=\\\"gameButton\\\">Go to the game</button>\\n          <button class=\\\"modal__btn modal__btn-primary\\\" id=\\\"welcomeButtonReplay\\\">Replay Instructions</button>\\n        </footer>\\n      </div>\\n    </div>\";\n      /* eslint-enable max-len */\n    }\n  }]);\n\n  return WelcomeModal;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2VsY29tZV9tb2RhbC5qcz9kODcyIl0sIm5hbWVzIjpbIldlbGNvbWVNb2RhbCIsInR1dG9yaWFsQnV0dG9uQ2IiLCJtb2RhbElkIiwiY3JlYXRlRG9tIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzcGVha2VyIiwibW9kYWxUb1RleHQiLCJjYW5jZWwiLCJNaWNyb01vZGFsIiwic2hvdyIsInJlZ2lzdGVyVHV0b3JpYWxCdXR0b24iLCJjbG9zZSIsImlubmVySFRNTCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNhOzs7Ozs7OztBQUViO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBQ08sSUFBTUEsWUFBYjtBQUNFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNFLHdCQUFZQyxnQkFBWixFQUE4QjtBQUFBOztBQUM1QjtBQUNKO0FBQ0E7QUFDQTtBQUNJLFNBQUtDLE9BQUwsR0FBZSxjQUFmO0FBRUE7QUFDSjtBQUNBO0FBQ0E7O0FBQ0ksU0FBS0QsZ0JBQUwsR0FBd0JBLGdCQUF4QjtBQUNEO0FBRUQ7QUFDRjtBQUNBOzs7QUF2QkE7QUFBQTtBQUFBLDJCQXdCUztBQUFBOztBQUNMLFdBQUtFLFNBQUw7QUFDQUMsY0FBUSxDQUFDQyxjQUFULENBQXdCLGNBQXhCLEVBQXdDQyxnQkFBeEMsQ0FBeUQsT0FBekQsRUFDSSxZQUFNO0FBQ0pDLHdEQUFPLENBQUNDLFdBQVIsQ0FBb0JKLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixLQUFJLENBQUNILE9BQTdCLENBQXBCO0FBQ0QsT0FITDtBQUlBRSxjQUFRLENBQUNDLGNBQVQsQ0FBd0Isb0JBQXhCLEVBQThDQyxnQkFBOUMsQ0FDSSxNQURKLEVBQ1k7QUFBQSxlQUFNQyxnREFBTyxDQUFDRSxNQUFSLEVBQU47QUFBQSxPQURaO0FBRUFDLHdEQUFVLENBQUNDLElBQVgsQ0FBZ0IsS0FBS1QsT0FBckI7QUFFQUUsY0FBUSxDQUFDQyxjQUFULENBQXdCLHFCQUF4QixFQUErQ0MsZ0JBQS9DLENBQWdFLE9BQWhFLEVBQ0ksWUFBTTtBQUNKQyx3REFBTyxDQUFDRSxNQUFSO0FBQ0FGLHdEQUFPLENBQUNDLFdBQVIsQ0FBb0JKLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixLQUFJLENBQUNILE9BQTdCLENBQXBCO0FBQ0QsT0FKTDtBQUtBSyxzREFBTyxDQUFDQyxXQUFSLENBQW9CSixRQUFRLENBQUNDLGNBQVQsQ0FBd0IsS0FBS0gsT0FBN0IsQ0FBcEI7QUFDQSxXQUFLVSxzQkFBTDtBQUNEO0FBRUQ7QUFDRjtBQUNBOztBQTdDQTtBQUFBO0FBQUEsNkNBOEMyQjtBQUFBOztBQUN2QlIsY0FBUSxDQUFDQyxjQUFULENBQXdCLGdCQUF4QixFQUEwQ0MsZ0JBQTFDLENBQTJELE9BQTNELEVBQ0ksWUFBTTtBQUNKSSwwREFBVSxDQUFDRyxLQUFYLENBQWlCLE1BQUksQ0FBQ1gsT0FBdEI7O0FBQ0EsY0FBSSxDQUFDRCxnQkFBTDtBQUNELE9BSkw7QUFLRDtBQUVEO0FBQ0Y7QUFDQTs7QUF4REE7QUFBQTtBQUFBLGdDQXlEYztBQUNWO0FBQ0FHLGNBQVEsQ0FBQ0MsY0FBVCxDQUF3QixLQUFLSCxPQUE3QixFQUFzQ1ksU0FBdEM7QUFzQkE7QUFDRDtBQWxGSDs7QUFBQTtBQUFBIiwiZmlsZSI6Ii4vc3JjL3dlbGNvbWVfbW9kYWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlld1xuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7c3BlYWtlcn0gZnJvbSAnLi9zcGVha2VyJztcbmltcG9ydCBNaWNyb01vZGFsIGZyb20gJ21pY3JvbW9kYWwnO1xuXG4vKipcbiAqIEEgY2xhc3MgZm9yIGEgbW9kYWwgdGhhdCB3ZWxjb21lcyB0aGUgdXNlcnMgYW5kIGhlbHBzIHRoZW0gZ2V0IG9yaWVudGVkLlxuICovXG5leHBvcnQgY2xhc3MgV2VsY29tZU1vZGFsIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciB0aGUgd2VsY29tZSBtb2RhbC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHV0b3JpYWxCdXR0b25DYiBBIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgdHV0b3JpYWxcbiAgICogICAgIGJ1dHRvbiBpcyBwcmVzc2VkLCBpbiBhZGRpdGlvbiB0byBhbnkgY2xlYW51cCB0aGlzIGNsYXNzIGNob29zZXMgdG8gZG8uXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IodHV0b3JpYWxCdXR0b25DYikge1xuICAgIC8qKlxuICAgICAqIFRoZSBpZCBvZiB0aGUgbW9kYWwuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLm1vZGFsSWQgPSAnd2VsY29tZU1vZGFsJztcblxuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSB0dXRvcmlhbCBidXR0b24gaXMgcHJlc3NlZC5cbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy50dXRvcmlhbEJ1dHRvbkNiID0gdHV0b3JpYWxCdXR0b25DYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgd2VsY29tZSBtb2RhbC5cbiAgICovXG4gIGluaXQoKSB7XG4gICAgdGhpcy5jcmVhdGVEb20oKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwbGF5QnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgc3BlYWtlci5tb2RhbFRvVGV4dChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm1vZGFsSWQpKTtcbiAgICAgICAgfSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlbGNvbWVDbG9zZUJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdibHVyJywgKCkgPT4gc3BlYWtlci5jYW5jZWwoKSk7XG4gICAgTWljcm9Nb2RhbC5zaG93KHRoaXMubW9kYWxJZCk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VsY29tZUJ1dHRvblJlcGxheScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHNwZWFrZXIuY2FuY2VsKCk7XG4gICAgICAgICAgc3BlYWtlci5tb2RhbFRvVGV4dChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm1vZGFsSWQpKTtcbiAgICAgICAgfSk7XG4gICAgc3BlYWtlci5tb2RhbFRvVGV4dChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm1vZGFsSWQpKTtcbiAgICB0aGlzLnJlZ2lzdGVyVHV0b3JpYWxCdXR0b24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgY2FsbGJhY2sgdG8gdGhlIHR1dG9yaWFsIGJ1dHRvbi5cbiAgICovXG4gIHJlZ2lzdGVyVHV0b3JpYWxCdXR0b24oKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3R1dG9yaWFsQnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgTWljcm9Nb2RhbC5jbG9zZSh0aGlzLm1vZGFsSWQpO1xuICAgICAgICAgIHRoaXMudHV0b3JpYWxCdXR0b25DYigpO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBkb20gZm9yIHRoZSBtb2RhbC5cbiAgICovXG4gIGNyZWF0ZURvbSgpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5tb2RhbElkKS5pbm5lckhUTUwgPSBgXG4gICAgIDxkaXYgY2xhc3M9XCJtb2RhbF9fb3ZlcmxheVwiIHRhYmluZGV4PVwiLTFcIiBkYXRhLW1pY3JvbW9kYWwtY2xvc2U+XG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWxfX2NvbnRhaW5lclwiIHJvbGU9XCJkaWFsb2dcIiBhcmlhLW1vZGFsPVwidHJ1ZVwiIGFyaWEtbGFiZWxsZWRieT1cIm1vZGFsLTEtdGl0bGVcIj5cbiAgICAgICAgPGhlYWRlciBjbGFzcz1cIm1vZGFsX19oZWFkZXJcIj5cbiAgICAgICAgICA8aDIgY2xhc3M9XCJtb2RhbF9fdGl0bGVcIiBpZD1cIm1vZGFsLTEtdGl0bGVcIj5cbiAgICAgICAgICAgIFdlbGNvbWUgVG8gQmxvY2tseSBHYW1lcyBNdXNpYyFcbiAgICAgICAgICA8L2gyPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbF9fY2xvc2VcIiBhcmlhLWxhYmVsPVwiQ2xvc2UgbW9kYWxcIiBpZD1cIndlbGNvbWVDbG9zZUJ1dHRvblwiIGRhdGEtbWljcm9tb2RhbC1jbG9zZT48L2J1dHRvbj5cbiAgICAgICAgPC9oZWFkZXI+XG4gICAgICAgIDxtYWluIGNsYXNzPVwibW9kYWxfX2NvbnRlbnRcIiBpZD1cIm1vZGFsLTEtY29udGVudFwiPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAgVXNlIHRoZSB0YWIga2V5IHRvIGN5Y2xlIHRocm91Z2ggeW91ciBvcHRpb25zLiBJZiB5b3UgaGF2ZSBuZXZlclxuICAgICAgICAgICAgcGxheWVkIGJlZm9yZSB3ZSByZWNvbW1lbmQgeW91IHN0YXJ0IHdpdGggdGhlIHR1dG9yaWFsLlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9tYWluPlxuICAgICAgICA8Zm9vdGVyIGNsYXNzPVwibW9kYWxfX2Zvb3RlclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbF9fYnRuIG1vZGFsX19idG4tcHJpbWFyeVwiIGlkPVwidHV0b3JpYWxCdXR0b25cIj5HbyB0byB0aGUgdHV0b3JpYWw8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibW9kYWxfX2J0biBtb2RhbF9fYnRuLXByaW1hcnlcIiBpZD1cImdhbWVCdXR0b25cIj5HbyB0byB0aGUgZ2FtZTwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbF9fYnRuIG1vZGFsX19idG4tcHJpbWFyeVwiIGlkPVwid2VsY29tZUJ1dHRvblJlcGxheVwiPlJlcGxheSBJbnN0cnVjdGlvbnM8L2J1dHRvbj5cbiAgICAgICAgPC9mb290ZXI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/welcome_modal.js\n");

/***/ }),

/***/ "./test/index.js":
/*!***********************!*\
  !*** ./test/index.js ***!
  \***********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _src_speaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../src/speaker */ \"./src/speaker.js\");\n/* harmony import */ var _src_note_player__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../src/note_player */ \"./src/note_player.js\");\n/* harmony import */ var _src_music_game_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../src/music_game_controller */ \"./src/music_game_controller.js\");\n/* harmony import */ var _src_overrides__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../src/overrides */ \"./src/overrides.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Plugin test.\n */\n\n\n\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  var controller = new _src_music_game_controller__WEBPACK_IMPORTED_MODULE_3__[\"MusicGameController\"]();\n  document.getElementById('setLevel').addEventListener('input', function (event) {\n    controller.getGame().loadLevel(this.value);\n  });\n  document.getElementById('logGeneratedCode').addEventListener('click', function (event) {\n    controller.getGame().logGeneratedCode();\n  });\n  document.getElementById('executeCode').addEventListener('click', function (event) {\n    controller.getGame().execute();\n  });\n  document.getElementById('speedSlider').addEventListener('input', function (event) {\n    controller.getGame().setSpeed(this.value / 100);\n  }); // Initial state has arrow keys turned on.\n\n  registerArrowKeys(true);\n  addTestButtons();\n});\n/**\n * Add buttons for testing basic functionality (speaker, etc).\n */\n\nfunction addTestButtons() {\n  document.getElementById('playNote').addEventListener('click', function () {\n    _src_note_player__WEBPACK_IMPORTED_MODULE_2__[\"notePlayer\"].playNote('C4', '8n');\n  });\n  document.getElementById('playText').addEventListener('click', function () {\n    var textContent = document.getElementById('textInput').value;\n    _src_speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak(textContent);\n  });\n  document.getElementById('playNoteAndText').addEventListener('click', function () {\n    _src_speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak('C4', false, function () {\n      _src_note_player__WEBPACK_IMPORTED_MODULE_2__[\"notePlayer\"].playNote('C4', '8n');\n    });\n  });\n  document.addEventListener('visibilitychange', function (event) {\n    if (document.visibilityState === 'visible') {\n      console.log('tab is activate');\n    } else {\n      _src_speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].cancel();\n    }\n  });\n  document.getElementById('enableArrowKeys').addEventListener('click', function (event) {\n    registerArrowKeys(event.currentTarget.checked);\n  });\n  document.getElementById('modalButton').addEventListener('click', function () {\n    _src_speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].modalToText(document.getElementById('modal-1'));\n  });\n  document.getElementById('modalButton').addEventListener('focus', function (e) {\n    _src_speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak('Hit enter to open the help menu');\n  });\n  document.getElementById('replayButton').addEventListener('click', function () {\n    _src_speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].modalToText(document.getElementById('modal-1'));\n  });\n}\n/**\n * Register the arrow keys to do keyboard navigation actions.\n * @param {boolean} register True if the arrow keys should be used for nav.\n */\n\n\nfunction registerArrowKeys(register) {\n  var keyCodeMappings = [[blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.utils.KeyCodes.UP, blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.actionNames.PREVIOUS], [blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.utils.KeyCodes.DOWN, blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.actionNames.NEXT], [blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.utils.KeyCodes.RIGHT, blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.actionNames.IN], [blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.utils.KeyCodes.LEFT, blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.actionNames.OUT]];\n  keyCodeMappings.forEach(function (mapping) {\n    if (register) {\n      var _Blockly$ShortcutRegi;\n\n      (_Blockly$ShortcutRegi = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry).addKeyMapping.apply(_Blockly$ShortcutRegi, _toConsumableArray(mapping));\n    } else {\n      var _Blockly$ShortcutRegi2;\n\n      (_Blockly$ShortcutRegi2 = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry).removeKeyMapping.apply(_Blockly$ShortcutRegi2, _toConsumableArray(mapping));\n    }\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZXN0L2luZGV4LmpzPzA0NDEiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY29udHJvbGxlciIsIk11c2ljR2FtZUNvbnRyb2xsZXIiLCJnZXRFbGVtZW50QnlJZCIsImV2ZW50IiwiZ2V0R2FtZSIsImxvYWRMZXZlbCIsInZhbHVlIiwibG9nR2VuZXJhdGVkQ29kZSIsImV4ZWN1dGUiLCJzZXRTcGVlZCIsInJlZ2lzdGVyQXJyb3dLZXlzIiwiYWRkVGVzdEJ1dHRvbnMiLCJub3RlUGxheWVyIiwicGxheU5vdGUiLCJ0ZXh0Q29udGVudCIsInNwZWFrZXIiLCJzcGVhayIsInZpc2liaWxpdHlTdGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJjYW5jZWwiLCJjdXJyZW50VGFyZ2V0IiwiY2hlY2tlZCIsIm1vZGFsVG9UZXh0IiwiZSIsInJlZ2lzdGVyIiwia2V5Q29kZU1hcHBpbmdzIiwiQmxvY2tseSIsInV0aWxzIiwiS2V5Q29kZXMiLCJVUCIsIm5hdmlnYXRpb24iLCJhY3Rpb25OYW1lcyIsIlBSRVZJT1VTIiwiRE9XTiIsIk5FWFQiLCJSSUdIVCIsIklOIiwiTEVGVCIsIk9VVCIsImZvckVhY2giLCJtYXBwaW5nIiwiU2hvcnRjdXRSZWdpc3RyeSIsInJlZ2lzdHJ5IiwiYWRkS2V5TWFwcGluZyIsInJlbW92ZUtleU1hcHBpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQUEsUUFBUSxDQUFDQyxnQkFBVCxDQUEwQixrQkFBMUIsRUFBOEMsWUFBVztBQUN2RCxNQUFNQyxVQUFVLEdBQUcsSUFBSUMsOEVBQUosRUFBbkI7QUFFQUgsVUFBUSxDQUFDSSxjQUFULENBQXdCLFVBQXhCLEVBQW9DSCxnQkFBcEMsQ0FDSSxPQURKLEVBQ2EsVUFBU0ksS0FBVCxFQUFnQjtB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Q0ksY0FBVCxDQUF3QixTQUF4QixDQUFwQjtBQUNELEdBSEw7QUFJRDtBQUVEO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxTQUFTUSxpQkFBVCxDQUEyQmUsUUFBM0IsRUFBcUM7QUFDbkMsTUFBTUMsZUFBZSxHQUFHLENBQ3RCLENBQUNDLG1EQUFPLENBQUNDLEtBQVIsQ0FBY0MsUUFBZCxDQUF1QkMsRUFBeEIsRUFBNEJILG1EQUFPLENBQUNJLFVBQVIsQ0FBbUJDLFdBQW5CLENBQStCQyxRQUEzRCxDQURzQixFQUV0QixDQUFDTixtREFBTyxDQUFDQyxLQUFSLENBQWNDLFFBQWQsQ0FBdUJLLElBQXhCLEVBQThCUCxtREFBTyxDQUFDSSxVQUFSLENBQW1CQyxXQUFuQixDQUErQkcsSUFBN0QsQ0FGc0IsRUFHdEIsQ0FBQ1IsbURBQU8sQ0FBQ0MsS0FBUixDQUFjQyxRQUFkLENBQXVCTyxLQUF4QixFQUErQlQsbURBQU8sQ0FBQ0ksVUFBUixDQUFtQkMsV0FBbkIsQ0FBK0JLLEVBQTlELENBSHNCLEVBSXRCLENBQUNWLG1EQUFPLENBQUNDLEtBQVIsQ0FBY0MsUUFBZCxDQUF1QlMsSUFBeEIsRUFBOEJYLG1EQUFPLENBQUNJLFVBQVIsQ0FBbUJDLFdBQW5CLENBQStCTyxHQUE3RCxDQUpzQixDQUF4QjtBQUtBYixpQkFBZSxDQUFDYyxPQUFoQixDQUF3QixVQUFDQyxPQUFELEVBQWE7QUFDbkMsUUFBSWhCLFFBQUosRUFBYztBQUFBOztBQUNaLCtCQUFBRSxtREFBTyxDQUFDZSxnQkFBUixDQUF5QkMsUUFBekIsRUFBa0NDLGFBQWxDLGlEQUFtREgsT0FBbkQ7QUFDRCxLQUZELE1BRU87QUFBQTs7QUFDTCxnQ0FBQWQsbURBQU8sQ0FBQ2UsZ0JBQVIsQ0FBeUJDLFFBQXpCLEVBQWtDRSxnQkFBbEMsa0RBQXNESixPQUF0RDtBQUNEO0FBQ0YsR0FORDtBQU9EIiwiZmlsZSI6Ii4vdGVzdC9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFBsdWdpbiB0ZXN0LlxuICovXG5cbmltcG9ydCBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5pbXBvcnQge3NwZWFrZXJ9IGZyb20gJy4uL3NyYy9zcGVha2VyJztcbmltcG9ydCB7bm90ZVBsYXllcn0gZnJvbSAnLi4vc3JjL25vdGVfcGxheWVyJztcbmltcG9ydCB7TXVzaWNHYW1lQ29udHJvbGxlcn0gZnJvbSAnLi4vc3JjL211c2ljX2dhbWVfY29udHJvbGxlcic7XG5pbXBvcnQgJy4uL3NyYy9vdmVycmlkZXMnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgTXVzaWNHYW1lQ29udHJvbGxlcigpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXRMZXZlbCcpLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnaW5wdXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBjb250cm9sbGVyLmdldEdhbWUoKS5sb2FkTGV2ZWwodGhpcy52YWx1ZSk7XG4gICAgICB9KTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ0dlbmVyYXRlZENvZGUnKS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgY29udHJvbGxlci5nZXRHYW1lKCkubG9nR2VuZXJhdGVkQ29kZSgpO1xuICAgICAgfSk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGVjdXRlQ29kZScpLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBjb250cm9sbGVyLmdldEdhbWUoKS5leGVjdXRlKCk7XG4gICAgICB9KTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwZWVkU2xpZGVyJykuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdpbnB1dCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZ2V0R2FtZSgpLnNldFNwZWVkKHRoaXMudmFsdWUvMTAwKTtcbiAgICAgIH0pO1xuXG4gIC8vIEluaXRpYWwgc3RhdGUgaGFzIGFycm93IGtleXMgdHVybmVkIG9uLlxuICByZWdpc3RlckFycm93S2V5cyh0cnVlKTtcbiAgYWRkVGVzdEJ1dHRvbnMoKTtcbn0pO1xuXG4vKipcbiAqIEFkZCBidXR0b25zIGZvciB0ZXN0aW5nIGJhc2ljIGZ1bmN0aW9uYWxpdHkgKHNwZWFrZXIsIGV0YykuXG4gKi9cbmZ1bmN0aW9uIGFkZFRlc3RCdXR0b25zKCkge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheU5vdGUnKS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIG5vdGVQbGF5ZXIucGxheU5vdGUoJ0M0JywgJzhuJyk7XG4gICAgICB9KTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXlUZXh0JykuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCB0ZXh0Q29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0SW5wdXQnKS52YWx1ZTtcbiAgICAgICAgc3BlYWtlci5zcGVhayh0ZXh0Q29udGVudCk7XG4gICAgICB9KTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXlOb3RlQW5kVGV4dCcpLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc3BlYWtlci5zcGVhaygnQzQnLCBmYWxzZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbm90ZVBsYXllci5wbGF5Tm90ZSgnQzQnLCAnOG4nKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIChldmVudCkgPT4ge1xuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICd2aXNpYmxlJykge1xuICAgICAgY29uc29sZS5sb2coJ3RhYiBpcyBhY3RpdmF0ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGVha2VyLmNhbmNlbCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuYWJsZUFycm93S2V5cycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICByZWdpc3RlckFycm93S2V5cyhldmVudC5jdXJyZW50VGFyZ2V0LmNoZWNrZWQpO1xuICAgICAgfSk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbEJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxcbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICBzcGVha2VyLm1vZGFsVG9UZXh0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbC0xJykpO1xuICAgICAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsQnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLFxuICAgICAgZnVuY3Rpb24oZSkge1xuICAgICAgICBzcGVha2VyLnNwZWFrKCdIaXQgZW50ZXIgdG8gb3BlbiB0aGUgaGVscCBtZW51Jyk7XG4gICAgICB9KTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcGxheUJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxcbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICBzcGVha2VyLm1vZGFsVG9UZXh0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbC0xJykpO1xuICAgICAgfSk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXIgdGhlIGFycm93IGtleXMgdG8gZG8ga2V5Ym9hcmQgbmF2aWdhdGlvbiBhY3Rpb25zLlxuICogQHBhcmFtIHtib29sZWFufSByZWdpc3RlciBUcnVlIGlmIHRoZSBhcnJvdyBrZXlzIHNob3VsZCBiZSB1c2VkIGZvciBuYXYuXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyQXJyb3dLZXlzKHJlZ2lzdGVyKSB7XG4gIGNvbnN0IGtleUNvZGVNYXBwaW5ncyA9IFtcbiAgICBbQmxvY2tseS51dGlscy5LZXlDb2Rlcy5VUCwgQmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzLlBSRVZJT1VTXSxcbiAgICBbQmxvY2tseS51dGlscy5LZXlDb2Rlcy5ET1dOLCBCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuTkVYVF0sXG4gICAgW0Jsb2NrbHkudXRpbHMuS2V5Q29kZXMuUklHSFQsIEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5JTl0sXG4gICAgW0Jsb2NrbHkudXRpbHMuS2V5Q29kZXMuTEVGVCwgQmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzLk9VVF1dO1xuICBrZXlDb2RlTWFwcGluZ3MuZm9yRWFjaCgobWFwcGluZykgPT4ge1xuICAgIGlmIChyZWdpc3Rlcikge1xuICAgICAgQmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LmFkZEtleU1hcHBpbmcoLi4ubWFwcGluZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIEJsb2NrbHkuU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZW1vdmVLZXlNYXBwaW5nKC4uLm1hcHBpbmcpO1xuICAgIH1cbiAgfSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./test/index.js\n");

/***/ })

})
webpackHotUpdate("main",{

/***/ "./src/overrides.js":
/*!**************************!*\
  !*** ./src/overrides.js ***!
  \**************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview The class representing a line cursor.\n * A line cursor traverses the blocks as if they were\n * lines of code in a text editor.\n * Previous and next go up and down lines. In and out go\n * through the elements in a line.\n * @author aschmiedt@google.com (Abby Schmiedt)\n */\n\n\n\n\n\nblockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.handleEnterForWS_ = function (workspace) {\n  var cursor = workspace.getCursor();\n  var curNode = cursor.getCurNode();\n  var nodeType = curNode.getType();\n\n  if (nodeType == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.FIELD && curNode.getLocation().isClickable()) {\n    // TODO: Had to override so I could add this speaker in.\n    _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak('Use next and previous to read off your options.', true);\n\n    /** @type {!Blockly.Field} */\n    curNode.getLocation().showEditor();\n  } else if (curNode.isConnection() || nodeType == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.WORKSPACE) {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.markAtCursor_();\n  } else if (nodeType == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.BLOCK) {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.warn_('Cannot mark a block.');\n  } else if (nodeType == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.STACK) {\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.warn_('Cannot mark a stack.');\n  }\n};\n\nblockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.FieldDropdown.prototype.onBlocklyAction = function (action) {\n  if (this.menu_) {\n    switch (action.name) {\n      case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.actionNames.PREVIOUS:\n        this.menu_.highlightPrevious();\n        _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak(this.menu_.highlightedItem_.content_.alt, true);\n        _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak('Press enter to select this option. ');\n        return true;\n\n      case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.actionNames.NEXT:\n        this.menu_.highlightNext(); // TODO: Needed to override so that I could speak out the location when\n        // it changes.\n\n        _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak(this.menu_.highlightedItem_.content_.alt, true);\n        _speaker__WEBPACK_IMPORTED_MODULE_1__[\"speaker\"].speak('Press enter to select this option. ');\n        return true;\n\n      default:\n        return false;\n    }\n  }\n\n  return blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.FieldDropdown.superClass_.onBlocklyAction.call(this, action);\n};\n\nblockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Block.prototype.toString = function (opt_maxLength, opt_emptyToken) {\n  var text = [];\n  var emptyFieldPlaceholder = opt_emptyToken || '?'; // Temporarily set flag to navigate to all fields.\n\n  var prevNavigateFields = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.NAVIGATE_ALL_FIELDS;\n  blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.NAVIGATE_ALL_FIELDS = true;\n  var node = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.createBlockNode(this);\n  var rootNode = node;\n  /**\n   * Whether or not to add parentheses around an input.\n   * @param {!Blockly.Connection} connection The connection.\n   * @return {boolean} True if we should add parentheses around the input.\n   */\n\n  function shouldAddParentheses(connection) {\n    var checks = connection.getCheck();\n\n    if (!checks && connection.targetConnection) {\n      checks = connection.targetConnection.getCheck();\n    }\n\n    return !!checks && (checks.indexOf('Boolean') != -1 || checks.indexOf('Number') != -1);\n  }\n  /**\n   * Check that we haven't circled back to the original root node.\n   */\n\n\n  function checkRoot() {\n    if (node && node.getType() == rootNode.getType() && node.getLocation() == rootNode.getLocation()) {\n      node = null;\n    }\n  }\n\n  var connection = null;\n  var field = null; // Traverse the AST building up our text string.\n\n  while (node) {\n    switch (node.getType()) {\n      case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT:\n        connection =\n        /** @type {!Blockly.Connection} */\n        node.getLocation();\n\n        if (!node.in()) {\n          text.push(emptyFieldPlaceholder);\n        } else if (shouldAddParentheses(connection)) {\n          text.push('(');\n        }\n\n        break;\n\n      case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.FIELD:\n        field =\n        /** @type {Blockly.Field} */\n        node.getLocation();\n\n        if (field.name != blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Block.COLLAPSED_FIELD_NAME) {\n          text.push(field.getText());\n        }\n\n        break;\n    }\n\n    var current = node;\n    node = current.in() || current.next(); // TODO: This only works in our specific use case of having a block with a\n    // single statement connection.\n\n    if (node && node.getType() == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT && node.getLocation().type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.NEXT_STATEMENT) {\n      node = null;\n    }\n\n    if (!node) {\n      // Can't go in or next, keep going out until we can go next.\n      node = current.out();\n      checkRoot();\n\n      while (node && !node.next()) {\n        node = node.out();\n        checkRoot(); // If we hit an input on the way up, possibly close out parentheses.\n\n        if (node && node.getType() == blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT && shouldAddParentheses(\n        /** @type {!Blockly.Connection} */\n        node.getLocation())) {\n          text.push(')');\n        }\n      }\n\n      if (node) {\n        node = node.next();\n      }\n    }\n  } // Restore state of NAVIGATE_ALL_FIELDS.\n\n\n  blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.NAVIGATE_ALL_FIELDS = prevNavigateFields; // Run through our text array and simplify expression to remove parentheses\n  // around single field blocks.\n\n  for (var i = 2, l = text.length; i < l; i++) {\n    if (text[i - 2] == '(' && text[i] == ')') {\n      text[i - 2] = text[i - 1];\n      text.splice(i - 1, 2);\n      l -= 2;\n    }\n  } // Join the text array, removing spaces around added paranthesis.\n\n\n  text = text.join(' ').replace(/(\\() | (\\))/gmi, '$1$2').trim() || '???';\n\n  if (opt_maxLength) {\n    // TODO: Improve truncation so that text from this block is given priority.\n    // E.g. \"1+2+3+4+5+6+7+8+9=0\" should be \"...6+7+8+9=0\", not \"1+2+3+4+5...\".\n    // E.g. \"1+2+3+4+5=6+7+8+9+0\" should be \"...4+5=6+7...\".\n    if (text.length > opt_maxLength) {\n      text = text.substring(0, opt_maxLength - 3) + '...';\n    }\n  }\n\n  return text;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb3ZlcnJpZGVzLmpzPzFjYjQiXSwibmFtZXMiOlsiQmxvY2tseSIsIm5hdmlnYXRpb24iLCJoYW5kbGVFbnRlckZvcldTXyIsIndvcmtzcGFjZSIsImN1cnNvciIsImdldEN1cnNvciIsImN1ck5vZGUiLCJnZXRDdXJOb2RlIiwibm9kZVR5cGUiLCJnZXRUeXBlIiwiQVNUTm9kZSIsInR5cGVzIiwiRklFTEQiLCJnZXRMb2NhdGlvbiIsImlzQ2xpY2thYmxlIiwic3BlYWtlciIsInNwZWFrIiwic2hvd0VkaXRvciIsImlzQ29ubmVjdGlvbiIsIldPUktTUEFDRSIsIm1hcmtBdEN1cnNvcl8iLCJCTE9DSyIsIndhcm5fIiwiU1RBQ0siLCJGaWVsZERyb3Bkb3duIiwicHJvdG90eXBlIiwib25CbG9ja2x5QWN0aW9uIiwiYWN0aW9uIiwibWVudV8iLCJuYW1lIiwiYWN0aW9uTmFtZXMiLCJQUkVWSU9VUyIsImhpZ2hsaWdodFByZXZpb3VzIiwiaGlnaGxpZ2h0ZWRJdGVtXyIsImNvbnRlbnRfIiwiYWx0IiwiTkVYVCIsImhpZ2hsaWdodE5leHQiLCJzdXBlckNsYXNzXyIsImNhbGwiLCJCbG9jayIsInRvU3RyaW5nIiwib3B0X21heExlbmd0aCIsIm9wdF9lbXB0eVRva2VuIiwidGV4dCIsImVtcHR5RmllbGRQbGFjZWhvbGRlciIsInByZXZOYXZpZ2F0ZUZpZWxkcyIsIk5BVklHQVRFX0FMTF9GSUVMRFMiLCJub2RlIiwiY3JlYXRlQmxvY2tOb2RlIiwicm9vdE5vZGUiLCJzaG91bGRBZGRQYXJlbnRoZXNlcyIsImNvbm5lY3Rpb24iLCJjaGVja3MiLCJnZXRDaGVjayIsInRhcmdldENvbm5lY3Rpb24iLCJpbmRleE9mIiwiY2hlY2tSb290IiwiZmllbGQiLCJJTlBVVCIsImluIiwicHVzaCIsIkNPTExBUFNFRF9GSUVMRF9OQU1FIiwiZ2V0VGV4dCIsImN1cnJlbnQiLCJuZXh0IiwidHlwZSIsIk5FWFRfU1RBVEVNRU5UIiwib3V0IiwiaSIsImwiLCJsZW5ndGgiLCJzcGxpY2UiLCJqb2luIiwicmVwbGFjZSIsInRyaW0iLCJzdWJzdHJpbmciXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRWI7QUFDQTs7QUFHQUEsbURBQU8sQ0FBQ0MsVUFBUixDQUFtQkMsaUJBQW5CLEdBQXVDLFVBQVNDLFNBQVQsRUFBb0I7QUFDekQsTUFBTUMsTUFBTSxHQUFHRCxTQUFTLENBQUNFLFNBQVYsRUFBZjtBQUNBLE1BQU1DLE9BQU8sR0FBR0YsTUFBTSxDQUFDRyxVQUFQLEVBQWhCO0FBQ0EsTUFBTUMsUUFBUSxHQUFHRixPQUFPLENBQUNHLE9BQVIsRUFBakI7O0FBQ0EsTUFBSUQsUUFBUSxJQUFJUixtREFBTyxDQUFDVSxPQUFSLENBQWdCQyxLQUFoQixDQUFzQkMsS0FBbEMsSUFDQU4sT0FBTyxDQUFDTyxXQUFSLEdBQXNCQyxXQUF0QixFQURKLEVBQ3lDO0FBQ3ZDO0FBRUFDLG9EQUFPLENBQUNDLEtBQVIsQ0FBYyxpREFBZCxFQUFpRSxJQUFqRTs7QUFDQztBQUE4QlYsV0FBTyxDQUFDTyxXQUFSLEVBQS9CLENBQXVESSxVQUF2RDtBQUNELEdBTkQsTUFNTyxJQUFJWCxPQUFPLENBQUNZLFlBQVIsTUFDUFYsUUFBUSxJQUFJUixtREFBTyxDQUFDVSxPQUFSLENBQWdCQyxLQUFoQixDQUFzQlEsU0FEL0IsRUFDMEM7QUFDL0NuQix1REFBTyxDQUFDQyxVQUFSLENBQW1CbUIsYUFBbkI7QUFDRCxHQUhNLE1BR0EsSUFBSVosUUFBUSxJQUFJUixtREFBTyxDQUFDVSxPQUFSLENBQWdCQyxLQUFoQixDQUFzQlUsS0FBdEMsRUFBNkM7QUFDbERyQix1REFBTyxDQUFDQyxVQUFSLENBQW1CcUIsS0FBbkIsQ0FBeUIsc0JBQXpCO0FBQ0QsR0FGTSxNQUVBLElBQUlkLFFBQVEsSUFBSVIsbURBQU8s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LFVBQUksQ0FBQzRCLE1BQUwsQ0FBWUgsQ0FBQyxHQUFHLENBQWhCLEVBQW1CLENBQW5CO0FBQ0FDLE9BQUMsSUFBSSxDQUFMO0FBQ0Q7QUFDRixHQS9Gd0UsQ0FpR3pFOzs7QUFDQTFCLE1BQUksR0FBR0EsSUFBSSxDQUFDNkIsSUFBTCxDQUFVLEdBQVYsRUFBZUMsT0FBZixDQUF1QixnQkFBdkIsRUFBeUMsTUFBekMsRUFBaURDLElBQWpELE1BQTJELEtBQWxFOztBQUNBLE1BQUlqQyxhQUFKLEVBQW1CO0FBQ2pCO0FBQ0E7QUFDRjtBQUNFLFFBQUlFLElBQUksQ0FBQzJCLE1BQUwsR0FBYzdCLGFBQWxCLEVBQWlDO0FBQy9CRSxVQUFJLEdBQUdBLElBQUksQ0FBQ2dDLFNBQUwsQ0FBZSxDQUFmLEVBQWtCbEMsYUFBYSxHQUFHLENBQWxDLElBQXVDLEtBQTlDO0FBQ0Q7QUFDRjs7QUFDRCxTQUFPRSxJQUFQO0FBQ0QsQ0E1R0QiLCJmaWxlIjoiLi9zcmMvb3ZlcnJpZGVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgVGhlIGNsYXNzIHJlcHJlc2VudGluZyBhIGxpbmUgY3Vyc29yLlxuICogQSBsaW5lIGN1cnNvciB0cmF2ZXJzZXMgdGhlIGJsb2NrcyBhcyBpZiB0aGV5IHdlcmVcbiAqIGxpbmVzIG9mIGNvZGUgaW4gYSB0ZXh0IGVkaXRvci5cbiAqIFByZXZpb3VzIGFuZCBuZXh0IGdvIHVwIGFuZCBkb3duIGxpbmVzLiBJbiBhbmQgb3V0IGdvXG4gKiB0aHJvdWdoIHRoZSBlbGVtZW50cyBpbiBhIGxpbmUuXG4gKiBAYXV0aG9yIGFzY2htaWVkdEBnb29nbGUuY29tIChBYmJ5IFNjaG1pZWR0KVxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5pbXBvcnQge3NwZWFrZXJ9IGZyb20gJy4vc3BlYWtlcic7XG5cblxuQmxvY2tseS5uYXZpZ2F0aW9uLmhhbmRsZUVudGVyRm9yV1NfID0gZnVuY3Rpb24od29ya3NwYWNlKSB7XG4gIGNvbnN0IGN1cnNvciA9IHdvcmtzcGFjZS5nZXRDdXJzb3IoKTtcbiAgY29uc3QgY3VyTm9kZSA9IGN1cnNvci5nZXRDdXJOb2RlKCk7XG4gIGNvbnN0IG5vZGVUeXBlID0gY3VyTm9kZS5nZXRUeXBlKCk7XG4gIGlmIChub2RlVHlwZSA9PSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuRklFTEQgJiZcbiAgICAgIGN1ck5vZGUuZ2V0TG9jYXRpb24oKS5pc0NsaWNrYWJsZSgpKSB7XG4gICAgLy8gVE9ETzogSGFkIHRvIG92ZXJyaWRlIHNvIEkgY291bGQgYWRkIHRoaXMgc3BlYWtlciBpbi5cblxuICAgIHNwZWFrZXIuc3BlYWsoJ1VzZSBuZXh0IGFuZCBwcmV2aW91cyB0byByZWFkIG9mZiB5b3VyIG9wdGlvbnMuJywgdHJ1ZSk7XG4gICAgKC8qKiBAdHlwZSB7IUJsb2NrbHkuRmllbGR9ICovKGN1ck5vZGUuZ2V0TG9jYXRpb24oKSkpLnNob3dFZGl0b3IoKTtcbiAgfSBlbHNlIGlmIChjdXJOb2RlLmlzQ29ubmVjdGlvbigpIHx8XG4gICAgICBub2RlVHlwZSA9PSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuV09SS1NQQUNFKSB7XG4gICAgQmxvY2tseS5uYXZpZ2F0aW9uLm1hcmtBdEN1cnNvcl8oKTtcbiAgfSBlbHNlIGlmIChub2RlVHlwZSA9PSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuQkxPQ0spIHtcbiAgICBCbG9ja2x5Lm5hdmlnYXRpb24ud2Fybl8oJ0Nhbm5vdCBtYXJrIGEgYmxvY2suJyk7XG4gIH0gZWxzZSBpZiAobm9kZVR5cGUgPT0gQmxvY2tseS5BU1ROb2RlLnR5cGVzLlNUQUNLKSB7XG4gICAgQmxvY2tseS5uYXZpZ2F0aW9uLndhcm5fKCdDYW5ub3QgbWFyayBhIHN0YWNrLicpO1xuICB9XG59O1xuXG5cbkJsb2NrbHkuRmllbGREcm9wZG93bi5wcm90b3R5cGUub25CbG9ja2x5QWN0aW9uID0gZnVuY3Rpb24oYWN0aW9uKSB7XG4gIGlmICh0aGlzLm1lbnVfKSB7XG4gICAgc3dpdGNoIChhY3Rpb24ubmFtZSkge1xuICAgICAgY2FzZSBCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuUFJFVklPVVM6XG4gICAgICAgIHRoaXMubWVudV8uaGlnaGxpZ2h0UHJldmlvdXMoKTtcbiAgICAgICAgc3BlYWtlci5zcGVhayh0aGlzLm1lbnVfLmhpZ2hsaWdodGVkSXRlbV8uY29udGVudF8uYWx0LCB0cnVlKTtcbiAgICAgICAgc3BlYWtlci5zcGVhaygnUHJlc3MgZW50ZXIgdG8gc2VsZWN0IHRoaXMgb3B0aW9uLiAnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5ORVhUOlxuICAgICAgICB0aGlzLm1lbnVfLmhpZ2hsaWdodE5leHQoKTtcbiAgICAgICAgLy8gVE9ETzogTmVlZGVkIHRvIG92ZXJyaWRlIHNvIHRoYXQgSSBjb3VsZCBzcGVhayBvdXQgdGhlIGxvY2F0aW9uIHdoZW5cbiAgICAgICAgLy8gaXQgY2hhbmdlcy5cbiAgICAgICAgc3BlYWtlci5zcGVhayh0aGlzLm1lbnVfLmhpZ2hsaWdodGVkSXRlbV8uY29udGVudF8uYWx0LCB0cnVlKTtcbiAgICAgICAgc3BlYWtlci5zcGVhaygnUHJlc3MgZW50ZXIgdG8gc2VsZWN0IHRoaXMgb3B0aW9uLiAnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBCbG9ja2x5LkZpZWxkRHJvcGRvd24uc3VwZXJDbGFzc18ub25CbG9ja2x5QWN0aW9uLmNhbGwodGhpcywgYWN0aW9uKTtcbn07XG5cblxuQmxvY2tseS5CbG9jay5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRfbWF4TGVuZ3RoLCBvcHRfZW1wdHlUb2tlbikge1xuICBsZXQgdGV4dCA9IFtdO1xuICBjb25zdCBlbXB0eUZpZWxkUGxhY2Vob2xkZXIgPSBvcHRfZW1wdHlUb2tlbiB8fCAnPyc7XG5cbiAgLy8gVGVtcG9yYXJpbHkgc2V0IGZsYWcgdG8gbmF2aWdhdGUgdG8gYWxsIGZpZWxkcy5cbiAgY29uc3QgcHJldk5hdmlnYXRlRmllbGRzID0gQmxvY2tseS5BU1ROb2RlLk5BVklHQVRFX0FMTF9GSUVMRFM7XG4gIEJsb2NrbHkuQVNUTm9kZS5OQVZJR0FURV9BTExfRklFTERTID0gdHJ1ZTtcblxuICBsZXQgbm9kZSA9IEJsb2NrbHkuQVNUTm9kZS5jcmVhdGVCbG9ja05vZGUodGhpcyk7XG4gIGNvbnN0IHJvb3ROb2RlID0gbm9kZTtcblxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdG8gYWRkIHBhcmVudGhlc2VzIGFyb3VuZCBhbiBpbnB1dC5cbiAgICogQHBhcmFtIHshQmxvY2tseS5Db25uZWN0aW9ufSBjb25uZWN0aW9uIFRoZSBjb25uZWN0aW9uLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHdlIHNob3VsZCBhZGQgcGFyZW50aGVzZXMgYXJvdW5kIHRoZSBpbnB1dC5cbiAgICovXG4gIGZ1bmN0aW9uIHNob3VsZEFkZFBhcmVudGhlc2VzKGNvbm5lY3Rpb24pIHtcbiAgICBsZXQgY2hlY2tzID0gY29ubmVjdGlvbi5nZXRDaGVjaygpO1xuICAgIGlmICghY2hlY2tzICYmIGNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbikge1xuICAgICAgY2hlY2tzID0gY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uLmdldENoZWNrKCk7XG4gICAgfVxuICAgIHJldHVybiAhIWNoZWNrcyAmJiAoY2hlY2tzLmluZGV4T2YoJ0Jvb2xlYW4nKSAhPSAtMSB8fFxuICAgICAgICBjaGVja3MuaW5kZXhPZignTnVtYmVyJykgIT0gLTEpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHRoYXQgd2UgaGF2ZW4ndCBjaXJjbGVkIGJhY2sgdG8gdGhlIG9yaWdpbmFsIHJvb3Qgbm9kZS5cbiAgICovXG4gIGZ1bmN0aW9uIGNoZWNrUm9vdCgpIHtcbiAgICBpZiAobm9kZSAmJiBub2RlLmdldFR5cGUoKSA9PSByb290Tm9kZS5nZXRUeXBlKCkgJiZcbiAgICAgICAgbm9kZS5nZXRMb2NhdGlvbigpID09IHJvb3ROb2RlLmdldExvY2F0aW9uKCkpIHtcbiAgICAgIG5vZGUgPSBudWxsO1xuICAgIH1cbiAgfVxuICBsZXQgY29ubmVjdGlvbiA9IG51bGw7XG4gIGxldCBmaWVsZCA9IG51bGw7XG5cbiAgLy8gVHJhdmVyc2UgdGhlIEFTVCBidWlsZGluZyB1cCBvdXIgdGV4dCBzdHJpbmcuXG4gIHdoaWxlIChub2RlKSB7XG4gICAgc3dpdGNoIChub2RlLmdldFR5cGUoKSkge1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuSU5QVVQ6XG4gICAgICAgIGNvbm5lY3Rpb24gPSAvKiogQHR5cGUgeyFCbG9ja2x5LkNvbm5lY3Rpb259ICovIChub2RlLmdldExvY2F0aW9uKCkpO1xuICAgICAgICBpZiAoIW5vZGUuaW4oKSkge1xuICAgICAgICAgIHRleHQucHVzaChlbXB0eUZpZWxkUGxhY2Vob2xkZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKHNob3VsZEFkZFBhcmVudGhlc2VzKGNvbm5lY3Rpb24pKSB7XG4gICAgICAgICAgdGV4dC5wdXNoKCcoJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5GSUVMRDpcbiAgICAgICAgZmllbGQgPSAvKiogQHR5cGUge0Jsb2NrbHkuRmllbGR9ICovIChub2RlLmdldExvY2F0aW9uKCkpO1xuICAgICAgICBpZiAoZmllbGQubmFtZSAhPSBCbG9ja2x5LkJsb2NrLkNPTExBUFNFRF9GSUVMRF9OQU1FKSB7XG4gICAgICAgICAgdGV4dC5wdXNoKGZpZWxkLmdldFRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudCA9IG5vZGU7XG4gICAgbm9kZSA9IGN1cnJlbnQuaW4oKSB8fCBjdXJyZW50Lm5leHQoKTtcbiAgICAvLyBUT0RPOiBUaGlzIG9ubHkgd29ya3MgaW4gb3VyIHNwZWNpZmljIHVzZSBjYXNlIG9mIGhhdmluZyBhIGJsb2NrIHdpdGggYVxuICAgIC8vIHNpbmdsZSBzdGF0ZW1lbnQgY29ubmVjdGlvbi5cbiAgICBpZiAobm9kZSAmJiBub2RlLmdldFR5cGUoKSA9PSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuSU5QVVQgJiZcbiAgICAgICAgbm9kZS5nZXRMb2NhdGlvbigpLnR5cGUgPT09IEJsb2NrbHkuTkVYVF9TVEFURU1FTlQpIHtcbiAgICAgIG5vZGUgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIC8vIENhbid0IGdvIGluIG9yIG5leHQsIGtlZXAgZ29pbmcgb3V0IHVudGlsIHdlIGNhbiBnbyBuZXh0LlxuICAgICAgbm9kZSA9IGN1cnJlbnQub3V0KCk7XG4gICAgICBjaGVja1Jvb3QoKTtcbiAgICAgIHdoaWxlIChub2RlICYmICFub2RlLm5leHQoKSkge1xuICAgICAgICBub2RlID0gbm9kZS5vdXQoKTtcbiAgICAgICAgY2hlY2tSb290KCk7XG4gICAgICAgIC8vIElmIHdlIGhpdCBhbiBpbnB1dCBvbiB0aGUgd2F5IHVwLCBwb3NzaWJseSBjbG9zZSBvdXQgcGFyZW50aGVzZXMuXG4gICAgICAgIGlmIChub2RlICYmIG5vZGUuZ2V0VHlwZSgpID09IEJsb2NrbHkuQVNUTm9kZS50eXBlcy5JTlBVVCAmJlxuICAgICAgICAgICAgc2hvdWxkQWRkUGFyZW50aGVzZXMoXG4gICAgICAgICAgICAgICAgLyoqIEB0eXBlIHshQmxvY2tseS5Db25uZWN0aW9ufSAqLyAobm9kZS5nZXRMb2NhdGlvbigpKSkpIHtcbiAgICAgICAgICB0ZXh0LnB1c2goJyknKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUubmV4dCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFJlc3RvcmUgc3RhdGUgb2YgTkFWSUdBVEVfQUxMX0ZJRUxEUy5cbiAgQmxvY2tseS5BU1ROb2RlLk5BVklHQVRFX0FMTF9GSUVMRFMgPSBwcmV2TmF2aWdhdGVGaWVsZHM7XG5cbiAgLy8gUnVuIHRocm91Z2ggb3VyIHRleHQgYXJyYXkgYW5kIHNpbXBsaWZ5IGV4cHJlc3Npb24gdG8gcmVtb3ZlIHBhcmVudGhlc2VzXG4gIC8vIGFyb3VuZCBzaW5nbGUgZmllbGQgYmxvY2tzLlxuICBmb3IgKGxldCBpID0gMiwgbCA9IHRleHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKHRleHRbaSAtIDJdID09ICcoJyAmJiB0ZXh0W2ldID09ICcpJykge1xuICAgICAgdGV4dFtpIC0gMl0gPSB0ZXh0W2kgLSAxXTtcbiAgICAgIHRleHQuc3BsaWNlKGkgLSAxLCAyKTtcbiAgICAgIGwgLT0gMjtcbiAgICB9XG4gIH1cblxuICAvLyBKb2luIHRoZSB0ZXh0IGFycmF5LCByZW1vdmluZyBzcGFjZXMgYXJvdW5kIGFkZGVkIHBhcmFudGhlc2lzLlxuICB0ZXh0ID0gdGV4dC5qb2luKCcgJykucmVwbGFjZSgvKFxcKCkgfCAoXFwpKS9nbWksICckMSQyJykudHJpbSgpIHx8ICc/Pz8nO1xuICBpZiAob3B0X21heExlbmd0aCkge1xuICAgIC8vIFRPRE86IEltcHJvdmUgdHJ1bmNhdGlvbiBzbyB0aGF0IHRleHQgZnJvbSB0aGlzIGJsb2NrIGlzIGdpdmVuIHByaW9yaXR5LlxuICAgIC8vIEUuZy4gXCIxKzIrMys0KzUrNis3KzgrOT0wXCIgc2hvdWxkIGJlIFwiLi4uNis3KzgrOT0wXCIsIG5vdCBcIjErMiszKzQrNS4uLlwiLlxuICAvLyBFLmcuIFwiMSsyKzMrNCs1PTYrNys4KzkrMFwiIHNob3VsZCBiZSBcIi4uLjQrNT02KzcuLi5cIi5cbiAgICBpZiAodGV4dC5sZW5ndGggPiBvcHRfbWF4TGVuZ3RoKSB7XG4gICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgb3B0X21heExlbmd0aCAtIDMpICsgJy4uLic7XG4gICAgfVxuICB9XG4gIHJldHVybiB0ZXh0O1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/overrides.js\n");

/***/ }),

/***/ "./src/speaker.js":
/*!************************!*\
  !*** ./src/speaker.js ***!
  \************************/
/*! exports provided: Speaker, speaker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Speaker\", function() { return Speaker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"speaker\", function() { return speaker; });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Speaker used for speaking out text.\n */\n\n/**\n * Convenience methods for speaking out text.\n * More information on speakers can be found here:\n * https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis.\n */\n\nvar Speaker = /*#__PURE__*/function () {\n  /**\n   * Constructor for a speaker.\n   * @param {SpeakerMessages=} optMessages Optional messages for the speaker.\n   */\n  function Speaker(optMessages) {\n    _classCallCheck(this, Speaker);\n\n    var messages = {\n      'MAIN_WS': 'On the main workspace',\n      'STACK': 'To go to the last block in the previous group of blocks, press' + 'previous. To go to the first block in the stack hit next.',\n      'PREVIOUS': 'You are on a connection before, ',\n      'NEXT': 'On a connection after, ',\n      'OUTPUT': 'On an output connection. ',\n      'CONNECTION': 'At a connection point.',\n      'BLOCK': 'On a block of type',\n      'CLICKABLE_FIELD': 'To interact with the field hit enter.',\n      'EMPTY_TOKEN': 'blank',\n      'MARK_CONNECTION': 'To mark the block press enter. ',\n      'EXIT_EDIT_MODE': 'To exit edit mode hit escape. '\n    };\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.utils.object.mixin(messages, optMessages);\n    this.setLocale(messages);\n    this.noOverrides = false;\n  }\n  /**\n   * The messages to be read out by a screen reader.\n   * @typedef {{\n   *     MAIN_WS: string,\n   *     STACK: string,\n   *     PREVIOUS: string,\n   *     NEXT: string,\n   *     OUTPUT: string,\n   *     CONNECTION: string,\n   *     BLOCK: string,\n   *     EMPTY_TOKEN: string,\n   *     MARK_CONNECTION: string,\n   * }} SpeakerMessages\n   */\n\n  /**\n   * Set the messages for the speaker.\n   * @param {!SpeakerMessages} messages The messages needed to create a speaker.\n   */\n\n\n  _createClass(Speaker, [{\n    key: \"setLocale\",\n    value: function setLocale(messages) {\n      Object.keys(messages).forEach(function (k) {\n        blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg[k] = messages[k];\n      });\n    }\n    /**\n     * Speaks out the text that was given to it.\n     * @param {string} text The text to speak out.\n     * @param {boolean=} shouldCancel True to stop the current utterance, false to\n     *     wait until the current utterance is done before speaking.\n     * @param {function=} onEnd The function to run after the text has been\n     *     spoken.\n     * @param {function=} onStart The function run when the text has begun to\n     *     be spoken.\n     * @public\n     */\n\n  }, {\n    key: \"speak\",\n    value: function speak(text, shouldCancel, onEnd, onStart) {\n      var audio = new SpeechSynthesisUtterance(text);\n\n      if (shouldCancel && !this.noOverrides && window.speechSynthesis.speaking) {\n        window.speechSynthesis.cancel();\n      }\n\n      if (onEnd) {\n        audio.onend = onEnd;\n      }\n\n      if (onStart) {\n        audio.onstart = onStart;\n      } // Putting on timeout fixes some weird issues with onend being called too\n      // early.\n\n\n      setTimeout(function () {\n        return window.speechSynthesis.speak(audio);\n      }, 1);\n    }\n    /**\n     * Clears out the queue of text to speak.\n     * @public\n     */\n\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      window.speechSynthesis.cancel();\n    }\n    /**\n     * Pauses speaking.\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      window.speechSynthesis.pause();\n    }\n    /**\n     * Resumes speaking.\n     */\n\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      window.speechSynthesis.resume();\n    }\n    /**\n     * Speaks out text if the event is of type marker or cursor move.\n     * @param {!Blockly.Events} event The event to speak out.\n     */\n\n  }, {\n    key: \"nodeToSpeech\",\n    value: function nodeToSpeech(event) {\n      // TODO: Update this if we link to the current version of blockly.\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Events.MARKER_MOVE) {\n        var nodeText = this.nodeToText_(event.newNode, event.oldNode, !event.isCursor);\n\n        if (!event.isCursor) {\n          nodeText = \"You have marked a location. To find a new block to connect\\n        to this location hit T. ! . To insert a block on the workspace,\\n        find the location of the block and hit I. \";\n        }\n\n        var onStart;\n\n        if (event.newNode && event.newNode.getLocation() && event.newNode.getLocation().actionBeforeSpeaker) {\n          var location = event.newNode.getLocation();\n          onStart = location.actionBeforeSpeaker.bind(location);\n        }\n\n        this.speak(nodeText, true, undefined, onStart);\n      }\n    }\n    /**\n     * Speaks out the text for a modal.\n     * @param {Element} modal The modal to collect the text to read out.\n     * @public\n     */\n\n  }, {\n    key: \"modalToText\",\n    value: function modalToText(modal) {\n      var header = modal.querySelector('header');\n      var headerText = header.textContent.trim();\n\n      if (headerText !== '') {\n        this.speak(headerText);\n      }\n\n      this.addButtonListeners_(header.querySelectorAll('button'));\n      var mainText = modal.querySelector('main').textContent.trim();\n\n      if (mainText !== '') {\n        this.speak(mainText);\n      }\n\n      var footerBtns = modal.querySelector('footer').querySelectorAll('button');\n      this.addButtonListeners_(footerBtns);\n    }\n    /**\n     * Adds listeners for when the button is focused.\n     * @param {!NodeList} btns The buttons to add listeners to.\n     * @private\n     */\n\n  }, {\n    key: \"addButtonListeners_\",\n    value: function addButtonListeners_(btns) {\n      var _this = this;\n\n      var _iterator = _createForOfIteratorHelper(btns),\n          _step;\n\n      try {\n        var _loop = function _loop() {\n          var btn = _step.value;\n          btn.addEventListener('focus', function () {\n            _this.buttonToSpeech_(btns, btn, true);\n          });\n\n          if (document.activeElement === btn) {\n            _this.buttonToSpeech_(btns, btn, false);\n          }\n        };\n\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          _loop();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    /**\n     * Speaks out information about a button.\n     * @param {NodeList} btns The list of buttons on the modal.\n     * @param {Element} btn The button.\n     * @param {boolean} shouldCancel True if this should cancel the previous\n     *     utterance.\n     * @private\n     */\n\n  }, {\n    key: \"buttonToSpeech_\",\n    value: function buttonToSpeech_(btns, btn, shouldCancel) {\n      this.speak('Hit enter to ', shouldCancel);\n\n      if (btn.textContent === '') {\n        this.speak(btn.getAttribute('aria-label'));\n      } else {\n        this.speak(btn.textContent);\n      }\n\n      if (btns.length > 0) {\n        this.speak('Hit tab to go to your next option');\n      }\n    }\n    /**\n     * Speaks out an audio representation of the given node.\n     * @param {Blockly.ASTNode} node The node to speak out.\n     * @param {Blockly.ASTNode} oldNode The previous node to speak out.\n     * @param {boolean} isMarker True to get the text for a marker,\n     *     false otherwise.\n     * @return {string} The text representation of the node.\n     * @public\n     */\n\n  }, {\n    key: \"nodeToText_\",\n    value: function nodeToText_(node, oldNode, isMarker) {\n      var finalText = '';\n\n      switch (node.getType()) {\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.FIELD:\n          finalText = this.fieldNodeToText_(node);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.BLOCK:\n          finalText = this.blockNodeToText_(node);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT:\n          finalText = this.inputNodeToText_(node, isMarker);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.OUTPUT:\n          finalText = this.outputNodeToText_(node, isMarker);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.NEXT:\n          finalText = this.nextNodeToText_(node, isMarker);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.PREVIOUS:\n          finalText = this.previousNodeToText_(node, isMarker);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.STACK:\n          finalText = this.stackNodeToText_(node, oldNode);\n          break;\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.WORKSPACE:\n          finalText = this.workspaceNodeToText_(node);\n          break;\n\n        default:\n          return node.toString();\n      }\n\n      finalText += this.getNextOptions_(node, oldNode, isMarker);\n      return finalText;\n    }\n    /**\n     * Gets text explaining the next options available for a user.\n     * @param {!Blockly.ASTNode} node The current node.\n     * @param {!Blockly.ASTNode} oldNode The previous node.\n     * @param {boolean} isMarker True if the marker was moved.\n     * @return {string} Text explaining next options for the field.\n     * @private\n     */\n\n  }, {\n    key: \"getNextOptions_\",\n    value: function getNextOptions_(node, oldNode, isMarker) {\n      switch (node.getType()) {\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.FIELD:\n          return this.getFieldOptions_(node);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.BLOCK:\n          return this.getBlockOptions_(node);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.INPUT:\n          return this.getConnectionOptions_(node, isMarker);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.OUTPUT:\n          return this.getConnectionOptions_(node, isMarker);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.NEXT:\n          return this.getConnectionOptions_(node, isMarker);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.PREVIOUS:\n          return this.getConnectionOptions_(node, isMarker);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.STACK:\n          return this.getStackOptions_(node);\n\n        case blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ASTNode.types.WORKSPACE:\n          return '';\n\n        default:\n          return node.toString();\n      }\n    }\n    /**\n     * Gets the next options for when a user is on a field.\n     * This is to open the field or to change locations.\n     * @param {!Blockly.ASTNode} node The field node.\n     * @return {string} The text explaining the next options when a user is on a\n     *     field.\n     * @private\n     */\n\n  }, {\n    key: \"getFieldOptions_\",\n    value: function getFieldOptions_(node) {\n      var field = node.getLocation();\n\n      if (field.isClickable()) {\n        return \"To interact with the field hit enter. Use the up or down\\n      arrows to change locations. \";\n      } else {\n        return 'Use the up or down arrows to change locations. ';\n      }\n    }\n    /**\n     * Gets the next options for when a user is on a block.\n     * @return {string} The text explaining the next options for a block.\n     * @private\n     */\n\n  }, {\n    key: \"getBlockOptions_\",\n    value: function getBlockOptions_() {\n      return \"Use the up or down arrows to change locations. \";\n    }\n    /**\n     * Gets the text for the connection point.\n     * @param {!Blockly.ASTNode} node The connection node.\n     * @param {boolean} isMarker True if the marker was moved.\n     * @return {string} The text explaining the next options when a user is on a\n     *     connection.\n     * @private\n     */\n\n  }, {\n    key: \"getConnectionOptions_\",\n    value: function getConnectionOptions_(node, isMarker) {\n      var markerText = \". To mark this location, hit enter.\\n    To change locations use the up or down arrows\";\n      var finalText = '';\n\n      if (!isMarker) {\n        finalText += \"\".concat(markerText);\n      }\n\n      return finalText;\n    }\n    /**\n     * Gets the options for a user on a  stack of blocks.\n     * @param {Blockly.ASTNode} node The stack node.\n     * @return {string} The text explaining the next options when a user is on a\n     *     stack of blocks.\n     * @private\n     */\n\n  }, {\n    key: \"getStackOptions_\",\n    value: function getStackOptions_(node) {\n      var finalText = '';\n\n      if (node.prev()) {\n        finalText += \"To go to the last block in the previous group of blocks,\\n      press previous.\";\n      }\n\n      finalText += \" To go to the first block in the stack hit next.\";\n      return finalText;\n    }\n    /**\n     * Get the text for the source block of the node.\n     * @param {!Blockly.BlockSvg} srcBlock The block to get the text for.\n     * @param {string=} opt_emptyToken The optional empty token.\n     * @return {string} The text describing the source block of the node.\n     * @private\n     */\n\n  }, {\n    key: \"getBlockText_\",\n    value: function getBlockText_(srcBlock, opt_emptyToken) {\n      var emptyToken = opt_emptyToken || blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg['EMPTY_TOKEN'];\n\n      if (srcBlock) {\n        if (srcBlock.statementInputCount > 0) {\n          emptyToken = ' do blank ';\n        }\n\n        return srcBlock.toString(null, emptyToken);\n      } else {\n        return '';\n      }\n    }\n    /**\n     * Creates text for a feild.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"fieldNodeToText_\",\n    value: function fieldNodeToText_(node) {\n      var field = node.getLocation();\n      return field.getText() + '. ';\n    }\n    /**\n     * Creates text for a feild.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"blockNodeToText_\",\n    value: function blockNodeToText_(node) {\n      var block =\n      /** @type{Blockly.BlockSvg} */\n      node.getLocation();\n      var blockText = this.getBlockText_(block);\n      var finalText = '';\n\n      if (block.getSurroundParent()) {\n        var parentBlockText = this.getBlockText_(block.getSurroundParent());\n        finalText += \"You are inside of block \".concat(parentBlockText, \". . \");\n      }\n\n      finalText += \"You are on , \".concat(blockText, \". . \");\n      return finalText;\n    }\n    /**\n     * Creates text for an input.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @param {boolean} isMarker True if the marker was moved.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"inputNodeToText_\",\n    value: function inputNodeToText_(node, isMarker) {\n      var inputConnection =\n      /** @type{Blockly.Input} */\n      node.getLocation();\n      var connectionText = \"You are on a connection\";\n      var finalText = '';\n\n      if (inputConnection.type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.NEXT_STATEMENT) {\n        var blockText = this.getBlockText_(node.getSourceBlock());\n        finalText = \"Inside \".concat(blockText, \". \").concat(connectionText, \". \");\n      } else if (inputConnection.type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.INPUT_VALUE) {\n        var _blockText = this.getBlockText_(node.getSourceBlock(), ' ');\n\n        finalText = \"\".concat(connectionText, \" after \").concat(_blockText);\n      }\n\n      return finalText;\n    }\n    /**\n     * Creates text for a output connection.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"outputNodeToText_\",\n    value: function outputNodeToText_(node) {\n      var blockText = this.getBlockText_(node.getSourceBlock());\n      return \"You are on a connection for block, \".concat(blockText);\n    }\n    /**\n     * Creates text for a next connection.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @param {boolean} isMarker True to get the text for a marker,\n     *     false otherwise.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"nextNodeToText_\",\n    value: function nextNodeToText_(node, isMarker) {\n      var block = node.getSourceBlock();\n      var blockText = this.getBlockText_(node.getSourceBlock());\n      var finalText = '';\n\n      if (block.getSurroundParent()) {\n        var parentBlockText = this.getBlockText_(block.getSurroundParent());\n        finalText += \"You are inside of block \".concat(parentBlockText, \". . \");\n      }\n\n      finalText += \"\".concat(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg['NEXT'], \" \").concat(blockText);\n      return finalText;\n    }\n    /**\n     * Creates text for a previous connection.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @param {boolean} isMarker True to get the text for a marker,\n     *     false otherwise.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"previousNodeToText_\",\n    value: function previousNodeToText_(node, isMarker) {\n      var block = node.getSourceBlock();\n      var blockText = this.getBlockText_(block);\n      var finalText = '';\n\n      if (block.getSurroundParent()) {\n        var parentBlockText = this.getBlockText_(block.getSurroundParent());\n        finalText += \"You are inside of block \".concat(parentBlockText, \". . \");\n      }\n\n      finalText += \"\".concat(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg['PREVIOUS'], \" \").concat(blockText);\n      return finalText;\n    }\n    /**\n     * Creates text for a stack of blocks.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @param {!Blockly.ASTNode} oldNode The previous node.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"stackNodeToText_\",\n    value: function stackNodeToText_(node, oldNode) {\n      var srcBlock = node.getSourceBlock();\n      var newNodeTopBlock = srcBlock.getTopStackBlock();\n      var oldNodeTopBlock = null;\n\n      if (oldNode && oldNode.getSourceBlock()) {\n        oldNodeTopBlock = oldNode.getSourceBlock().getTopStackBlock();\n      }\n\n      var finalText = '';\n\n      if (srcBlock && srcBlock.workspace.isFlyout) {\n        finalText = this.getBlockText_(node.getSourceBlock());\n        finalText += \" . . To add this block to the workspace press Enter. .\\n      To go to the next block hit next. . To go back to the workspace\\n      hit escape. \";\n      } else if (srcBlock) {\n        if (oldNodeTopBlock !== newNodeTopBlock) {\n          finalText += \"You are on a new group of blocks. \";\n        } else {\n          finalText += \"You are on a group of blocks. \";\n        }\n      }\n\n      return finalText;\n    }\n    /**\n     * Creates text for a workspace.\n     * @param {!Blockly.ASTNode} node The node to create text for.\n     * @return {string} The text for the screen reader to read out.\n     * @protected\n     */\n\n  }, {\n    key: \"workspaceNodeToText_\",\n    value: function workspaceNodeToText_(node) {\n      var workspace =\n      /** @type{Blockly.WorkspaceSvg} */\n      node.getLocation(); // TODO: All text should be added to Blockly.Msg to allow for translation.\n\n      var text = null;\n\n      if (workspace.isFlyout) {\n        text = 'In the flyout, please select a block';\n      } else if (workspace.isMutator) {\n        text = 'In the mutator workspace, use this workspace to change a block';\n      } else {\n        text = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Msg['MAIN_WS'];\n      }\n\n      return text;\n    }\n  }]);\n\n  return Speaker;\n}();\nvar speaker = new Speaker();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3BlYWtlci5qcz9jZDc3Il0sIm5hbWVzIjpbIlNwZWFrZXIiLCJvcHRNZXNzYWdlcyIsIm1lc3NhZ2VzIiwiQmxvY2tseSIsInV0aWxzIiwib2JqZWN0IiwibWl4aW4iLCJzZXRMb2NhbGUiLCJub092ZXJyaWRlcyIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiayIsIk1zZyIsInRleHQiLCJzaG91bGRDYW5jZWwiLCJvbkVuZCIsIm9uU3RhcnQiLCJhdWRpbyIsIlNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSIsIndpbmRvdyIsInNwZWVjaFN5bnRoZXNpcyIsInNwZWFraW5nIiwiY2FuY2VsIiwib25lbmQiLCJvbnN0YXJ0Iiwic2V0VGltZW91dCIsInNwZWFrIiwicGF1c2UiLCJyZXN1bWUiLCJldmVudCIsInR5cGUiLCJFdmVudHMiLCJNQVJLRVJfTU9WRSIsIm5vZGVUZXh0Iiwibm9kZVRvVGV4dF8iLCJuZXdOb2RlIiwib2xkTm9kZSIsImlzQ3Vyc29yIiwiZ2V0TG9jYXRpb24iLCJhY3Rpb25CZWZvcmVTcGVha2VyIiwibG9jYXRpb24iLCJiaW5kIiwidW5kZWZpbmVkIiwibW9kYWwiLCJoZWFkZXIiLCJxdWVyeVNlbGVjdG9yIiwiaGVhZGVyVGV4dCIsInRleHRDb250ZW50IiwidHJpbSIsImFkZEJ1dHRvbkxpc3RlbmVyc18iLCJxdWVyeVNlbGVjdG9yQWxsIiwibWFpblRleHQiLCJmb290ZXJCdG5zIiwiYnRucyIsImJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJidXR0b25Ub1NwZWVjaF8iLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJsZW5ndGgiLCJub2RlIiwiaXNNYXJrZXIiLCJmaW5hbFRleHQiLCJnZXRUeXBlIiwiQVNUTm9kZSIsInR5cGVzIiwiRklFTEQiLCJmaWVsZE5vZGVUb1RleHRfIiwiQkxPQ0siLCJibG9ja05vZGVUb1RleHRfIiwiSU5QVVQiLCJpbnB1dE5vZGVUb1RleHRfIiwiT1VUUFVUIiwib3V0cHV0Tm9kZVRvVGV4dF8iLCJORVhUIiwibmV4dE5vZGVUb1RleHRfIiwiUFJFVklPVVMiLCJwcmV2aW91c05vZGVUb1RleHRfIiwiU1RBQ0siLCJzdGFja05vZGVUb1RleHRfIiwiV09SS1NQQUNFIiwid29ya3NwYWNlTm9kZVRvVGV4dF8iLCJ0b1N0cmluZyIsImdldE5leHRPcHRpb25zXyIsImdldEZpZWxkT3B0aW9uc18iLCJnZXRCbG9ja09wdGlvbnNfIiwiZ2V0Q29ubmVjdGlvbk9wdGlvbnNfIiwiZ2V0U3RhY2tPcHRpb25zXyIsImZpZWxkIiwiaXNDbGlja2FibGUiLCJtYXJrZXJUZXh0IiwicHJldiIsInNyY0Jsb2NrIiwib3B0X2VtcHR5VG9rZW4iLCJlbXB0eVRva2VuIiwic3RhdGVtZW50SW5wdXRDb3VudCIsImdldFRleHQiLCJibG9jayIsImJsb2NrVGV4dCIsImdldEJsb2NrVGV4dF8iLCJnZXRTdXJyb3VuZFBhcmVudCIsInBhcmVudEJsb2NrVGV4dCIsImlucHV0Q29ubmVjdGlvbiIsImNvbm5lY3Rpb25UZXh0IiwiTkVYVF9TVEFURU1FTlQiLCJnZXRTb3VyY2VCbG9jayIsIklOUFVUX1ZBTFVFIiwibmV3Tm9kZVRvcEJsb2NrIiwiZ2V0VG9wU3RhY2tCbG9jayIsIm9sZE5vZGVUb3BCbG9jayIsIndvcmtzcGFjZSIsImlzRmx5b3V0IiwiaXNNdXRhdG9yIiwic3BlYWtlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxJQUFNQSxPQUFiO0FBQ0U7QUFDRjtBQUNBO0FBQ0E7QUFDRSxtQkFBWUMsV0FBWixFQUF5QjtBQUFBOztBQUN2QixRQUFNQyxRQUFRLEdBQUc7QUFDZixpQkFBVyx1QkFESTtBQUVmLGVBQ0ksbUVBQ0EsMkRBSlc7QUFLZixrQkFBWSxrQ0FMRztBQU1mLGNBQVEseUJB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T0FGRCxNQUVPLElBQUlrRyxTQUFTLENBQUNFLFNBQWQsRUFBeUI7QUFDOUJwRyxZQUFJLEdBQUcsZ0VBQVA7QUFDRCxPQUZNLE1BRUE7QUFDTEEsWUFBSSxHQUFHWCxtREFBTyxDQUFDVSxHQUFSLENBQVksU0FBWixDQUFQO0FBQ0Q7O0FBQ0QsYUFBT0MsSUFBUDtBQUNEO0FBaGZIOztBQUFBO0FBQUE7QUFtZk8sSUFBTXFHLE9BQU8sR0FBRyxJQUFJbkgsT0FBSixFQUFoQiIsImZpbGUiOiIuL3NyYy9zcGVha2VyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBTcGVha2VyIHVzZWQgZm9yIHNwZWFraW5nIG91dCB0ZXh0LlxuICovXG5cbmltcG9ydCBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5cbi8qKlxuICogQ29udmVuaWVuY2UgbWV0aG9kcyBmb3Igc3BlYWtpbmcgb3V0IHRleHQuXG4gKiBNb3JlIGluZm9ybWF0aW9uIG9uIHNwZWFrZXJzIGNhbiBiZSBmb3VuZCBoZXJlOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NwZWVjaFN5bnRoZXNpcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFNwZWFrZXIge1xuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIGEgc3BlYWtlci5cbiAgICogQHBhcmFtIHtTcGVha2VyTWVzc2FnZXM9fSBvcHRNZXNzYWdlcyBPcHRpb25hbCBtZXNzYWdlcyBmb3IgdGhlIHNwZWFrZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRNZXNzYWdlcykge1xuICAgIGNvbnN0IG1lc3NhZ2VzID0ge1xuICAgICAgJ01BSU5fV1MnOiAnT24gdGhlIG1haW4gd29ya3NwYWNlJyxcbiAgICAgICdTVEFDSyc6XG4gICAgICAgICAgJ1RvIGdvIHRvIHRoZSBsYXN0IGJsb2NrIGluIHRoZSBwcmV2aW91cyBncm91cCBvZiBibG9ja3MsIHByZXNzJyArXG4gICAgICAgICAgJ3ByZXZpb3VzLiBUbyBnbyB0byB0aGUgZmlyc3QgYmxvY2sgaW4gdGhlIHN0YWNrIGhpdCBuZXh0LicsXG4gICAgICAnUFJFVklPVVMnOiAnWW91IGFyZSBvbiBhIGNvbm5lY3Rpb24gYmVmb3JlLCAnLFxuICAgICAgJ05FWFQnOiAnT24gYSBjb25uZWN0aW9uIGFmdGVyLCAnLFxuICAgICAgJ09VVFBVVCc6ICdPbiBhbiBvdXRwdXQgY29ubmVjdGlvbi4gJyxcbiAgICAgICdDT05ORUNUSU9OJzogJ0F0IGEgY29ubmVjdGlvbiBwb2ludC4nLFxuICAgICAgJ0JMT0NLJzogJ09uIGEgYmxvY2sgb2YgdHlwZScsXG4gICAgICAnQ0xJQ0tBQkxFX0ZJRUxEJzogJ1RvIGludGVyYWN0IHdpdGggdGhlIGZpZWxkIGhpdCBlbnRlci4nLFxuICAgICAgJ0VNUFRZX1RPS0VOJzogJ2JsYW5rJyxcbiAgICAgICdNQVJLX0NPTk5FQ1RJT04nOiAnVG8gbWFyayB0aGUgYmxvY2sgcHJlc3MgZW50ZXIuICcsXG4gICAgICAnRVhJVF9FRElUX01PREUnOiAnVG8gZXhpdCBlZGl0IG1vZGUgaGl0IGVzY2FwZS4gJyxcbiAgICB9O1xuXG4gICAgQmxvY2tseS51dGlscy5vYmplY3QubWl4aW4obWVzc2FnZXMsIG9wdE1lc3NhZ2VzKTtcblxuICAgIHRoaXMuc2V0TG9jYWxlKG1lc3NhZ2VzKTtcbiAgICB0aGlzLm5vT3ZlcnJpZGVzID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogVGhlIG1lc3NhZ2VzIHRvIGJlIHJlYWQgb3V0IGJ5IGEgc2NyZWVuIHJlYWRlci5cbiAgICogQHR5cGVkZWYge3tcbiAgICogICAgIE1BSU5fV1M6IHN0cmluZyxcbiAgICogICAgIFNUQUNLOiBzdHJpbmcsXG4gICAqICAgICBQUkVWSU9VUzogc3RyaW5nLFxuICAgKiAgICAgTkVYVDogc3RyaW5nLFxuICAgKiAgICAgT1VUUFVUOiBzdHJpbmcsXG4gICAqICAgICBDT05ORUNUSU9OOiBzdHJpbmcsXG4gICAqICAgICBCTE9DSzogc3RyaW5nLFxuICAgKiAgICAgRU1QVFlfVE9LRU46IHN0cmluZyxcbiAgICogICAgIE1BUktfQ09OTkVDVElPTjogc3RyaW5nLFxuICAgKiB9fSBTcGVha2VyTWVzc2FnZXNcbiAgICovXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbWVzc2FnZXMgZm9yIHRoZSBzcGVha2VyLlxuICAgKiBAcGFyYW0geyFTcGVha2VyTWVzc2FnZXN9IG1lc3NhZ2VzIFRoZSBtZXNzYWdlcyBuZWVkZWQgdG8gY3JlYXRlIGEgc3BlYWtlci5cbiAgICovXG4gIHNldExvY2FsZShtZXNzYWdlcykge1xuICAgIE9iamVjdC5rZXlzKG1lc3NhZ2VzKS5mb3JFYWNoKChrKSA9PiB7XG4gICAgICBCbG9ja2x5Lk1zZ1trXSA9IG1lc3NhZ2VzW2tdO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwZWFrcyBvdXQgdGhlIHRleHQgdGhhdCB3YXMgZ2l2ZW4gdG8gaXQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHRvIHNwZWFrIG91dC5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gc2hvdWxkQ2FuY2VsIFRydWUgdG8gc3RvcCB0aGUgY3VycmVudCB1dHRlcmFuY2UsIGZhbHNlIHRvXG4gICAqICAgICB3YWl0IHVudGlsIHRoZSBjdXJyZW50IHV0dGVyYW5jZSBpcyBkb25lIGJlZm9yZSBzcGVha2luZy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbj19IG9uRW5kIFRoZSBmdW5jdGlvbiB0byBydW4gYWZ0ZXIgdGhlIHRleHQgaGFzIGJlZW5cbiAgICogICAgIHNwb2tlbi5cbiAgICogQHBhcmFtIHtmdW5jdGlvbj19IG9uU3RhcnQgVGhlIGZ1bmN0aW9uIHJ1biB3aGVuIHRoZSB0ZXh0IGhhcyBiZWd1biB0b1xuICAgKiAgICAgYmUgc3Bva2VuLlxuICAgKiBAcHVibGljXG4gICAqL1xuICBzcGVhayh0ZXh0LCBzaG91bGRDYW5jZWwsIG9uRW5kLCBvblN0YXJ0KSB7XG4gICAgY29uc3QgYXVkaW8gPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKHRleHQpO1xuXG4gICAgaWYgKHNob3VsZENhbmNlbCAmJiAhdGhpcy5ub092ZXJyaWRlcyAmJiB3aW5kb3cuc3BlZWNoU3ludGhlc2lzLnNwZWFraW5nKSB7XG4gICAgICB3aW5kb3cuc3BlZWNoU3ludGhlc2lzLmNhbmNlbCgpO1xuICAgIH1cblxuICAgIGlmIChvbkVuZCkge1xuICAgICAgYXVkaW8ub25lbmQgPSBvbkVuZDtcbiAgICB9XG5cbiAgICBpZiAob25TdGFydCkge1xuICAgICAgYXVkaW8ub25zdGFydCA9IG9uU3RhcnQ7XG4gICAgfVxuICAgIC8vIFB1dHRpbmcgb24gdGltZW91dCBmaXhlcyBzb21lIHdlaXJkIGlzc3VlcyB3aXRoIG9uZW5kIGJlaW5nIGNhbGxlZCB0b29cbiAgICAvLyBlYXJseS5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuc3BlYWsoYXVkaW8pLCAxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgb3V0IHRoZSBxdWV1ZSBvZiB0ZXh0IHRvIHNwZWFrLlxuICAgKiBAcHVibGljXG4gICAqL1xuICBjYW5jZWwoKSB7XG4gICAgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5jYW5jZWwoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXVzZXMgc3BlYWtpbmcuXG4gICAqL1xuICBwYXVzZSgpIHtcbiAgICB3aW5kb3cuc3BlZWNoU3ludGhlc2lzLnBhdXNlKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzdW1lcyBzcGVha2luZy5cbiAgICovXG4gIHJlc3VtZSgpIHtcbiAgICB3aW5kb3cuc3BlZWNoU3ludGhlc2lzLnJlc3VtZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwZWFrcyBvdXQgdGV4dCBpZiB0aGUgZXZlbnQgaXMgb2YgdHlwZSBtYXJrZXIgb3IgY3Vyc29yIG1vdmUuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuRXZlbnRzfSBldmVudCBUaGUgZXZlbnQgdG8gc3BlYWsgb3V0LlxuICAgKi9cbiAgbm9kZVRvU3BlZWNoKGV2ZW50KSB7XG4gICAgLy8gVE9ETzogVXBkYXRlIHRoaXMgaWYgd2UgbGluayB0byB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIGJsb2NrbHkuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09IEJsb2NrbHkuRXZlbnRzLk1BUktFUl9NT1ZFKSB7XG4gICAgICBsZXQgbm9kZVRleHQgPVxuICAgICAgICAgIHRoaXMubm9kZVRvVGV4dF8oZXZlbnQubmV3Tm9kZSwgZXZlbnQub2xkTm9kZSwgIWV2ZW50LmlzQ3Vyc29yKTtcbiAgICAgIGlmICghZXZlbnQuaXNDdXJzb3IpIHtcbiAgICAgICAgbm9kZVRleHQgPSBgWW91IGhhdmUgbWFya2VkIGEgbG9jYXRpb24uIFRvIGZpbmQgYSBuZXcgYmxvY2sgdG8gY29ubmVjdFxuICAgICAgICB0byB0aGlzIGxvY2F0aW9uIGhpdCBULiAhIC4gVG8gaW5zZXJ0IGEgYmxvY2sgb24gdGhlIHdvcmtzcGFjZSxcbiAgICAgICAgZmluZCB0aGUgbG9jYXRpb24gb2YgdGhlIGJsb2NrIGFuZCBoaXQgSS4gYDtcbiAgICAgIH1cbiAgICAgIGxldCBvblN0YXJ0O1xuICAgICAgaWYgKGV2ZW50Lm5ld05vZGUgJiYgZXZlbnQubmV3Tm9kZS5nZXRMb2NhdGlvbigpICYmXG4gICAgICAgICAgZXZlbnQubmV3Tm9kZS5nZXRMb2NhdGlvbigpLmFjdGlvbkJlZm9yZVNwZWFrZXIpIHtcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBldmVudC5uZXdOb2RlLmdldExvY2F0aW9uKCk7XG4gICAgICAgIG9uU3RhcnQgPSBsb2NhdGlvbi5hY3Rpb25CZWZvcmVTcGVha2VyLmJpbmQobG9jYXRpb24pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNwZWFrKG5vZGVUZXh0LCB0cnVlLCB1bmRlZmluZWQsIG9uU3RhcnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTcGVha3Mgb3V0IHRoZSB0ZXh0IGZvciBhIG1vZGFsLlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IG1vZGFsIFRoZSBtb2RhbCB0byBjb2xsZWN0IHRoZSB0ZXh0IHRvIHJlYWQgb3V0LlxuICAgKiBAcHVibGljXG4gICAqL1xuICBtb2RhbFRvVGV4dChtb2RhbCkge1xuICAgIGNvbnN0IGhlYWRlciA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2hlYWRlcicpO1xuICAgIGNvbnN0IGhlYWRlclRleHQgPSBoZWFkZXIudGV4dENvbnRlbnQudHJpbSgpO1xuICAgIGlmIChoZWFkZXJUZXh0ICE9PSAnJykge1xuICAgICAgdGhpcy5zcGVhayhoZWFkZXJUZXh0KTtcbiAgICB9XG4gICAgdGhpcy5hZGRCdXR0b25MaXN0ZW5lcnNfKGhlYWRlci5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKSk7XG5cbiAgICBjb25zdCBtYWluVGV4dCA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ21haW4nKS50ZXh0Q29udGVudC50cmltKCk7XG5cbiAgICBpZiAobWFpblRleHQgIT09ICcnKSB7XG4gICAgICB0aGlzLnNwZWFrKG1haW5UZXh0KTtcbiAgICB9XG5cbiAgICBjb25zdCBmb290ZXJCdG5zID0gbW9kYWwucXVlcnlTZWxlY3RvcignZm9vdGVyJykucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJyk7XG4gICAgdGhpcy5hZGRCdXR0b25MaXN0ZW5lcnNfKGZvb3RlckJ0bnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgbGlzdGVuZXJzIGZvciB3aGVuIHRoZSBidXR0b24gaXMgZm9jdXNlZC5cbiAgICogQHBhcmFtIHshTm9kZUxpc3R9IGJ0bnMgVGhlIGJ1dHRvbnMgdG8gYWRkIGxpc3RlbmVycyB0by5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFkZEJ1dHRvbkxpc3RlbmVyc18oYnRucykge1xuICAgIGZvciAoY29uc3QgYnRuIG9mIGJ0bnMpIHtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHtcbiAgICAgICAgdGhpcy5idXR0b25Ub1NwZWVjaF8oYnRucywgYnRuLCB0cnVlKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGJ0bikge1xuICAgICAgICB0aGlzLmJ1dHRvblRvU3BlZWNoXyhidG5zLCBidG4sIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3BlYWtzIG91dCBpbmZvcm1hdGlvbiBhYm91dCBhIGJ1dHRvbi5cbiAgICogQHBhcmFtIHtOb2RlTGlzdH0gYnRucyBUaGUgbGlzdCBvZiBidXR0b25zIG9uIHRoZSBtb2RhbC5cbiAgICogQHBhcmFtIHtFbGVtZW50fSBidG4gVGhlIGJ1dHRvbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBzaG91bGRDYW5jZWwgVHJ1ZSBpZiB0aGlzIHNob3VsZCBjYW5jZWwgdGhlIHByZXZpb3VzXG4gICAqICAgICB1dHRlcmFuY2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBidXR0b25Ub1NwZWVjaF8oYnRucywgYnRuLCBzaG91bGRDYW5jZWwpIHtcbiAgICB0aGlzLnNwZWFrKCdIaXQgZW50ZXIgdG8gJywgc2hvdWxkQ2FuY2VsKTtcbiAgICBpZiAoYnRuLnRleHRDb250ZW50ID09PSAnJykge1xuICAgICAgdGhpcy5zcGVhayhidG4uZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNwZWFrKGJ0bi50ZXh0Q29udGVudCk7XG4gICAgfVxuICAgIGlmIChidG5zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuc3BlYWsoJ0hpdCB0YWIgdG8gZ28gdG8geW91ciBuZXh0IG9wdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTcGVha3Mgb3V0IGFuIGF1ZGlvIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBub2RlLlxuICAgKiBAcGFyYW0ge0Jsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgbm9kZSB0byBzcGVhayBvdXQuXG4gICAqIEBwYXJhbSB7QmxvY2tseS5BU1ROb2RlfSBvbGROb2RlIFRoZSBwcmV2aW91cyBub2RlIHRvIHNwZWFrIG91dC5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc01hcmtlciBUcnVlIHRvIGdldCB0aGUgdGV4dCBmb3IgYSBtYXJrZXIsXG4gICAqICAgICBmYWxzZSBvdGhlcndpc2UuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGUuXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIG5vZGVUb1RleHRfKG5vZGUsIG9sZE5vZGUsIGlzTWFya2VyKSB7XG4gICAgbGV0IGZpbmFsVGV4dCA9ICcnO1xuICAgIHN3aXRjaCAobm9kZS5nZXRUeXBlKCkpIHtcbiAgICAgIGNhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLkZJRUxEOlxuICAgICAgICBmaW5hbFRleHQgPSB0aGlzLmZpZWxkTm9kZVRvVGV4dF8obm9kZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuQkxPQ0s6XG4gICAgICAgIGZpbmFsVGV4dCA9IHRoaXMuYmxvY2tOb2RlVG9UZXh0Xyhub2RlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5JTlBVVDpcbiAgICAgICAgZmluYWxUZXh0ID0gdGhpcy5pbnB1dE5vZGVUb1RleHRfKG5vZGUsIGlzTWFya2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5PVVRQVVQ6XG4gICAgICAgIGZpbmFsVGV4dCA9IHRoaXMub3V0cHV0Tm9kZVRvVGV4dF8obm9kZSwgaXNNYXJrZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLk5FWFQ6XG4gICAgICAgIGZpbmFsVGV4dCA9IHRoaXMubmV4dE5vZGVUb1RleHRfKG5vZGUsIGlzTWFya2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5QUkVWSU9VUzpcbiAgICAgICAgZmluYWxUZXh0ID0gdGhpcy5wcmV2aW91c05vZGVUb1RleHRfKG5vZGUsIGlzTWFya2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5TVEFDSzpcbiAgICAgICAgZmluYWxUZXh0ID0gdGhpcy5zdGFja05vZGVUb1RleHRfKG5vZGUsIG9sZE5vZGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLldPUktTUEFDRTpcbiAgICAgICAgZmluYWxUZXh0ID0gdGhpcy53b3Jrc3BhY2VOb2RlVG9UZXh0Xyhub2RlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbm9kZS50b1N0cmluZygpO1xuICAgIH1cbiAgICBmaW5hbFRleHQgKz0gdGhpcy5nZXROZXh0T3B0aW9uc18obm9kZSwgb2xkTm9kZSwgaXNNYXJrZXIpO1xuICAgIHJldHVybiBmaW5hbFRleHQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0ZXh0IGV4cGxhaW5pbmcgdGhlIG5leHQgb3B0aW9ucyBhdmFpbGFibGUgZm9yIGEgdXNlci5cbiAgICogQHBhcmFtIHshQmxvY2tseS5BU1ROb2RlfSBub2RlIFRoZSBjdXJyZW50IG5vZGUuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gb2xkTm9kZSBUaGUgcHJldmlvdXMgbm9kZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc01hcmtlciBUcnVlIGlmIHRoZSBtYXJrZXIgd2FzIG1vdmVkLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRleHQgZXhwbGFpbmluZyBuZXh0IG9wdGlvbnMgZm9yIHRoZSBmaWVsZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldE5leHRPcHRpb25zXyhub2RlLCBvbGROb2RlLCBpc01hcmtlcikge1xuICAgIHN3aXRjaCAobm9kZS5nZXRUeXBlKCkpIHtcbiAgICAgIGNhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLkZJRUxEOlxuICAgICAgICByZXR1cm4gdGhpcy5nZXRGaWVsZE9wdGlvbnNfKG5vZGUpO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuQkxPQ0s6XG4gICAgICAgIHJldHVybiB0aGlzLmdldEJsb2NrT3B0aW9uc18obm9kZSk7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5JTlBVVDpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29ubmVjdGlvbk9wdGlvbnNfKG5vZGUsIGlzTWFya2VyKTtcbiAgICAgIGNhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLk9VVFBVVDpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29ubmVjdGlvbk9wdGlvbnNfKG5vZGUsIGlzTWFya2VyKTtcbiAgICAgIGNhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLk5FWFQ6XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbm5lY3Rpb25PcHRpb25zXyhub2RlLCBpc01hcmtlcik7XG4gICAgICBjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5QUkVWSU9VUzpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29ubmVjdGlvbk9wdGlvbnNfKG5vZGUsIGlzTWFya2VyKTtcbiAgICAgIGNhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLlNUQUNLOlxuICAgICAgICByZXR1cm4gdGhpcy5nZXRTdGFja09wdGlvbnNfKG5vZGUpO1xuICAgICAgY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuV09SS1NQQUNFOlxuICAgICAgICByZXR1cm4gJyc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbm9kZS50b1N0cmluZygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBuZXh0IG9wdGlvbnMgZm9yIHdoZW4gYSB1c2VyIGlzIG9uIGEgZmllbGQuXG4gICAqIFRoaXMgaXMgdG8gb3BlbiB0aGUgZmllbGQgb3IgdG8gY2hhbmdlIGxvY2F0aW9ucy5cbiAgICogQHBhcmFtIHshQmxvY2tseS5BU1ROb2RlfSBub2RlIFRoZSBmaWVsZCBub2RlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0ZXh0IGV4cGxhaW5pbmcgdGhlIG5leHQgb3B0aW9ucyB3aGVuIGEgdXNlciBpcyBvbiBhXG4gICAqICAgICBmaWVsZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldEZpZWxkT3B0aW9uc18obm9kZSkge1xuICAgIGNvbnN0IGZpZWxkID0gbm9kZS5nZXRMb2NhdGlvbigpO1xuICAgIGlmIChmaWVsZC5pc0NsaWNrYWJsZSgpKSB7XG4gICAgICByZXR1cm4gYFRvIGludGVyYWN0IHdpdGggdGhlIGZpZWxkIGhpdCBlbnRlci4gVXNlIHRoZSB1cCBvciBkb3duXG4gICAgICBhcnJvd3MgdG8gY2hhbmdlIGxvY2F0aW9ucy4gYDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdVc2UgdGhlIHVwIG9yIGRvd24gYXJyb3dzIHRvIGNoYW5nZSBsb2NhdGlvbnMuICc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG5leHQgb3B0aW9ucyBmb3Igd2hlbiBhIHVzZXIgaXMgb24gYSBibG9jay5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBleHBsYWluaW5nIHRoZSBuZXh0IG9wdGlvbnMgZm9yIGEgYmxvY2suXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRCbG9ja09wdGlvbnNfKCkge1xuICAgIHJldHVybiBgVXNlIHRoZSB1cCBvciBkb3duIGFycm93cyB0byBjaGFuZ2UgbG9jYXRpb25zLiBgO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHRleHQgZm9yIHRoZSBjb25uZWN0aW9uIHBvaW50LlxuICAgKiBAcGFyYW0geyFCbG9ja2x5LkFTVE5vZGV9IG5vZGUgVGhlIGNvbm5lY3Rpb24gbm9kZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc01hcmtlciBUcnVlIGlmIHRoZSBtYXJrZXIgd2FzIG1vdmVkLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0ZXh0IGV4cGxhaW5pbmcgdGhlIG5leHQgb3B0aW9ucyB3aGVuIGEgdXNlciBpcyBvbiBhXG4gICAqICAgICBjb25uZWN0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0Q29ubmVjdGlvbk9wdGlvbnNfKG5vZGUsIGlzTWFya2VyKSB7XG4gICAgY29uc3QgbWFya2VyVGV4dCA9IGAuIFRvIG1hcmsgdGhpcyBsb2NhdGlvbiwgaGl0IGVudGVyLlxuICAgIFRvIGNoYW5nZSBsb2NhdGlvbnMgdXNlIHRoZSB1cCBvciBkb3duIGFycm93c2A7XG4gICAgbGV0IGZpbmFsVGV4dCA9ICcnO1xuICAgIGlmICghaXNNYXJrZXIpIHtcbiAgICAgIGZpbmFsVGV4dCArPSBgJHttYXJrZXJUZXh0fWA7XG4gICAgfVxuICAgIHJldHVybiBmaW5hbFRleHQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgb3B0aW9ucyBmb3IgYSB1c2VyIG9uIGEgIHN0YWNrIG9mIGJsb2Nrcy5cbiAgICogQHBhcmFtIHtCbG9ja2x5LkFTVE5vZGV9IG5vZGUgVGhlIHN0YWNrIG5vZGUuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgZXhwbGFpbmluZyB0aGUgbmV4dCBvcHRpb25zIHdoZW4gYSB1c2VyIGlzIG9uIGFcbiAgICogICAgIHN0YWNrIG9mIGJsb2Nrcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFN0YWNrT3B0aW9uc18obm9kZSkge1xuICAgIGxldCBmaW5hbFRleHQgPSAnJztcbiAgICBpZiAobm9kZS5wcmV2KCkpIHtcbiAgICAgIGZpbmFsVGV4dCArPSBgVG8gZ28gdG8gdGhlIGxhc3QgYmxvY2sgaW4gdGhlIHByZXZpb3VzIGdyb3VwIG9mIGJsb2NrcyxcbiAgICAgIHByZXNzIHByZXZpb3VzLmA7XG4gICAgfVxuICAgIGZpbmFsVGV4dCArPSBgIFRvIGdvIHRvIHRoZSBmaXJzdCBibG9jayBpbiB0aGUgc3RhY2sgaGl0IG5leHQuYDtcbiAgICByZXR1cm4gZmluYWxUZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGV4dCBmb3IgdGhlIHNvdXJjZSBibG9jayBvZiB0aGUgbm9kZS5cbiAgICogQHBhcmFtIHshQmxvY2tseS5CbG9ja1N2Z30gc3JjQmxvY2sgVGhlIGJsb2NrIHRvIGdldCB0aGUgdGV4dCBmb3IuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X2VtcHR5VG9rZW4gVGhlIG9wdGlvbmFsIGVtcHR5IHRva2VuLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0ZXh0IGRlc2NyaWJpbmcgdGhlIHNvdXJjZSBibG9jayBvZiB0aGUgbm9kZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldEJsb2NrVGV4dF8oc3JjQmxvY2ssIG9wdF9lbXB0eVRva2VuKSB7XG4gICAgbGV0IGVtcHR5VG9rZW4gPSBvcHRfZW1wdHlUb2tlbiB8fCBCbG9ja2x5Lk1zZ1snRU1QVFlfVE9LRU4nXTtcbiAgICBpZiAoc3JjQmxvY2spIHtcbiAgICAgIGlmIChzcmNCbG9jay5zdGF0ZW1lbnRJbnB1dENvdW50ID4gMCkge1xuICAgICAgICBlbXB0eVRva2VuID0gJyBkbyBibGFuayAnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNyY0Jsb2NrLnRvU3RyaW5nKG51bGwsIGVtcHR5VG9rZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGV4dCBmb3IgYSBmZWlsZC5cbiAgICogQHBhcmFtIHshQmxvY2tseS5BU1ROb2RlfSBub2RlIFRoZSBub2RlIHRvIGNyZWF0ZSB0ZXh0IGZvci5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBmb3IgdGhlIHNjcmVlbiByZWFkZXIgdG8gcmVhZCBvdXQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGZpZWxkTm9kZVRvVGV4dF8obm9kZSkge1xuICAgIGNvbnN0IGZpZWxkID0gbm9kZS5nZXRMb2NhdGlvbigpO1xuICAgIHJldHVybiBmaWVsZC5nZXRUZXh0KCkgKyAnLiAnO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGV4dCBmb3IgYSBmZWlsZC5cbiAgICogQHBhcmFtIHshQmxvY2tseS5BU1ROb2RlfSBub2RlIFRoZSBub2RlIHRvIGNyZWF0ZSB0ZXh0IGZvci5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBmb3IgdGhlIHNjcmVlbiByZWFkZXIgdG8gcmVhZCBvdXQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGJsb2NrTm9kZVRvVGV4dF8obm9kZSkge1xuICAgIGNvbnN0IGJsb2NrID0gLyoqIEB0eXBle0Jsb2NrbHkuQmxvY2tTdmd9ICovIChub2RlLmdldExvY2F0aW9uKCkpO1xuICAgIGNvbnN0IGJsb2NrVGV4dCA9IHRoaXMuZ2V0QmxvY2tUZXh0XyhibG9jayk7XG4gICAgbGV0IGZpbmFsVGV4dCA9ICcnO1xuICAgIGlmIChibG9jay5nZXRTdXJyb3VuZFBhcmVudCgpKSB7XG4gICAgICBjb25zdCBwYXJlbnRCbG9ja1RleHQgPSB0aGlzLmdldEJsb2NrVGV4dF8oYmxvY2suZ2V0U3Vycm91bmRQYXJlbnQoKSk7XG4gICAgICBmaW5hbFRleHQgKz0gYFlvdSBhcmUgaW5zaWRlIG9mIGJsb2NrICR7cGFyZW50QmxvY2tUZXh0fS4gLiBgO1xuICAgIH1cbiAgICBmaW5hbFRleHQgKz0gYFlvdSBhcmUgb24gLCAke2Jsb2NrVGV4dH0uIC4gYDtcbiAgICByZXR1cm4gZmluYWxUZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGV4dCBmb3IgYW4gaW5wdXQuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgbm9kZSB0byBjcmVhdGUgdGV4dCBmb3IuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNYXJrZXIgVHJ1ZSBpZiB0aGUgbWFya2VyIHdhcyBtb3ZlZC5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBmb3IgdGhlIHNjcmVlbiByZWFkZXIgdG8gcmVhZCBvdXQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGlucHV0Tm9kZVRvVGV4dF8obm9kZSwgaXNNYXJrZXIpIHtcbiAgICBjb25zdCBpbnB1dENvbm5lY3Rpb24gPSAvKiogQHR5cGV7QmxvY2tseS5JbnB1dH0gKi8gKG5vZGUuZ2V0TG9jYXRpb24oKSk7XG4gICAgY29uc3QgY29ubmVjdGlvblRleHQgPSBgWW91IGFyZSBvbiBhIGNvbm5lY3Rpb25gO1xuICAgIGxldCBmaW5hbFRleHQgPSAnJztcbiAgICBpZiAoaW5wdXRDb25uZWN0aW9uLnR5cGUgPT09IEJsb2NrbHkuTkVYVF9TVEFURU1FTlQpIHtcbiAgICAgIGNvbnN0IGJsb2NrVGV4dCA9IHRoaXMuZ2V0QmxvY2tUZXh0Xyhub2RlLmdldFNvdXJjZUJsb2NrKCkpO1xuICAgICAgZmluYWxUZXh0ID0gYEluc2lkZSAke2Jsb2NrVGV4dH0uICR7Y29ubmVjdGlvblRleHR9LiBgO1xuICAgIH0gZWxzZSBpZiAoaW5wdXRDb25uZWN0aW9uLnR5cGUgPT09IEJsb2NrbHkuSU5QVVRfVkFMVUUpIHtcbiAgICAgIGNvbnN0IGJsb2NrVGV4dCA9IHRoaXMuZ2V0QmxvY2tUZXh0Xyhub2RlLmdldFNvdXJjZUJsb2NrKCksICcgJyk7XG4gICAgICBmaW5hbFRleHQgPSBgJHtjb25uZWN0aW9uVGV4dH0gYWZ0ZXIgJHtibG9ja1RleHR9YDtcbiAgICB9XG4gICAgcmV0dXJuIGZpbmFsVGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHRleHQgZm9yIGEgb3V0cHV0IGNvbm5lY3Rpb24uXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgbm9kZSB0byBjcmVhdGUgdGV4dCBmb3IuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgZm9yIHRoZSBzY3JlZW4gcmVhZGVyIHRvIHJlYWQgb3V0LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBvdXRwdXROb2RlVG9UZXh0Xyhub2RlKSB7XG4gICAgY29uc3QgYmxvY2tUZXh0ID0gdGhpcy5nZXRCbG9ja1RleHRfKG5vZGUuZ2V0U291cmNlQmxvY2soKSk7XG4gICAgcmV0dXJuIGBZb3UgYXJlIG9uIGEgY29ubmVjdGlvbiBmb3IgYmxvY2ssICR7YmxvY2tUZXh0fWA7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyB0ZXh0IGZvciBhIG5leHQgY29ubmVjdGlvbi5cbiAgICogQHBhcmFtIHshQmxvY2tseS5BU1ROb2RlfSBub2RlIFRoZSBub2RlIHRvIGNyZWF0ZSB0ZXh0IGZvci5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc01hcmtlciBUcnVlIHRvIGdldCB0aGUgdGV4dCBmb3IgYSBtYXJrZXIsXG4gICAqICAgICBmYWxzZSBvdGhlcndpc2UuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgZm9yIHRoZSBzY3JlZW4gcmVhZGVyIHRvIHJlYWQgb3V0LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBuZXh0Tm9kZVRvVGV4dF8obm9kZSwgaXNNYXJrZXIpIHtcbiAgICBjb25zdCBibG9jayA9IG5vZGUuZ2V0U291cmNlQmxvY2soKTtcbiAgICBjb25zdCBibG9ja1RleHQgPSB0aGlzLmdldEJsb2NrVGV4dF8obm9kZS5nZXRTb3VyY2VCbG9jaygpKTtcbiAgICBsZXQgZmluYWxUZXh0ID0gJyc7XG4gICAgaWYgKGJsb2NrLmdldFN1cnJvdW5kUGFyZW50KCkpIHtcbiAgICAgIGNvbnN0IHBhcmVudEJsb2NrVGV4dCA9IHRoaXMuZ2V0QmxvY2tUZXh0XyhibG9jay5nZXRTdXJyb3VuZFBhcmVudCgpKTtcbiAgICAgIGZpbmFsVGV4dCArPSBgWW91IGFyZSBpbnNpZGUgb2YgYmxvY2sgJHtwYXJlbnRCbG9ja1RleHR9LiAuIGA7XG4gICAgfVxuICAgIGZpbmFsVGV4dCArPSBgJHtCbG9ja2x5Lk1zZ1snTkVYVCddfSAke2Jsb2NrVGV4dH1gO1xuICAgIHJldHVybiBmaW5hbFRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyB0ZXh0IGZvciBhIHByZXZpb3VzIGNvbm5lY3Rpb24uXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgbm9kZSB0byBjcmVhdGUgdGV4dCBmb3IuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNYXJrZXIgVHJ1ZSB0byBnZXQgdGhlIHRleHQgZm9yIGEgbWFya2VyLFxuICAgKiAgICAgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0ZXh0IGZvciB0aGUgc2NyZWVuIHJlYWRlciB0byByZWFkIG91dC5cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgcHJldmlvdXNOb2RlVG9UZXh0Xyhub2RlLCBpc01hcmtlcikge1xuICAgIGNvbnN0IGJsb2NrID0gbm9kZS5nZXRTb3VyY2VCbG9jaygpO1xuICAgIGNvbnN0IGJsb2NrVGV4dCA9IHRoaXMuZ2V0QmxvY2tUZXh0XyhibG9jayk7XG4gICAgbGV0IGZpbmFsVGV4dCA9ICcnO1xuICAgIGlmIChibG9jay5nZXRTdXJyb3VuZFBhcmVudCgpKSB7XG4gICAgICBjb25zdCBwYXJlbnRCbG9ja1RleHQgPSB0aGlzLmdldEJsb2NrVGV4dF8oYmxvY2suZ2V0U3Vycm91bmRQYXJlbnQoKSk7XG4gICAgICBmaW5hbFRleHQgKz0gYFlvdSBhcmUgaW5zaWRlIG9mIGJsb2NrICR7cGFyZW50QmxvY2tUZXh0fS4gLiBgO1xuICAgIH1cblxuICAgIGZpbmFsVGV4dCArPSBgJHtCbG9ja2x5Lk1zZ1snUFJFVklPVVMnXX0gJHtibG9ja1RleHR9YDtcbiAgICByZXR1cm4gZmluYWxUZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGV4dCBmb3IgYSBzdGFjayBvZiBibG9ja3MuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgbm9kZSB0byBjcmVhdGUgdGV4dCBmb3IuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gb2xkTm9kZSBUaGUgcHJldmlvdXMgbm9kZS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBmb3IgdGhlIHNjcmVlbiByZWFkZXIgdG8gcmVhZCBvdXQuXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0YWNrTm9kZVRvVGV4dF8obm9kZSwgb2xkTm9kZSkge1xuICAgIGNvbnN0IHNyY0Jsb2NrID0gbm9kZS5nZXRTb3VyY2VCbG9jaygpO1xuICAgIGNvbnN0IG5ld05vZGVUb3BCbG9jayA9IHNyY0Jsb2NrLmdldFRvcFN0YWNrQmxvY2soKTtcbiAgICBsZXQgb2xkTm9kZVRvcEJsb2NrID0gbnVsbDtcbiAgICBpZiAob2xkTm9kZSAmJiBvbGROb2RlLmdldFNvdXJjZUJsb2NrKCkpIHtcbiAgICAgIG9sZE5vZGVUb3BCbG9jayA9IG9sZE5vZGUuZ2V0U291cmNlQmxvY2soKS5nZXRUb3BTdGFja0Jsb2NrKCk7XG4gICAgfVxuXG4gICAgbGV0IGZpbmFsVGV4dCA9ICcnO1xuXG4gICAgaWYgKHNyY0Jsb2NrICYmIHNyY0Jsb2NrLndvcmtzcGFjZS5pc0ZseW91dCkge1xuICAgICAgZmluYWxUZXh0ID0gdGhpcy5nZXRCbG9ja1RleHRfKG5vZGUuZ2V0U291cmNlQmxvY2soKSk7XG4gICAgICBmaW5hbFRleHQgKz0gYCAuIC4gVG8gYWRkIHRoaXMgYmxvY2sgdG8gdGhlIHdvcmtzcGFjZSBwcmVzcyBFbnRlci4gLlxuICAgICAgVG8gZ28gdG8gdGhlIG5leHQgYmxvY2sgaGl0IG5leHQuIC4gVG8gZ28gYmFjayB0byB0aGUgd29ya3NwYWNlXG4gICAgICBoaXQgZXNjYXBlLiBgO1xuICAgIH0gZWxzZSBpZiAoc3JjQmxvY2spIHtcbiAgICAgIGlmIChvbGROb2RlVG9wQmxvY2sgIT09IG5ld05vZGVUb3BCbG9jaykge1xuICAgICAgICBmaW5hbFRleHQgKz0gYFlvdSBhcmUgb24gYSBuZXcgZ3JvdXAgb2YgYmxvY2tzLiBgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmluYWxUZXh0ICs9IGBZb3UgYXJlIG9uIGEgZ3JvdXAgb2YgYmxvY2tzLiBgO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmluYWxUZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGV4dCBmb3IgYSB3b3Jrc3BhY2UuXG4gICAqIEBwYXJhbSB7IUJsb2NrbHkuQVNUTm9kZX0gbm9kZSBUaGUgbm9kZSB0byBjcmVhdGUgdGV4dCBmb3IuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgZm9yIHRoZSBzY3JlZW4gcmVhZGVyIHRvIHJlYWQgb3V0LlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICB3b3Jrc3BhY2VOb2RlVG9UZXh0Xyhub2RlKSB7XG4gICAgY29uc3Qgd29ya3NwYWNlID0gLyoqIEB0eXBle0Jsb2NrbHkuV29ya3NwYWNlU3ZnfSAqLyAobm9kZS5nZXRMb2NhdGlvbigpKTtcbiAgICAvLyBUT0RPOiBBbGwgdGV4dCBzaG91bGQgYmUgYWRkZWQgdG8gQmxvY2tseS5Nc2cgdG8gYWxsb3cgZm9yIHRyYW5zbGF0aW9uLlxuICAgIGxldCB0ZXh0ID0gbnVsbDtcbiAgICBpZiAod29ya3NwYWNlLmlzRmx5b3V0KSB7XG4gICAgICB0ZXh0ID0gJ0luIHRoZSBmbHlvdXQsIHBsZWFzZSBzZWxlY3QgYSBibG9jayc7XG4gICAgfSBlbHNlIGlmICh3b3Jrc3BhY2UuaXNNdXRhdG9yKSB7XG4gICAgICB0ZXh0ID0gJ0luIHRoZSBtdXRhdG9yIHdvcmtzcGFjZSwgdXNlIHRoaXMgd29ya3NwYWNlIHRvIGNoYW5nZSBhIGJsb2NrJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGV4dCA9IEJsb2NrbHkuTXNnWydNQUlOX1dTJ107XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzcGVha2VyID0gbmV3IFNwZWFrZXIoKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/speaker.js\n");

/***/ }),

/***/ "./src/tutorial.js":
/*!*************************!*\
  !*** ./src/tutorial.js ***!
  \*************************/
/*! exports provided: Tutorial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Tutorial\", function() { return Tutorial; });\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! blockly/core */ \"./node_modules/blockly/dist/core-browser.js\");\n/* harmony import */ var blockly_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(blockly_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _music__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./music */ \"./src/music.js\");\n/* harmony import */ var _tutorial_step__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tutorial_step */ \"./src/tutorial_step.js\");\n/* harmony import */ var micromodal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! micromodal */ \"./node_modules/micromodal/dist/micromodal.es.js\");\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Multi-step tutorial using modals.\n */\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n/**\n * A multi-step tutorial for the accessible music game.\n */\n\nvar Tutorial = /*#__PURE__*/function () {\n  /**\n   * Class for a tutorial.\n   * @param {Blockly.WorkspaceSvg} workspace The workspace the user\n   *     will interact with.\n   * @param {Music} music A reference to the music logic object.\n   * @param {function(string)} goalUpdateCb The callback function for goal\n   *    change.\n   * @param {function} endTutorialCb The function to call at the end of the\n   *     tutorial.\n   * @constructor\n   */\n  function Tutorial(workspace, music, goalUpdateCb, endTutorialCb) {\n    var _this = this;\n\n    _classCallCheck(this, Tutorial);\n\n    /**\n     * The id of the modal.\n     * @type {string}\n     */\n    this.modalId = 'tutorialModal';\n    /**\n     * The id of the tutorial text.\n     * @type {string}\n     */\n\n    this.stepTextId = this.modalId + 'Text';\n    /**\n     * The id of the next step button.\n     * @type {string}\n     */\n\n    this.stepButtonId = this.modalId + 'StepBtn';\n    /**\n     * The id of the hide modal button.\n     * @type {string}\n     */\n\n    this.hideButtonId = this.modalId + 'HideBtn';\n    /**\n     * An array of steps in the tutorial.\n     * @type {Array<!TutorialStep>}\n     */\n\n    this.steps = Tutorial.STEP_OBJECTS.map(function (obj) {\n      return new _tutorial_step__WEBPACK_IMPORTED_MODULE_2__[\"TutorialStep\"](obj.text, _this.stepTextId, _this.nextStep, obj.goalText);\n    });\n    /**\n     * The index of the currently active step.\n     * @type {number}\n     */\n\n    this.curStepIndex = 0;\n    /**\n     * The currently active step.\n     * @type {TutorialStep}\n     */\n\n    this.curStep = this.steps[this.curStepIndex];\n    /**\n     * The Blockly workspace the user will interact with.\n     * @type {Blockly.WorkspaceSvg}\n     */\n\n    this.workspace = workspace;\n    /**\n     * The Music logic object.\n     * @type {Music}\n     */\n\n    this.music = music;\n    /**\n     * The node that was selected on the workspace when the modal\n     * opened.\n     * @type {Blockly.ASTNode}\n     */\n\n    this.curNode = null;\n    /**\n     * Callback function for goal update, which accepts a string\n     *     with the text to set the goal to.\n     * @type {function(string)}\n     */\n\n    this.goalUpdateCb = goalUpdateCb;\n    /**\n     * Callback function for the end of the tutorial.\n     * @type {function}\n     */\n\n    this.endTutorialCb = endTutorialCb;\n  }\n  /**\n   * Initialize DOM and show.\n   */\n\n\n  _createClass(Tutorial, [{\n    key: \"init\",\n    value: function init() {\n      this.createDom();\n      this.addCallbacks();\n      micromodal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].show(this.modalId, {\n        onClose: function onClose() {\n          return _speaker__WEBPACK_IMPORTED_MODULE_4__[\"speaker\"].cancel();\n        }\n      });\n      this.curStep.show();\n      this.registerPlayHelpText();\n      this.loadWorkspace();\n      this.music.setOnFinishPlayCallback(null);\n    }\n    /**\n     * Load the workspace for the tutorial.\n     */\n\n  }, {\n    key: \"loadWorkspace\",\n    value: function loadWorkspace() {\n      var toolboxJson = {\n        'kind': 'flyoutToolbox',\n        'contents': [{\n          'kind': 'block',\n          'blockxml': \"<block type=\\\"music_note\\\">\\n                        <field name=\\\"DURATION\\\">0.25</field>\\n                        <value name=\\\"PITCH\\\">\\n                          <shadow type=\\\"music_pitch\\\">\\n                            <field name=\\\"PITCH\\\">C4</field>\\n                          </shadow>\\n                        </value>\\n                      </block>\"\n        }, {\n          'kind': 'block',\n          'type': 'music_rest'\n        }]\n      };\n      this.workspace.updateToolbox(toolboxJson);\n      var starterXml = \"<xml>\\n            <block type=\\\"music_start\\\" deletable=\\\"false\\\" x=\\\"180\\\"\\n            y=\\\"50\\\"></block>\\n          </xml>\";\n      this.workspace.clear();\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Xml.domToWorkspace(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Xml.textToDom(starterXml), this.workspace);\n    }\n    /**\n     * Registers shortcut to replay the current tutorial step.\n     */\n\n  }, {\n    key: \"registerPlayHelpText\",\n    value: function registerPlayHelpText() {\n      var _this2 = this;\n\n      /** @type {!Blockly.ShortcutRegistry.KeyboardShortcut} */\n      var playHelpText = {\n        name: 'playHelpText',\n        preconditionFn: function preconditionFn(workspace) {\n          return !workspace.options.readOnly;\n        },\n        callback: function callback() {\n          _speaker__WEBPACK_IMPORTED_MODULE_4__[\"speaker\"].speak('Goal: ' + _this2.curStep.goalText, true);\n        }\n      };\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry.register(playHelpText);\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry.addKeyMapping(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.utils.KeyCodes.H, playHelpText.name);\n    }\n    /**\n     * Display the next step, or end the tutorial if there are no more steps.\n     */\n\n  }, {\n    key: \"nextStep\",\n    value: function nextStep() {\n      this.curStepIndex++;\n\n      if (this.curStepIndex < this.steps.length) {\n        this.curStep = this.steps[this.curStepIndex];\n        micromodal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].show(this.modalId, {\n          onClose: function onClose() {\n            return _speaker__WEBPACK_IMPORTED_MODULE_4__[\"speaker\"].cancel();\n          }\n        });\n        this.curStep.show();\n        this.goalUpdateCb(Tutorial.STEP_OBJECTS[this.curStepIndex].goalText);\n        this.stashCursor();\n      } else {\n        this.done();\n      }\n    }\n    /**\n     * End the tutorial.\n     */\n\n  }, {\n    key: \"done\",\n    value: function done() {\n      micromodal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].close(this.modalId, {\n        onClose: function onClose() {\n          return _speaker__WEBPACK_IMPORTED_MODULE_4__[\"speaker\"].cancel();\n        }\n      });\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.disableKeyboardAccessibility();\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry.unregister('playHelpText');\n      this.endTutorialCb();\n    }\n    /**\n     * Save the current cursor node and disable keyboard nav.\n     * Call this when opening the modal.\n     */\n\n  }, {\n    key: \"stashCursor\",\n    value: function stashCursor() {\n      this.curNode = this.workspace.getCursor().getCurNode();\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.disableKeyboardAccessibility();\n    }\n    /**\n     * Reenable keyboard nav and move the cursor to the previously\n     * selected cursor node. Call this when closing the modal.\n     */\n\n  }, {\n    key: \"popCursor\",\n    value: function popCursor() {\n      blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.navigation.enableKeyboardAccessibility();\n\n      if (this.curNode) {// this.workspace.getCursor().setCurNode(this.curNode);\n        // speaker.cancel();\n      }\n    }\n    /**\n     * Add necessary handlers for any buttons on the modal.\n     */\n\n  }, {\n    key: \"addCallbacks\",\n    value: function addCallbacks() {\n      var _this3 = this;\n\n      document.getElementById(this.stepButtonId).addEventListener('click', function () {\n        _this3.nextStep();\n      });\n      document.getElementById(this.hideButtonId).addEventListener('click', function (e) {\n        micromodal__WEBPACK_IMPORTED_MODULE_3__[\"default\"].close(_this3.modalId);\n\n        _this3.popCursor();\n\n        Tutorial.STEP_OBJECTS[_this3.curStepIndex].onStart(_this3);\n\n        e.stopPropagation();\n        e.preventDefault();\n      });\n    }\n    /**\n     * Create the dom for the modal.\n     */\n\n  }, {\n    key: \"createDom\",\n    value: function createDom() {\n      document.getElementById(this.modalId).innerHTML = \"\\n     <div class=\\\"modal__overlay\\\" tabindex=\\\"-1\\\" data-micromodal-close>\\n      <div class=\\\"modal__container\\\" role=\\\"dialog\\\" aria-modal=\\\"true\\\"\\n        aria-labelledby=\\\"modal-1-title\\\">\\n        <header class=\\\"modal__header\\\">\\n          <button class=\\\"modal__close\\\" aria-label=\\\"Close modal\\\"\\n            id=\\\"tutorialCloseBtn\\\" data-micromodal-close></button>\\n        </header>\\n        <main class=\\\"modal__content\\\" id=\\\"modal-1-content\\\">\\n          <h2 class=\\\"modal__title\\\" id=\\\"\".concat(this.stepTextId, \"\\\"></h2>\\n        </main>\\n        <footer class=\\\"modal__footer\\\">\\n          <button class=\\\"modal__btn modal__btn-primary\\\" aria-label=\\\"Start step\\\"\\n            id=\\\"\").concat(this.hideButtonId, \"\\\">Start step</button>\\n          <button class=\\\"modal__btn modal__btn-primary\\\" aria-label=\\\"Skip step\\\"\\n            id=\\\"\").concat(this.stepButtonId, \"\\\">Skip step</button>\\n        </footer>\\n      </div>\\n    </div>\");\n    }\n    /**\n     * Get the current location, based on the event.\n     * @param {Blockly.Event} event An event to inspect for a cursor location.\n     * @return {Blockly.ASTNode} The current cursor location, or null if the event\n     *     didn't have one.\n     */\n\n  }, {\n    key: \"getCurrentLocation\",\n    value: function getCurrentLocation(event) {\n      var curNode = event.newNode;\n\n      if (curNode) {\n        return curNode.getLocation();\n      }\n\n      return null;\n    }\n  }]);\n\n  return Tutorial;\n}();\nTutorial.STEP_OBJECTS = [{\n  text: \"In this tutorial you will write code that plays musical notes. Press\\n    H to replay the goal for the current step. Press Enter to go to the next\\n    step.\",\n  goalText: \"Press Enter to go to the next step.\",\n  onStart: function onStart(tutorial) {\n    setTimeout(function () {\n      return tutorial.nextStep();\n    }, 10);\n  }\n}, {\n  text: \"You can move around the blocks of code with the up and down arrows.\\n    You will hear descriptions as you move around the blocks. .\\n    All blocks have connection points, which are places where you can add more\\n    code. . Your goal: Use the down arrow to move to a connection point.\\n    Hit enter to begin. \",\n  goalText: \"Use the down arrow to move to a connection point.\",\n  onStart: function onStart(tutorial) {\n    var workspace = tutorial.workspace;\n\n    var listener = function listener(event) {\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Events.MARKER_MOVE) {\n        var curNode = event.newNode;\n        var correctLocation = workspace.getTopBlocks()[0].inputList[1].connection;\n\n        if (curNode) {\n          var location = curNode.getLocation();\n\n          if (location === correctLocation) {\n            setTimeout(function () {\n              workspace.removeChangeListener(wrapper);\n              tutorial.nextStep();\n            }, 4300);\n          }\n        }\n      }\n    }; // Add a shortcut in place of the down arrow shortcut.\n\n\n    var wrapper = workspace.addChangeListener(listener);\n  }\n}, {\n  text: \"Great! You moved to a connection point. .\\n      To add more code, you first mark a location and then select the block you\\n      want to add. .\\n      Your goal: Navigate to the connection point, then press enter to mark it.\\n      Hit enter to begin. \",\n  goalText: \"Navigate to the connection point, then press enter to mark it.\",\n  onStart: function onStart(tutorial) {\n    var workspace = tutorial.workspace;\n\n    var listener = function listener(event) {\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Events.MARKER_MOVE) {\n        var currentLocation = tutorial.getCurrentLocation(event);\n\n        if (currentLocation && !event.isCursor) {\n          var correctLocation = workspace.getTopBlocks()[0].inputList[1].connection;\n\n          if (currentLocation === correctLocation) {\n            setTimeout(function () {\n              workspace.removeChangeListener(wrapper);\n              tutorial.nextStep();\n            }, 2000);\n          }\n        }\n      }\n    }; // Add a shortcut in place of the down arrow shortcut.\n\n\n    var wrapper = workspace.addChangeListener(listener);\n  }\n}, {\n  text: \"Great! You marked a connection point. Now you can add more code\\n    blocks. .\\n    The toolbox is a list of code blocks that you can add to the workspace.\\n    You can always open the toolbox by pressing T. .\\n    Your goal: Press T to open the toolbox, then use the up and down arrows to\\n    explore it. . Press F when you are finished exploring.\",\n  goalText: \"Press T to open the toolbox, then use the up and down arrows to\\n      explore it. . Press F when you are finished exploring.\",\n  onStart: function onStart(tutorial) {\n    /** @type {!Blockly.ShortcutRegistry.KeyboardShortcut} */\n    var finishStep = {\n      name: 'finishStep',\n      preconditionFn: function preconditionFn(workspace) {\n        return workspace.keyboardAccessibilityMode && !workspace.options.readOnly;\n      },\n      callback: function callback() {\n        tutorial.nextStep();\n        blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry.unregister('finishStep');\n      }\n    };\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry.register(finishStep);\n    var shiftF = blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry.createSerializedKey(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.utils.KeyCodes.F);\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.ShortcutRegistry.registry.addKeyMapping(shiftF, finishStep.name);\n  }\n}, {\n  text: \"Great! Now it\\u2019s time to put it all together.\\n    Your goal: Navigate to the connection and mark it, then press T to open the\\n    toolbox. Find the block that says \\u201Cplay whole note c4\\u201D and press\\n    enter to add it at the marked location.\",\n  goalText: \"Navigate to the connection and mark it, then press T to open the\\n    toolbox. Find the block that says \\u201Cplay whole note c4\\u201D and press\\n    enter to add it at the marked location.\",\n  onStart: function onStart(tutorial) {\n    var workspace = tutorial.workspace;\n\n    var listener = function listener(event) {\n      if (event.type === blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Events.MARKER_MOVE) {\n        var currentLocation = tutorial.getCurrentLocation(event);\n\n        if (currentLocation && event.isCursor && workspace.getAllBlocks().length > 1) {\n          var correctLocation = workspace.getAllBlocks()[1].previousConnection;\n\n          if (currentLocation === correctLocation) {\n            setTimeout(function () {\n              workspace.removeChangeListener(wrapper);\n              tutorial.nextStep();\n            }, 5400);\n          }\n        }\n      }\n    }; // Add a shortcut in place of the down arrow shortcut.\n\n\n    var wrapper = workspace.addChangeListener(listener);\n  }\n}, {\n  text: \"Great! Your goal: Press Shift and P at the same time to run your\\n    code. You should hear a note play!\",\n  goalText: \"Press Shift and P at the same time to run your code.\",\n  onStart: function onStart(tutorial) {\n    var workspace = tutorial.workspace;\n    var starterXml = \"<xml>\\n            <block type=\\\"music_note\\\">\\n                    <field name=\\\"DURATION\\\">0.25</field>\\n                    <value name=\\\"PITCH\\\">\\n                      <shadow type=\\\"music_pitch\\\">\\n                        <field name=\\\"PITCH\\\">C4</field>\\n                      </shadow>\\n                    </value>\\n                  </block>\\n          </xml>\";\n    blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Xml.domToWorkspace(blockly_core__WEBPACK_IMPORTED_MODULE_0___default.a.Xml.textToDom(starterXml), workspace);\n    var musicNote = workspace.getBlocksByType('music_note')[0];\n    var musicStart = workspace.getBlocksByType('music_start')[0];\n    musicStart.inputList[1].connection.connect(musicNote.previousConnection);\n    tutorial.music.setOnFinishPlayCallback(function () {\n      tutorial.nextStep();\n    });\n  }\n}, {\n  text: \"Congratulations! You have finished the tutorial! In the game use\\n    H to give you tips and Shift and P to play your solution. !\\n    Hit enter to start the game.\",\n  goalText: \"Start the game.\",\n  onStart: function onStart(tutorial) {\n    setTimeout(function () {\n      return tutorial.nextStep();\n    }, 100);\n  }\n}];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHV0b3JpYWwuanM/MjQzOCJdLCJuYW1lcyI6WyJUdXRvcmlhbCIsIndvcmtzcGFjZSIsIm11c2ljIiwiZ29hbFVwZGF0ZUNiIiwiZW5kVHV0b3JpYWxDYiIsIm1vZGFsSWQiLCJzdGVwVGV4dElkIiwic3RlcEJ1dHRvbklkIiwiaGlkZUJ1dHRvbklkIiwic3RlcHMiLCJTVEVQX09CSkVDVFMiLCJtYXAiLCJvYmoiLCJUdXRvcmlhbFN0ZXAiLCJ0ZXh0IiwibmV4dFN0ZXAiLCJnb2FsVGV4dCIsImN1clN0ZXBJbmRleCIsImN1clN0ZXAiLCJjdXJOb2RlIiwiY3JlYXRlRG9tIiwiYWRkQ2FsbGJhY2tzIiwiTWljcm9Nb2RhbCIsInNob3ciLCJvbkNsb3NlIiwic3BlYWtlciIsImNhbmNlbCIsInJlZ2lzdGVyUGxheUhlbHBUZXh0IiwibG9hZFdvcmtzcGFjZSIsInNldE9uRmluaXNoUGxheUNhbGxiYWNrIiwidG9vbGJveEpzb24iLCJ1cGRhdGVUb29sYm94Iiwic3RhcnRlclhtbCIsImNsZWFyIiwiQmxvY2tseSIsIlhtbCIsImRvbVRvV29ya3NwYWNlIiwidGV4dFRvRG9tIiwicGxheUhlbHBUZXh0IiwibmFtZSIsInByZWNvbmRpdGlvbkZuIiwib3B0aW9ucyIsInJlYWRPbmx5IiwiY2FsbGJhY2siLCJzcGVhayIsIlNob3J0Y3V0UmVnaXN0cnkiLCJyZWdpc3RyeSIsInJlZ2lzdGVyIiwiYWRkS2V5TWFwcGluZyIsInV0aWxzIiwiS2V5Q29kZXMiLCJIIiwibGVuZ3RoIiwic3Rhc2hDdXJzb3IiLCJkb25lIiwiY2xvc2UiLCJuYXZpZ2F0aW9uIiwiZGlzYWJsZUtleWJvYXJkQWNjZXNzaWJpbGl0eSIsInVucmVnaXN0ZXIiLCJnZXRDdXJzb3IiLCJnZXRDdXJOb2RlIiwiZW5hYmxlS2V5Ym9hcmRBY2Nlc3NpYmlsaXR5IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicG9wQ3Vyc29yIiwib25TdGFydCIsInN0b3BQcm9wYWdhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiaW5uZXJIVE1MIiwiZXZlbnQiLCJuZXdOb2RlIiwiZ2V0TG9jYXRpb24iLCJ0dXRvcmlhbCIsInNldFRpbWVvdXQiLCJsaXN0ZW5lciIsInR5cGUiLCJFdmVudHMiLCJNQVJLRVJfTU9WRSIsImNvcnJlY3RMb2NhdGlvbiIsImdldFRvcEJsb2NrcyIsImlucHV0TGlzdCIsImNvbm5lY3Rpb24iLCJsb2NhdGlvbiIsInJlbW92ZUNoYW5nZUxpc3RlbmVyIiwid3JhcHBlciIsImFkZENoYW5nZUxpc3RlbmVyIiwiY3VycmVudExvY2F0aW9uIiwiZ2V0Q3VycmVudExvY2F0aW9uIiwiaXNDdXJzb3IiLCJmaW5pc2hTdGVwIiwia2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZSIsInNoaWZ0RiIsImNyZWF0ZVNlcmlhbGl6ZWRLZXkiLCJGIiwiZ2V0QWxsQmxvY2tzIiwicHJldmlvdXNDb25uZWN0aW9uIiwibXVzaWNOb3RlIiwiZ2V0QmxvY2tzQnlUeXBlIiwibXVzaWNTdGFydCIsImNvbm5lY3QiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNhOzs7Ozs7OztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBQ08sSUFBTUEsUUFBYjtBQUNFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRSxvQkFBWUMsU0FBWixFQUF1QkMsS0FBdkIsRUFBOEJDLFlBQTlCLEVBQTRDQyxhQUE1QyxFQUEyRDtBQUFBOztBQUFBOztBQUN6RDtBQUNKO0FBQ0E7QUFDQTtBQUNJLFNBQUtDLE9BQUwsR0FBZSxlQUFmO0FBRUE7QUFDSjtBQUNBO0FBQ0E7O0FBQ0ksU0FBS0MsVUFBTCxHQUFrQixLQUFLRCxPQUFMLEdBQWUsTUFB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d0JDLFVBQXhCLENBQW1Da0IsT0FBbkMsQ0FBMkNILFNBQVMsQ0FBQ0Qsa0JBQXJEO0FBRUF2QixZQUFRLENBQUN4RSxLQUFULENBQWUyQix1QkFBZixDQUF1QyxZQUFJO0FBQ3pDNkMsY0FBUSxDQUFDM0QsUUFBVDtBQUNELEtBRkQ7QUFHRDtBQTFCSCxDQW5Jc0IsRUErSnRCO0FBQ0VELE1BQUksdUtBRE47QUFJRUUsVUFBUSxtQkFKVjtBQUtFbUQsU0FBTyxFQUFFLGlCQUFTTyxRQUFULEVBQW1CO0FBQzFCQyxjQUFVLENBQUM7QUFBQSxhQUFNRCxRQUFRLENBQUMzRCxRQUFULEVBQU47QUFBQSxLQUFELEVBQTRCLEdBQTVCLENBQVY7QUFDRDtBQVBILENBL0pzQixDQUF4QiIsImZpbGUiOiIuL3NyYy90dXRvcmlhbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE11bHRpLXN0ZXAgdHV0b3JpYWwgdXNpbmcgbW9kYWxzLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBCbG9ja2x5IGZyb20gJ2Jsb2NrbHkvY29yZSc7XG5pbXBvcnQge011c2ljfSBmcm9tICcuL211c2ljJztcbmltcG9ydCB7VHV0b3JpYWxTdGVwfSBmcm9tICcuL3R1dG9yaWFsX3N0ZXAnO1xuaW1wb3J0IE1pY3JvTW9kYWwgZnJvbSAnbWljcm9tb2RhbCc7XG5pbXBvcnQge3NwZWFrZXJ9IGZyb20gJy4vc3BlYWtlcic7XG5cbi8qKlxuICogQSBtdWx0aS1zdGVwIHR1dG9yaWFsIGZvciB0aGUgYWNjZXNzaWJsZSBtdXNpYyBnYW1lLlxuICovXG5leHBvcnQgY2xhc3MgVHV0b3JpYWwge1xuICAvKipcbiAgICogQ2xhc3MgZm9yIGEgdHV0b3JpYWwuXG4gICAqIEBwYXJhbSB7QmxvY2tseS5Xb3Jrc3BhY2VTdmd9IHdvcmtzcGFjZSBUaGUgd29ya3NwYWNlIHRoZSB1c2VyXG4gICAqICAgICB3aWxsIGludGVyYWN0IHdpdGguXG4gICAqIEBwYXJhbSB7TXVzaWN9IG11c2ljIEEgcmVmZXJlbmNlIHRvIHRoZSBtdXNpYyBsb2dpYyBvYmplY3QuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nKX0gZ29hbFVwZGF0ZUNiIFRoZSBjYWxsYmFjayBmdW5jdGlvbiBmb3IgZ29hbFxuICAgKiAgICBjaGFuZ2UuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGVuZFR1dG9yaWFsQ2IgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgYXQgdGhlIGVuZCBvZiB0aGVcbiAgICogICAgIHR1dG9yaWFsLlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdvcmtzcGFjZSwgbXVzaWMsIGdvYWxVcGRhdGVDYiwgZW5kVHV0b3JpYWxDYikge1xuICAgIC8qKlxuICAgICAqIFRoZSBpZCBvZiB0aGUgbW9kYWwuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLm1vZGFsSWQgPSAndHV0b3JpYWxNb2RhbCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIHR1dG9yaWFsIHRleHQuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnN0ZXBUZXh0SWQgPSB0aGlzLm1vZGFsSWQgKyAnVGV4dCc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIG5leHQgc3RlcCBidXR0b24uXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnN0ZXBCdXR0b25JZCA9IHRoaXMubW9kYWxJZCArICdTdGVwQnRuJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBpZCBvZiB0aGUgaGlkZSBtb2RhbCBidXR0b24uXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmhpZGVCdXR0b25JZCA9IHRoaXMubW9kYWxJZCArICdIaWRlQnRuJztcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHN0ZXBzIGluIHRoZSB0dXRvcmlhbC5cbiAgICAgKiBAdHlwZSB7QXJyYXk8IVR1dG9yaWFsU3RlcD59XG4gICAgICovXG4gICAgdGhpcy5zdGVwcyA9IFR1dG9yaWFsLlNURVBfT0JKRUNUUy5tYXAoXG4gICAgICAgIChvYmopID0+IG5ldyBUdXRvcmlhbFN0ZXAob2JqLnRleHQsIHRoaXMuc3RlcFRleHRJZCwgdGhpcy5uZXh0U3RlcCwgb2JqLmdvYWxUZXh0KVxuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggb2YgdGhlIGN1cnJlbnRseSBhY3RpdmUgc3RlcC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuY3VyU3RlcEluZGV4ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIHN0ZXAuXG4gICAgICogQHR5cGUge1R1dG9yaWFsU3RlcH1cbiAgICAgKi9cbiAgICB0aGlzLmN1clN0ZXAgPSB0aGlzLnN0ZXBzW3RoaXMuY3VyU3RlcEluZGV4XTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBCbG9ja2x5IHdvcmtzcGFjZSB0aGUgdXNlciB3aWxsIGludGVyYWN0IHdpdGguXG4gICAgICogQHR5cGUge0Jsb2NrbHkuV29ya3NwYWNlU3ZnfVxuICAgICAqL1xuICAgIHRoaXMud29ya3NwYWNlID0gd29ya3NwYWNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIE11c2ljIGxvZ2ljIG9iamVjdC5cbiAgICAgKiBAdHlwZSB7TXVzaWN9XG4gICAgICovXG4gICAgdGhpcy5tdXNpYyA9IG11c2ljO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5vZGUgdGhhdCB3YXMgc2VsZWN0ZWQgb24gdGhlIHdvcmtzcGFjZSB3aGVuIHRoZSBtb2RhbFxuICAgICAqIG9wZW5lZC5cbiAgICAgKiBAdHlwZSB7QmxvY2tseS5BU1ROb2RlfVxuICAgICAqL1xuICAgIHRoaXMuY3VyTm9kZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayBmdW5jdGlvbiBmb3IgZ29hbCB1cGRhdGUsIHdoaWNoIGFjY2VwdHMgYSBzdHJpbmdcbiAgICAgKiAgICAgd2l0aCB0aGUgdGV4dCB0byBzZXQgdGhlIGdvYWwgdG8uXG4gICAgICogQHR5cGUge2Z1bmN0aW9uKHN0cmluZyl9XG4gICAgICovXG4gICAgdGhpcy5nb2FsVXBkYXRlQ2IgPSBnb2FsVXBkYXRlQ2I7XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayBmdW5jdGlvbiBmb3IgdGhlIGVuZCBvZiB0aGUgdHV0b3JpYWwuXG4gICAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuZW5kVHV0b3JpYWxDYiA9IGVuZFR1dG9yaWFsQ2I7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBET00gYW5kIHNob3cuXG4gICAqL1xuICBpbml0KCkge1xuICAgIHRoaXMuY3JlYXRlRG9tKCk7XG4gICAgdGhpcy5hZGRDYWxsYmFja3MoKTtcbiAgICBNaWNyb01vZGFsLnNob3codGhpcy5tb2RhbElkLCB7XG4gICAgICBvbkNsb3NlOiAoKSA9PiBzcGVha2VyLmNhbmNlbCgpLFxuICAgIH0pO1xuICAgIHRoaXMuY3VyU3RlcC5zaG93KCk7XG4gICAgdGhpcy5yZWdpc3RlclBsYXlIZWxwVGV4dCgpO1xuICAgIHRoaXMubG9hZFdvcmtzcGFjZSgpO1xuICAgIHRoaXMubXVzaWMuc2V0T25GaW5pc2hQbGF5Q2FsbGJhY2sobnVsbCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCB0aGUgd29ya3NwYWNlIGZvciB0aGUgdHV0b3JpYWwuXG4gICAqL1xuICBsb2FkV29ya3NwYWNlKCkge1xuICAgIGNvbnN0IHRvb2xib3hKc29uID0ge1xuICAgICAgJ2tpbmQnOiAnZmx5b3V0VG9vbGJveCcsXG4gICAgICAnY29udGVudHMnOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAna2luZCc6ICdibG9jaycsXG4gICAgICAgICAgJ2Jsb2NreG1sJzogYDxibG9jayB0eXBlPVwibXVzaWNfbm90ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJEVVJBVElPTlwiPjAuMjU8L2ZpZWxkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHZhbHVlIG5hbWU9XCJQSVRDSFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c2hhZG93IHR5cGU9XCJtdXNpY19waXRjaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiUElUQ0hcIj5DNDwvZmllbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2hhZG93PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC92YWx1ZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Jsb2NrPmAsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAna2luZCc6ICdibG9jaycsXG4gICAgICAgICAgJ3R5cGUnOiAnbXVzaWNfcmVzdCcsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH07XG4gICAgdGhpcy53b3Jrc3BhY2UudXBkYXRlVG9vbGJveCh0b29sYm94SnNvbik7XG4gICAgY29uc3Qgc3RhcnRlclhtbCA9XG4gICAgICAgIGA8eG1sPlxuICAgICAgICAgICAgPGJsb2NrIHR5cGU9XCJtdXNpY19zdGFydFwiIGRlbGV0YWJsZT1cImZhbHNlXCIgeD1cIjE4MFwiXG4gICAgICAgICAgICB5PVwiNTBcIj48L2Jsb2NrPlxuICAgICAgICAgIDwveG1sPmA7XG4gICAgdGhpcy53b3Jrc3BhY2UuY2xlYXIoKTtcbiAgICBCbG9ja2x5LlhtbC5kb21Ub1dvcmtzcGFjZShcbiAgICAgICAgQmxvY2tseS5YbWwudGV4dFRvRG9tKHN0YXJ0ZXJYbWwpLCB0aGlzLndvcmtzcGFjZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIHNob3J0Y3V0IHRvIHJlcGxheSB0aGUgY3VycmVudCB0dXRvcmlhbCBzdGVwLlxuICAgKi9cbiAgcmVnaXN0ZXJQbGF5SGVscFRleHQoKSB7XG4gICAgLyoqIEB0eXBlIHshQmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXR9ICovXG4gICAgY29uc3QgcGxheUhlbHBUZXh0ID0ge1xuICAgICAgbmFtZTogJ3BsYXlIZWxwVGV4dCcsXG4gICAgICBwcmVjb25kaXRpb25GbjogZnVuY3Rpb24od29ya3NwYWNlKSB7XG4gICAgICAgIHJldHVybiAhd29ya3NwYWNlLm9wdGlvbnMucmVhZE9ubHk7XG4gICAgICB9LFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgc3BlYWtlci5zcGVhaygnR29hbDogJyArIHRoaXMuY3VyU3RlcC5nb2FsVGV4dCwgdHJ1ZSk7XG4gICAgICB9LFxuICAgIH07XG5cbiAgICBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkucmVnaXN0ZXIocGxheUhlbHBUZXh0KTtcbiAgICBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuYWRkS2V5TWFwcGluZyhcbiAgICAgICAgQmxvY2tseS51dGlscy5LZXlDb2Rlcy5ILCBwbGF5SGVscFRleHQubmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogRGlzcGxheSB0aGUgbmV4dCBzdGVwLCBvciBlbmQgdGhlIHR1dG9yaWFsIGlmIHRoZXJlIGFyZSBubyBtb3JlIHN0ZXBzLlxuICAgKi9cbiAgbmV4dFN0ZXAoKSB7XG4gICAgdGhpcy5jdXJTdGVwSW5kZXgrKztcbiAgICBpZiAodGhpcy5jdXJTdGVwSW5kZXggPCB0aGlzLnN0ZXBzLmxlbmd0aCkge1xuICAgICAgdGhpcy5jdXJTdGVwID0gdGhpcy5zdGVwc1t0aGlzLmN1clN0ZXBJbmRleF07XG4gICAgICBNaWNyb01vZGFsLnNob3codGhpcy5tb2RhbElkLCB7XG4gICAgICAgIG9uQ2xvc2U6ICgpID0+IHNwZWFrZXIuY2FuY2VsKCksXG4gICAgICB9KTtcbiAgICAgIHRoaXMuY3VyU3RlcC5zaG93KCk7XG4gICAgICB0aGlzLmdvYWxVcGRhdGVDYihUdXRvcmlhbC5TVEVQX09CSkVDVFNbdGhpcy5jdXJTdGVwSW5kZXhdLmdvYWxUZXh0KTtcbiAgICAgIHRoaXMuc3Rhc2hDdXJzb3IoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kb25lKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVuZCB0aGUgdHV0b3JpYWwuXG4gICAqL1xuICBkb25lKCkge1xuICAgIE1pY3JvTW9kYWwuY2xvc2UodGhpcy5tb2RhbElkLCB7XG4gICAgICBvbkNsb3NlOiAoKSA9PiBzcGVha2VyLmNhbmNlbCgpLFxuICAgIH0pO1xuICAgIEJsb2NrbHkubmF2aWdhdGlvbi5kaXNhYmxlS2V5Ym9hcmRBY2Nlc3NpYmlsaXR5KCk7XG4gICAgQmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoJ3BsYXlIZWxwVGV4dCcpO1xuICAgIHRoaXMuZW5kVHV0b3JpYWxDYigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgdGhlIGN1cnJlbnQgY3Vyc29yIG5vZGUgYW5kIGRpc2FibGUga2V5Ym9hcmQgbmF2LlxuICAgKiBDYWxsIHRoaXMgd2hlbiBvcGVuaW5nIHRoZSBtb2RhbC5cbiAgICovXG4gIHN0YXNoQ3Vyc29yKCkge1xuICAgIHRoaXMuY3VyTm9kZSA9IHRoaXMud29ya3NwYWNlLmdldEN1cnNvcigpLmdldEN1ck5vZGUoKTtcbiAgICBCbG9ja2x5Lm5hdmlnYXRpb24uZGlzYWJsZUtleWJvYXJkQWNjZXNzaWJpbGl0eSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZW5hYmxlIGtleWJvYXJkIG5hdiBhbmQgbW92ZSB0aGUgY3Vyc29yIHRvIHRoZSBwcmV2aW91c2x5XG4gICAqIHNlbGVjdGVkIGN1cnNvciBub2RlLiBDYWxsIHRoaXMgd2hlbiBjbG9zaW5nIHRoZSBtb2RhbC5cbiAgICovXG4gIHBvcEN1cnNvcigpIHtcbiAgICBCbG9ja2x5Lm5hdmlnYXRpb24uZW5hYmxlS2V5Ym9hcmRBY2Nlc3NpYmlsaXR5KCk7XG4gICAgaWYgKHRoaXMuY3VyTm9kZSkge1xuICAgICAgLy8gdGhpcy53b3Jrc3BhY2UuZ2V0Q3Vyc29yKCkuc2V0Q3VyTm9kZSh0aGlzLmN1ck5vZGUpO1xuICAgICAgLy8gc3BlYWtlci5jYW5jZWwoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIG5lY2Vzc2FyeSBoYW5kbGVycyBmb3IgYW55IGJ1dHRvbnMgb24gdGhlIG1vZGFsLlxuICAgKi9cbiAgYWRkQ2FsbGJhY2tzKCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc3RlcEJ1dHRvbklkKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICB0aGlzLm5leHRTdGVwKCk7XG4gICAgICAgIH0pO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaGlkZUJ1dHRvbklkKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsXG4gICAgICAgIChlKSA9PiB7XG4gICAgICAgICAgTWljcm9Nb2RhbC5jbG9zZSh0aGlzLm1vZGFsSWQpO1xuICAgICAgICAgIHRoaXMucG9wQ3Vyc29yKCk7XG4gICAgICAgICAgVHV0b3JpYWwuU1RFUF9PQkpFQ1RTW3RoaXMuY3VyU3RlcEluZGV4XS5vblN0YXJ0KHRoaXMpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGRvbSBmb3IgdGhlIG1vZGFsLlxuICAgKi9cbiAgY3JlYXRlRG9tKCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMubW9kYWxJZCkuaW5uZXJIVE1MID0gYFxuICAgICA8ZGl2IGNsYXNzPVwibW9kYWxfX292ZXJsYXlcIiB0YWJpbmRleD1cIi0xXCIgZGF0YS1taWNyb21vZGFsLWNsb3NlPlxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsX19jb250YWluZXJcIiByb2xlPVwiZGlhbG9nXCIgYXJpYS1tb2RhbD1cInRydWVcIlxuICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJtb2RhbC0xLXRpdGxlXCI+XG4gICAgICAgIDxoZWFkZXIgY2xhc3M9XCJtb2RhbF9faGVhZGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZGFsX19jbG9zZVwiIGFyaWEtbGFiZWw9XCJDbG9zZSBtb2RhbFwiXG4gICAgICAgICAgICBpZD1cInR1dG9yaWFsQ2xvc2VCdG5cIiBkYXRhLW1pY3JvbW9kYWwtY2xvc2U+PC9idXR0b24+XG4gICAgICAgIDwvaGVhZGVyPlxuICAgICAgICA8bWFpbiBjbGFzcz1cIm1vZGFsX19jb250ZW50XCIgaWQ9XCJtb2RhbC0xLWNvbnRlbnRcIj5cbiAgICAgICAgICA8aDIgY2xhc3M9XCJtb2RhbF9fdGl0bGVcIiBpZD1cIiR7dGhpcy5zdGVwVGV4dElkfVwiPjwvaDI+XG4gICAgICAgIDwvbWFpbj5cbiAgICAgICAgPGZvb3RlciBjbGFzcz1cIm1vZGFsX19mb290ZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibW9kYWxfX2J0biBtb2RhbF9fYnRuLXByaW1hcnlcIiBhcmlhLWxhYmVsPVwiU3RhcnQgc3RlcFwiXG4gICAgICAgICAgICBpZD1cIiR7dGhpcy5oaWRlQnV0dG9uSWR9XCI+U3RhcnQgc3RlcDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbF9fYnRuIG1vZGFsX19idG4tcHJpbWFyeVwiIGFyaWEtbGFiZWw9XCJTa2lwIHN0ZXBcIlxuICAgICAgICAgICAgaWQ9XCIke3RoaXMuc3RlcEJ1dHRvbklkfVwiPlNraXAgc3RlcDwvYnV0dG9uPlxuICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IGxvY2F0aW9uLCBiYXNlZCBvbiB0aGUgZXZlbnQuXG4gICAqIEBwYXJhbSB7QmxvY2tseS5FdmVudH0gZXZlbnQgQW4gZXZlbnQgdG8gaW5zcGVjdCBmb3IgYSBjdXJzb3IgbG9jYXRpb24uXG4gICAqIEByZXR1cm4ge0Jsb2NrbHkuQVNUTm9kZX0gVGhlIGN1cnJlbnQgY3Vyc29yIGxvY2F0aW9uLCBvciBudWxsIGlmIHRoZSBldmVudFxuICAgKiAgICAgZGlkbid0IGhhdmUgb25lLlxuICAgKi9cbiAgZ2V0Q3VycmVudExvY2F0aW9uKGV2ZW50KSB7XG4gICAgY29uc3QgY3VyTm9kZSA9IGV2ZW50Lm5ld05vZGU7XG4gICAgaWYgKGN1ck5vZGUpIHtcbiAgICAgIHJldHVybiBjdXJOb2RlLmdldExvY2F0aW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cblR1dG9yaWFsLlNURVBfT0JKRUNUUyA9IFtcbiAge1xuICAgIHRleHQ6IGBJbiB0aGlzIHR1dG9yaWFsIHlvdSB3aWxsIHdyaXRlIGNvZGUgdGhhdCBwbGF5cyBtdXNpY2FsIG5vdGVzLiBQcmVzc1xuICAgIEggdG8gcmVwbGF5IHRoZSBnb2FsIGZvciB0aGUgY3VycmVudCBzdGVwLiBQcmVzcyBFbnRlciB0byBnbyB0byB0aGUgbmV4dFxuICAgIHN0ZXAuYCxcbiAgICBnb2FsVGV4dDogYFByZXNzIEVudGVyIHRvIGdvIHRvIHRoZSBuZXh0IHN0ZXAuYCxcbiAgICBvblN0YXJ0OiBmdW5jdGlvbih0dXRvcmlhbCkge1xuICAgICAgc2V0VGltZW91dCgoKT0+IHR1dG9yaWFsLm5leHRTdGVwKCksIDEwKTtcbiAgICB9LFxuICB9LFxuICB7XG4gICAgdGV4dDogYFlvdSBjYW4gbW92ZSBhcm91bmQgdGhlIGJsb2NrcyBvZiBjb2RlIHdpdGggdGhlIHVwIGFuZCBkb3duIGFycm93cy5cbiAgICBZb3Ugd2lsbCBoZWFyIGRlc2NyaXB0aW9ucyBhcyB5b3UgbW92ZSBhcm91bmQgdGhlIGJsb2Nrcy4gLlxuICAgIEFsbCBibG9ja3MgaGF2ZSBjb25uZWN0aW9uIHBvaW50cywgd2hpY2ggYXJlIHBsYWNlcyB3aGVyZSB5b3UgY2FuIGFkZCBtb3JlXG4gICAgY29kZS4gLiBZb3VyIGdvYWw6IFVzZSB0aGUgZG93biBhcnJvdyB0byBtb3ZlIHRvIGEgY29ubmVjdGlvbiBwb2ludC5cbiAgICBIaXQgZW50ZXIgdG8gYmVnaW4uIGAsXG4gICAgZ29hbFRleHQ6IGBVc2UgdGhlIGRvd24gYXJyb3cgdG8gbW92ZSB0byBhIGNvbm5lY3Rpb24gcG9pbnQuYCxcbiAgICBvblN0YXJ0OiBmdW5jdGlvbih0dXRvcmlhbCkge1xuICAgICAgY29uc3Qgd29ya3NwYWNlID0gdHV0b3JpYWwud29ya3NwYWNlO1xuICAgICAgY29uc3QgbGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gQmxvY2tseS5FdmVudHMuTUFSS0VSX01PVkUpIHtcbiAgICAgICAgICBjb25zdCBjdXJOb2RlID0gZXZlbnQubmV3Tm9kZTtcbiAgICAgICAgICBjb25zdCBjb3JyZWN0TG9jYXRpb24gPVxuICAgICAgICAgICAgICB3b3Jrc3BhY2UuZ2V0VG9wQmxvY2tzKClbMF0uaW5wdXRMaXN0WzFdLmNvbm5lY3Rpb247XG4gICAgICAgICAgaWYgKGN1ck5vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gY3VyTm9kZS5nZXRMb2NhdGlvbigpO1xuICAgICAgICAgICAgaWYgKGxvY2F0aW9uID09PSBjb3JyZWN0TG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih3cmFwcGVyKTtcbiAgICAgICAgICAgICAgICB0dXRvcmlhbC5uZXh0U3RlcCgpO1xuICAgICAgICAgICAgICB9LCA0MzAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIEFkZCBhIHNob3J0Y3V0IGluIHBsYWNlIG9mIHRoZSBkb3duIGFycm93IHNob3J0Y3V0LlxuICAgICAgY29uc3Qgd3JhcHBlciA9IHdvcmtzcGFjZS5hZGRDaGFuZ2VMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgfSxcbiAgfSxcbiAge1xuICAgIHRleHQ6XG4gICAgICBgR3JlYXQhIFlvdSBtb3ZlZCB0byBhIGNvbm5lY3Rpb24gcG9pbnQuIC5cbiAgICAgIFRvIGFkZCBtb3JlIGNvZGUsIHlvdSBmaXJzdCBtYXJrIGEgbG9jYXRpb24gYW5kIHRoZW4gc2VsZWN0IHRoZSBibG9jayB5b3VcbiAgICAgIHdhbnQgdG8gYWRkLiAuXG4gICAgICBZb3VyIGdvYWw6IE5hdmlnYXRlIHRvIHRoZSBjb25uZWN0aW9uIHBvaW50LCB0aGVuIHByZXNzIGVudGVyIHRvIG1hcmsgaXQuXG4gICAgICBIaXQgZW50ZXIgdG8gYmVnaW4uIGAsXG4gICAgZ29hbFRleHQ6IGBOYXZpZ2F0ZSB0byB0aGUgY29ubmVjdGlvbiBwb2ludCwgdGhlbiBwcmVzcyBlbnRlciB0byBtYXJrIGl0LmAsXG4gICAgb25TdGFydDogZnVuY3Rpb24odHV0b3JpYWwpIHtcbiAgICAgIGNvbnN0IHdvcmtzcGFjZSA9IHR1dG9yaWFsLndvcmtzcGFjZTtcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IEJsb2NrbHkuRXZlbnRzLk1BUktFUl9NT1ZFKSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudExvY2F0aW9uID0gdHV0b3JpYWwuZ2V0Q3VycmVudExvY2F0aW9uKGV2ZW50KTtcbiAgICAgICAgICBpZiAoY3VycmVudExvY2F0aW9uICYmICFldmVudC5pc0N1cnNvcikge1xuICAgICAgICAgICAgY29uc3QgY29ycmVjdExvY2F0aW9uID1cbiAgICAgICAgICAgICAgICB3b3Jrc3BhY2UuZ2V0VG9wQmxvY2tzKClbMF0uaW5wdXRMaXN0WzFdLmNvbm5lY3Rpb247XG4gICAgICAgICAgICBpZiAoY3VycmVudExvY2F0aW9uID09PSBjb3JyZWN0TG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgIHdvcmtzcGFjZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih3cmFwcGVyKTtcbiAgICAgICAgICAgICAgICB0dXRvcmlhbC5uZXh0U3RlcCgpO1xuICAgICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIEFkZCBhIHNob3J0Y3V0IGluIHBsYWNlIG9mIHRoZSBkb3duIGFycm93IHNob3J0Y3V0LlxuICAgICAgY29uc3Qgd3JhcHBlciA9IHdvcmtzcGFjZS5hZGRDaGFuZ2VMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgfSxcbiAgfSxcbiAge1xuICAgIHRleHQ6IGBHcmVhdCEgWW91IG1hcmtlZCBhIGNvbm5lY3Rpb24gcG9pbnQuIE5vdyB5b3UgY2FuIGFkZCBtb3JlIGNvZGVcbiAgICBibG9ja3MuIC5cbiAgICBUaGUgdG9vbGJveCBpcyBhIGxpc3Qgb2YgY29kZSBibG9ja3MgdGhhdCB5b3UgY2FuIGFkZCB0byB0aGUgd29ya3NwYWNlLlxuICAgIFlvdSBjYW4gYWx3YXlzIG9wZW4gdGhlIHRvb2xib3ggYnkgcHJlc3NpbmcgVC4gLlxuICAgIFlvdXIgZ29hbDogUHJlc3MgVCB0byBvcGVuIHRoZSB0b29sYm94LCB0aGVuIHVzZSB0aGUgdXAgYW5kIGRvd24gYXJyb3dzIHRvXG4gICAgZXhwbG9yZSBpdC4gLiBQcmVzcyBGIHdoZW4geW91IGFyZSBmaW5pc2hlZCBleHBsb3JpbmcuYCxcbiAgICBnb2FsVGV4dDogYFByZXNzIFQgdG8gb3BlbiB0aGUgdG9vbGJveCwgdGhlbiB1c2UgdGhlIHVwIGFuZCBkb3duIGFycm93cyB0b1xuICAgICAgZXhwbG9yZSBpdC4gLiBQcmVzcyBGIHdoZW4geW91IGFyZSBmaW5pc2hlZCBleHBsb3JpbmcuYCxcbiAgICBvblN0YXJ0OiBmdW5jdGlvbih0dXRvcmlhbCkge1xuICAgICAgLyoqIEB0eXBlIHshQmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5LktleWJvYXJkU2hvcnRjdXR9ICovXG4gICAgICBjb25zdCBmaW5pc2hTdGVwID0ge1xuICAgICAgICBuYW1lOiAnZmluaXNoU3RlcCcsXG4gICAgICAgIHByZWNvbmRpdGlvbkZuOiBmdW5jdGlvbih3b3Jrc3BhY2UpIHtcbiAgICAgICAgICByZXR1cm4gd29ya3NwYWNlLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGUgJiZcbiAgICAgICAgICAgICAgIXdvcmtzcGFjZS5vcHRpb25zLnJlYWRPbmx5O1xuICAgICAgICB9LFxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgIHR1dG9yaWFsLm5leHRTdGVwKCk7XG4gICAgICAgICAgQmxvY2tseS5TaG9ydGN1dFJlZ2lzdHJ5LnJlZ2lzdHJ5LnVucmVnaXN0ZXIoJ2ZpbmlzaFN0ZXAnKTtcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIEJsb2NrbHkuU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5yZWdpc3RlcihmaW5pc2hTdGVwKTtcbiAgICAgIGNvbnN0IHNoaWZ0RiA9IEJsb2NrbHkuU2hvcnRjdXRSZWdpc3RyeS5yZWdpc3RyeS5jcmVhdGVTZXJpYWxpemVkS2V5KFxuICAgICAgICAgIEJsb2NrbHkudXRpbHMuS2V5Q29kZXMuRik7XG4gICAgICBCbG9ja2x5LlNob3J0Y3V0UmVnaXN0cnkucmVnaXN0cnkuYWRkS2V5TWFwcGluZyhcbiAgICAgICAgICBzaGlmdEYsIGZpbmlzaFN0ZXAubmFtZSk7XG4gICAgfSxcbiAgfSxcbiAge1xuICAgIHRleHQ6IGBHcmVhdCEgTm93IGl04oCZcyB0aW1lIHRvIHB1dCBpdCBhbGwgdG9nZXRoZXIuXG4gICAgWW91ciBnb2FsOiBOYXZpZ2F0ZSB0byB0aGUgY29ubmVjdGlvbiBhbmQgbWFyayBpdCwgdGhlbiBwcmVzcyBUIHRvIG9wZW4gdGhlXG4gICAgdG9vbGJveC4gRmluZCB0aGUgYmxvY2sgdGhhdCBzYXlzIOKAnHBsYXkgd2hvbGUgbm90ZSBjNOKAnSBhbmQgcHJlc3NcbiAgICBlbnRlciB0byBhZGQgaXQgYXQgdGhlIG1hcmtlZCBsb2NhdGlvbi5gLFxuICAgIGdvYWxUZXh0OiBgTmF2aWdhdGUgdG8gdGhlIGNvbm5lY3Rpb24gYW5kIG1hcmsgaXQsIHRoZW4gcHJlc3MgVCB0byBvcGVuIHRoZVxuICAgIHRvb2xib3guIEZpbmQgdGhlIGJsb2NrIHRoYXQgc2F5cyDigJxwbGF5IHdob2xlIG5vdGUgYzTigJ0gYW5kIHByZXNzXG4gICAgZW50ZXIgdG8gYWRkIGl0IGF0IHRoZSBtYXJrZWQgbG9jYXRpb24uYCxcbiAgICBvblN0YXJ0OiBmdW5jdGlvbih0dXRvcmlhbCkge1xuICAgICAgY29uc3Qgd29ya3NwYWNlID0gdHV0b3JpYWwud29ya3NwYWNlO1xuICAgICAgY29uc3QgbGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gQmxvY2tseS5FdmVudHMuTUFSS0VSX01PVkUpIHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50TG9jYXRpb24gPSB0dXRvcmlhbC5nZXRDdXJyZW50TG9jYXRpb24oZXZlbnQpO1xuICAgICAgICAgIGlmIChjdXJyZW50TG9jYXRpb24gJiYgZXZlbnQuaXNDdXJzb3IgJiZcbiAgICAgICAgICAgICAgd29ya3NwYWNlLmdldEFsbEJsb2NrcygpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvcnJlY3RMb2NhdGlvbiA9XG4gICAgICAgICAgICAgICAgd29ya3NwYWNlLmdldEFsbEJsb2NrcygpWzFdLnByZXZpb3VzQ29ubmVjdGlvbjtcbiAgICAgICAgICAgIGlmIChjdXJyZW50TG9jYXRpb24gPT09IGNvcnJlY3RMb2NhdGlvbikge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgd29ya3NwYWNlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHdyYXBwZXIpO1xuICAgICAgICAgICAgICAgIHR1dG9yaWFsLm5leHRTdGVwKCk7XG4gICAgICAgICAgICAgIH0sIDU0MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQWRkIGEgc2hvcnRjdXQgaW4gcGxhY2Ugb2YgdGhlIGRvd24gYXJyb3cgc2hvcnRjdXQuXG4gICAgICBjb25zdCB3cmFwcGVyID0gd29ya3NwYWNlLmFkZENoYW5nZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICB9LFxuICB9LFxuICB7XG4gICAgdGV4dDogYEdyZWF0ISBZb3VyIGdvYWw6IFByZXNzIFNoaWZ0IGFuZCBQIGF0IHRoZSBzYW1lIHRpbWUgdG8gcnVuIHlvdXJcbiAgICBjb2RlLiBZb3Ugc2hvdWxkIGhlYXIgYSBub3RlIHBsYXkhYCxcbiAgICBnb2FsVGV4dDogYFByZXNzIFNoaWZ0IGFuZCBQIGF0IHRoZSBzYW1lIHRpbWUgdG8gcnVuIHlvdXIgY29kZS5gLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKHR1dG9yaWFsKSB7XG4gICAgICBjb25zdCB3b3Jrc3BhY2UgPSB0dXRvcmlhbC53b3Jrc3BhY2U7XG4gICAgICBjb25zdCBzdGFydGVyWG1sID1cbiAgICAgICAgYDx4bWw+XG4gICAgICAgICAgICA8YmxvY2sgdHlwZT1cIm11c2ljX25vdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGZpZWxkIG5hbWU9XCJEVVJBVElPTlwiPjAuMjU8L2ZpZWxkPlxuICAgICAgICAgICAgICAgICAgICA8dmFsdWUgbmFtZT1cIlBJVENIXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNoYWRvdyB0eXBlPVwibXVzaWNfcGl0Y2hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxmaWVsZCBuYW1lPVwiUElUQ0hcIj5DNDwvZmllbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPC9zaGFkb3c+XG4gICAgICAgICAgICAgICAgICAgIDwvdmFsdWU+XG4gICAgICAgICAgICAgICAgICA8L2Jsb2NrPlxuICAgICAgICAgIDwveG1sPmA7XG4gICAgICBCbG9ja2x5LlhtbC5kb21Ub1dvcmtzcGFjZShcbiAgICAgICAgICBCbG9ja2x5LlhtbC50ZXh0VG9Eb20oc3RhcnRlclhtbCksIHdvcmtzcGFjZSk7XG4gICAgICBjb25zdCBtdXNpY05vdGUgPSB3b3Jrc3BhY2UuZ2V0QmxvY2tzQnlUeXBlKCdtdXNpY19ub3RlJylbMF07XG4gICAgICBjb25zdCBtdXNpY1N0YXJ0ID0gd29ya3NwYWNlLmdldEJsb2Nrc0J5VHlwZSgnbXVzaWNfc3RhcnQnKVswXTtcbiAgICAgIG11c2ljU3RhcnQuaW5wdXRMaXN0WzFdLmNvbm5lY3Rpb24uY29ubmVjdChtdXNpY05vdGUucHJldmlvdXNDb25uZWN0aW9uKTtcblxuICAgICAgdHV0b3JpYWwubXVzaWMuc2V0T25GaW5pc2hQbGF5Q2FsbGJhY2soKCk9PntcbiAgICAgICAgdHV0b3JpYWwubmV4dFN0ZXAoKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0sXG4gIHtcbiAgICB0ZXh0OiBgQ29uZ3JhdHVsYXRpb25zISBZb3UgaGF2ZSBmaW5pc2hlZCB0aGUgdHV0b3JpYWwhIEluIHRoZSBnYW1lIHVzZVxuICAgIEggdG8gZ2l2ZSB5b3UgdGlwcyBhbmQgU2hpZnQgYW5kIFAgdG8gcGxheSB5b3VyIHNvbHV0aW9uLiAhXG4gICAgSGl0IGVudGVyIHRvIHN0YXJ0IHRoZSBnYW1lLmAsXG4gICAgZ29hbFRleHQ6IGBTdGFydCB0aGUgZ2FtZS5gLFxuICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKHR1dG9yaWFsKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHR1dG9yaWFsLm5leHRTdGVwKCksIDEwMCk7XG4gICAgfSxcbiAgfSxcbl07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/tutorial.js\n");

/***/ }),

/***/ "./src/tutorial_step.js":
/*!******************************!*\
  !*** ./src/tutorial_step.js ***!
  \******************************/
/*! exports provided: TutorialStep */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TutorialStep\", function() { return TutorialStep; });\n/* harmony import */ var _speaker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./speaker */ \"./src/speaker.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview A single step in the tutorial.\n */\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n/**\n * A step in the tutorial.\n */\n\nvar TutorialStep = /*#__PURE__*/function () {\n  /**\n   * Class for a single step in the tutorial.\n   * @param {string} text The text to show on the modal.\n   * @param {string} textId The ID of the element where the text will be\n   *     displayed.\n   * @param {Function} doneCb The function to call when the step is completed\n   *     by the user.\n   * @constructor\n   */\n  function TutorialStep(text, textId, doneCb, goalText) {\n    _classCallCheck(this, TutorialStep);\n\n    /**\n     * The text being displayed to the user.\n     * @type {string}\n     */\n    this.text = text;\n    /**\n     * The ID of the element where the text will be displayed.\n     * @type {string}\n     */\n\n    this.textId = textId;\n    /**\n     * The function to call when the step is completed by the user.\n     * @type {Function}\n     */\n\n    this.doneCb = doneCb;\n    /**\n     * The goal text.\n     * @type {string}\n     */\n\n    this.goalText = goalText;\n  }\n  /**\n   * Show this step in the modal, and speak it out loud.\n   */\n\n\n  _createClass(TutorialStep, [{\n    key: \"show\",\n    value: function show() {\n      document.getElementById(this.textId).innerHTML = this.text;\n      _speaker__WEBPACK_IMPORTED_MODULE_0__[\"speaker\"].speak(this.text, true);\n    }\n  }]);\n\n  return TutorialStep;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHV0b3JpYWxfc3RlcC5qcz8wODg1Il0sIm5hbWVzIjpbIlR1dG9yaWFsU3RlcCIsInRleHQiLCJ0ZXh0SWQiLCJkb25lQ2IiLCJnb2FsVGV4dCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJzcGVha2VyIiwic3BlYWsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ2E7Ozs7Ozs7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sSUFBTUEsWUFBYjtBQUNFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNFLHdCQUFZQyxJQUFaLEVBQWtCQyxNQUFsQixFQUEwQkMsTUFBMUIsRUFBa0NDLFFBQWxDLEVBQTRDO0FBQUE7O0FBQzFDO0FBQ0o7QUFDQTtBQUNBO0FBQ0ksU0FBS0gsSUFBTCxHQUFZQSxJQUFaO0FBRUE7QUFDSjtBQUNBO0FBQ0E7O0FBQ0ksU0FBS0MsTUFBTCxHQUFjQSxNQUFkO0FBRUE7QUFDSjtBQUNBO0FBQ0E7O0FBQ0ksU0FBS0MsTUFBTCxHQUFjQSxNQUFkO0FBRUE7QUFDSjtBQUNBO0FBQ0E7O0FBQ0ksU0FBS0MsUUFBTCxHQUFnQkEsUUFBaEI7QUFDRDtBQUVEO0FBQ0Y7QUFDQTs7O0FBdENBO0FBQUE7QUFBQSwyQkF1Q1M7QUFDTEMsY0FBUSxDQUFDQyxjQUFULENBQXdCLEtBQUtKLE1BQTdCLEVBQXFDSyxTQUFyQyxHQUFpRCxLQUFLTixJQUF0RDtBQUNBTyxzREFBTyxDQUFDQyxLQUFSLENBQWMsS0FBS1IsSUFBbkIsRUFBeUIsSUFBekI7QUFDRDtBQTFDSDs7QUFBQTtBQUFBIiwiZmlsZSI6Ii4vc3JjL3R1dG9yaWFsX3N0ZXAuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBBIHNpbmdsZSBzdGVwIGluIHRoZSB0dXRvcmlhbC5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge3NwZWFrZXJ9IGZyb20gJy4vc3BlYWtlcic7XG4vKipcbiAqIEEgc3RlcCBpbiB0aGUgdHV0b3JpYWwuXG4gKi9cbmV4cG9ydCBjbGFzcyBUdXRvcmlhbFN0ZXAge1xuICAvKipcbiAgICogQ2xhc3MgZm9yIGEgc2luZ2xlIHN0ZXAgaW4gdGhlIHR1dG9yaWFsLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBzaG93IG9uIHRoZSBtb2RhbC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRJZCBUaGUgSUQgb2YgdGhlIGVsZW1lbnQgd2hlcmUgdGhlIHRleHQgd2lsbCBiZVxuICAgKiAgICAgZGlzcGxheWVkLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkb25lQ2IgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgc3RlcCBpcyBjb21wbGV0ZWRcbiAgICogICAgIGJ5IHRoZSB1c2VyLlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKHRleHQsIHRleHRJZCwgZG9uZUNiLCBnb2FsVGV4dCkge1xuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IGJlaW5nIGRpc3BsYXllZCB0byB0aGUgdXNlci5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGVsZW1lbnQgd2hlcmUgdGhlIHRleHQgd2lsbCBiZSBkaXNwbGF5ZWQuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnRleHRJZCA9IHRleHRJZDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIHN0ZXAgaXMgY29tcGxldGVkIGJ5IHRoZSB1c2VyLlxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmRvbmVDYiA9IGRvbmVDYjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBnb2FsIHRleHQuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmdvYWxUZXh0ID0gZ29hbFRleHQ7XG4gIH1cblxuICAvKipcbiAgICogU2hvdyB0aGlzIHN0ZXAgaW4gdGhlIG1vZGFsLCBhbmQgc3BlYWsgaXQgb3V0IGxvdWQuXG4gICAqL1xuICBzaG93KCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMudGV4dElkKS5pbm5lckhUTUwgPSB0aGlzLnRleHQ7XG4gICAgc3BlYWtlci5zcGVhayh0aGlzLnRleHQsIHRydWUpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/tutorial_step.js\n");

/***/ })

})